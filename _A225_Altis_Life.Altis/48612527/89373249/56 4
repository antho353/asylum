params[["_vendor",objNull,[objNull]],"","",["_type","",[""]]];private _processArray=switch(_type) do{case"cement":{[["rock"],"cement",3,"Mixing Cement",0];};case"sandr":{[["rock"],"sand",0,"Crushing Rocks",0];};case"cocaine":{[["cocaine"],"cocainep",0,"Processing Cocaine",1];};case"copper":{[["copperore"],"copper_r",7,"Processing Copper",0];};case"crank":{[["ephedrau","phos","hydro"],"crank",0,"Mixing Ingredients",0];};case"crankp":{[["crank"],"crankp",0,"Cooking Crank",0];};case"diamond":{[["diamond"],"diamondc",15,"Processing Diamond",0];};case"drilledoil":{[["oilu"],"oilp",10,"Processing Oil",0];};case"heroin":{[["heroinu"],"heroinp",0,"Processing Heroin",1];};case"iron":{[["ironore"],"iron_r",11,"Processing Iron",0];};case"marijuana":{[["cannabis"],"marijuana",0,"Processing Marijuana",1];};case"marijuanam":{[["cannabis"],"marijuanam",0,"Processing Medical Marijuana",0];};case"meth":{[["ephedra"],"meth",0,"Cooking Meth",1];};case"methcocktail":{[["ephedrau","phos","hydro"],"ephedra",0,"Mixing Ingredients",0];};case"oil":{[["oilb"],"oilp",10,"Processing Oil",0];};case"plate":{[["plateMetal"],"plate",0,"Pressing Plate",0];};case"rock":{[["rock"],"rock",0,"Examining Stone",0];};case"rum":{[["water","yeast","sugar"],"rum_0",0,"Distilling Spirits",0];};case"rumsalt":{[["saltwater","yeast","sugar"],"rum_0",0,"Distilling Spirits",0];};case"salt":{[["salt"],"salt_r",4,"Processing Salt",0];};case"sand":{[["sand"],"glass",6,"Processing Sand",0];};case"scotch":{[["water","yeast","barley"],"scotch_0",0,"Distilling Spirits",0];};case"scotch3":{[["scotch_2"],"scotch_3",0,"Adding Aging Chemicals",0];};case"scotchsalt":{[["saltwater","yeast","barley"],"scotch_0",0,"Distilling Spirits",0];};case"timber":{[["timber"],"plank",0,"Processing Pine Timber",0];};case"timberh":{[["timberh"],"plankh",0,"Processing Hardwood Timber",0];};case"timberl":{[["timberl"],"plankl",0,"Processing Olive Timber",0];};case"uraniump":{[["uraniumu"],"uraniump",0,"Enriching Uranium Ore",0];};case"whiskeyc":{[["water","yeast","barley","corn"],"whiskeyc_0",0,"Distilling Spirits",0];};case"whiskeycsalt":{[["saltwater","yeast","barley","corn"],"whiskeyc_0",0,"Distilling Spirits",0];};case"whiskeyr":{[["water","yeast","barley","rye"],"whiskeyr_0",0,"Distilling Spirits",0];};case"whiskeyrsalt":{[["saltwater","yeast","barley","rye"],"whiskeyr_0",0,"Distilling Spirits",0];};case"bluemeth":{[["meth"],"bluemeth",0,"Purifying Crystal Meth",1];};case"cokebrick":{[["cocainep"],"cokebrick",0,"Forming Cocaine Bricks",1];};case"oyster":{[["oysteru"],"oysterp",0,"Boiling Oysters",0];};case"oysterfry":{[["oysterp"],"oysterfry",0,"Frying Oysters in Oil",0];};case"moonshinehash":{[["water","yeast","corn"],"moonshinehash",0,"Making Corn Hash from Supplies",0];};case"moonshine":{[["moonshinehash"],"moonshine",0,"Distilling Corn Hash into Homebrew Moonshine",0];};case"moonshinep":{[["moonshine"],"moonshinep",0,"Purifying Moonshine into White Lightning",0];};case"goldnugget":{[["goldbar"],"goldnugget",0,"Breaking Down Gold Bar",0];};case"fungi":{[["fungi"],"lsd_0",0,"Extracting LSD Juices From Moist Fungi",1];};case"canna_joint":{[["canna_papers"],"canna_joint",0,"Rolling Joints With Cannabis",0];};case"cannai_3":{[["cannai_3"],"canna_dab",0,"Extracting THC from Indica Exo Cannabis",1];};case"cannas_3":{[["cannas_3"],"canna_dab",0,"Extracting THC from Sativa Exo Cannabis",1];};case"cannai_2":{[["cannai_2"],"cannai_3",0,"Drying Wet Indica Plants into Dried Bud",1];};case"cannas_2":{[["cannas_2"],"cannas_3",0,"Drying Wet Sativa Plants into Dried Bud",1];};default{[]};};if(_processArray isEqualTo[]) exitWith{["You don't have the items necessary.","basic"]spawn life_fnc_handleMessage;};_processArray params["_input","_output","_cost","_text","_capIndex"];if((_output isEqualTo"canna_dab")&&!(license_civ_marijuana)) exitWith{["You need a marijuana license to make wax!","basic"]spawn life_fnc_handleMessage;};private _inputVals=[];private _loggedInput=[];{_inputVals pushBack(missionNamespace getVariable(format["life_inv_%1",_x]));_loggedInput pushBack(format["(%2 %1)",["getName",_x]call life_fnc_virtItemCfg,(missionNamespace getVariable(format["life_inv_%1",_x]))]);}forEach _input;private _inputCount=selectMin _inputVals;if(_inputCount isEqualTo 0||_inputVals isEqualTo[]) exitWith{["You don't have the items necessary.","basic"]spawn life_fnc_handleMessage;};private _nBuilding=nearestBuilding player;if(_output in["crank","crankp"]&&(player distance _nBuilding<=10)) exitWith{["You're too close to a building to be messing with a mobile lab.","basic"]spawn life_fnc_handleMessage;};if(_output in["moonshinehash","moonshine"]&&(player distance _nBuilding<=10)) exitWith{["You're too close to a building to be messing with a mobile distillery.","basic"]spawn life_fnc_handleMessage;};private _processSoundArray=switch(_output) do{case("moonshinehash"):{["moonshineBoil",12,5]};case("moonshine"):{["moonshineDrip",12,5]};case("lsd_0"):{["makeLsd",6,5]};default{["",-1,-1]};};_processSoundArray params["_soundString","_soundDelay","_soundRepeat"];if!(_soundString isEqualTo"") then{[_soundString,_soundDelay,_soundRepeat]spawn{params["_soundString","_soundDelay","_soundRepeat"];for"_i"from 0 to _soundRepeat do{if(!(life_is_processing)||!(life_action_in_use)) exitWith{};if((player getVariable["ga_restrained",false])||!(alive player)) exitWith{};