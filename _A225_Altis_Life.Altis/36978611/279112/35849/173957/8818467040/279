params[["_unit",objNull,[objNull]],["_type","",[""]]];if(isNull _unit||_type isEqualTo"") exitWith{};closeDialog 0;if(_type isEqualTo"caralarm"&&!(_unit isKindOf"LandVehicle")) exitWith{["This alarm system can only be installed on cars or trucks.","basic"]spawn life_fnc_handleMessage;};if(_type isEqualTo"airalarm"&&!(_unit isKindOf"Air")) exitWith{["This alarm system can only be installed in air vehicles","basic"]spawn life_fnc_handleMessage;};if(player distance _unit>7) exitWith{["You need to be within 7 meters!","basic"]spawn life_fnc_handleMessage;};if!([false,_type,1]call life_fnc_handleInv) exitWith{};private _mods=_unit getVariable["ga_mods",[0,0,0,0]];if((_mods select 0) isEqualTo 1) exitWith{["This vehicle already has an alarm system.","basic"]spawn life_fnc_handleMessage;