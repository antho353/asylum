params[["_caseType","",[""]],["_gulagData",[],[[]]]];switch(_caseType) do{case("askToJoin"):{_gulagData params[["_corpse",objNull,[objNull]],["_caller",objNull,[objNull]]];if(playerSide!=civilian) exitWith{};private _dialogQuestion=[format["Do you wish to participate in the Gulag, for a chance to parachute and respawn with your full loadout?"],format["%1 Gulag",ASY_worldName],"Yes","No"]call BIS_fnc_guiMessage;if!(_dialogQuestion) exitWith{};[format["Request sent to be entered into the Gulag of %1...",ASY_worldName]]spawn life_fnc_handleMessage;uiSleep(random 2);uiSleep(random 1);[["addPlayer",[getPlayerUID player]],"TON_fnc_dominationGulagSRV",2]spawn life_fnc_MP;private _timer=(findDisplay 7300) displayCtrl 7301;private _respawnBtn=(findDisplay 7300) displayCtrl 7302;_respawnBtn ctrlEnable false;private _waitTime=time+20;waitUntil{(player distance2D(getMarkerPos"nuketown")<=100)||(round(_waitTime-time)<=0)};if((round(_waitTime-time)<=0)&&!(player distance2D(getMarkerPos"nuketown")<=100)) then{[format["Your request has been denied, please respawn!"]]spawn life_fnc_handleMessage;_respawnBtn ctrlEnable true;};};case("startGulag"):{_gulagData params[["_gulagTime",0,[0]],["_gulagLoadout",[],[[]]],["_caller",objNull,[objNull]],["_corpse",objNull,[objNull]],["_posData",[[0,0,0],360],[[]]]];_posData params["_pos","_dir"];disableUserInput true;if(life_isDead) then{life_respawned=true;player setDir _dir;player setPosASL _pos;closeDialog 0;life_deathCamera cameraEffect["TERMINATE","BACK"];camDestroy life_deathCamera;if!(isNil"life_suicide") then{life_suicide=nil};{if!(isNil{player getVariable _x}) then{player setVariable[_x,nil,true];};}forEach["ga_revivable","ga_reviving","ga_executing"];life_isDead=false;[]call life_fnc_hudUpdate;player switchMove"amovppnemstpsnonwnondnon";[]spawn{uiSleep 3;[]call life_fnc_ClUpdateRequest;};};player setDir _dir;player setPosASL _pos;disableUserInput false;playSound"domGulagIntro2";player setDamage 0;player setUnitLoadout _gulagLoadout;life_dominationGulagData set[2,true];};case("wonGulag"):{if(life_isDead) then{life_respawned=true;player setDir(getDir life_corpse);player setPosASL(visiblePositionASL life_corpse);closeDialog 0;