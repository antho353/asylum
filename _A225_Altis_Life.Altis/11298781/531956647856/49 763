if(life_gang_data isEqualTo[]) exitWith{};params[["_flag",objNull,[objNull]]];_flag getVariable["ga_turf_data",[-1,"Unknown",false,"Unknown"]]params[["_gangID",-1,[0]],["_gangName","Unknown",[""]],["_active",false,[false]],["_playerCapturer","Unknown",[""]]];private _ownsFortress=(!((gang_fortress_flag getVariable["ga_gang_fortress_data",[-1,"Unknown",false,"Unknown",grpNull]]) param[2,false])&&((gang_fortress_flag getVariable["ga_gang_fortress_data",[-1,"Unknown",false,"Unknown",grpNull]]) param[0,-1]) isEqualTo(life_gang_data param[0,-1]));if!(_active) exitWith{};if(_ownsFortress) exitWith{["You can't capture a turf while owning the gang fortress!","basic"]spawn life_fnc_handleMessage;};if((currentWeapon player) in["","Binocular","Rangefinder","hgun_Pistol_Signal_F"]) exitWith{["You can't take a turf without a weapon.","basic"]spawn life_fnc_handleMessage;};if(_gangID isEqualTo(life_gang_data select 0)) exitWith{["Your gang is already in line to control this turf.","basic"]spawn life_fnc_handleMessage;};private _turfCount=0;{_x getVariable["ga_turf_data",[-1,"Unknown",false,"Unknown"]]params[["_gangID",-1,[0]],["_gangName","Unknown",[""]],["_active",false,[false]],["_playerCapturer","Unknown",[""]]];if(_gangID isEqualTo(life_gang_data select 0)) then{_turfCount=_turfCount+1};}forEach[rodo_flag,zaros_flag,panagia_flag];if(_turfCount>=2) exitWith{["A gang cannot control more than two turfs at a time.","basic"]spawn life_fnc_handleMessage;};private _friendlyInArea=allPlayers select{player distance _x<750&&(_x getVariable["gang_data",[-1]]select 0) isEqualTo(life_gang_data select 0)};if(count _friendlyInArea>5) exitWith{["Turfs cannot be captured by a gang with more than 5 players nearby.","basic"]spawn life_fnc_handleMessage;};["Capturing turf. No more than 5 gang members can be inside this turf during the contested time","basic"]spawn life_fnc_handleMessage;