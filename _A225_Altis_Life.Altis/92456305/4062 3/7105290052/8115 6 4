#include"..\..\..\macro.h"
params[["_name","",[""]],["_gangData",[],[[]]],["_gangTalentsXP",[],[[]]],"_gangHouse"];if(_name isEqualTo""||_gangData isEqualTo[]) exitWith{};if!(life_gang_data isEqualTo[]) exitWith{};if!(playerSide isEqualTo civilian) exitWith{};if(life_gangInvitesIgnored) exitWith{};private _gangID=_gangData select 0;private _gangName=_gangData select 1;private _action=[format["%1 has invited you to a gang called %2<br/>If you accept the invitation you will be a part of their gang and will have access to the gang house where you can spawn and utilize other features.",_name,_gangName],"Gang Invitation","Accept","Decline"]call BIS_fnc_guiMessage;if(_action) then{[[0,_gangID,_gangName,player,5,_name],"TON_fnc_updateGangMem",2]spawn life_fnc_MP;life_gang_data=[_gangID,_gangName,5,_gangData param[3,[0,0,0]]];life_gang_talents=_gangTalentsXP select 0;life_gang_exp=_gangTalentsXP select 1;life_gangBuilding=_gangHouse;if!(_gangHouse isEqualTo[objNull,[]]) then{private _marker=createMarkerLocal[format["phouse_%1%2",_gangID,(_gangHouse select 0) getVariable["ga_homeOwner",""]],getPosATL(_gangHouse select 0)];