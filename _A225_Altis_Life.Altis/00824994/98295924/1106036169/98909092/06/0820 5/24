private _itemList=((findDisplay 39400) displayCtrl 39403);private _buyBtn=((findDisplay 39400) displayCtrl 39405);lbClear _itemList;private _itemInfo="";private _itemName="";private _index=0;private["_vehInfo"];{_x params["_className","_customName","_skinCrateRewardID","_price"];_vehInfo=[_className]call life_fnc_fetchVehInfo;_itemName=_customName;_index=_itemList lbAdd _itemName;_itemList lbSetData[_index,str _skinCrateRewardID];_itemList lbSetPicture[(lbSize _itemList)-1,(_vehInfo select 2)];_itemList lbSetValue[_index,_price];}forEach _itemArray;((findDisplay 39400) displayCtrl 39405) ctrlSetText"Buy";_itemList ctrlSetEventHandler["LBSelChanged",format["[_this, '%1'] call life_fnc_vehicleSkinShopSelection"]];_buyBtn ctrlSetEventHandler["ButtonClick",format["[((findDisplay 39400) displayCtrl 39403), lbCurSel 39403, '%1'] call life_fnc_vehicleSkinShopBuy"]];