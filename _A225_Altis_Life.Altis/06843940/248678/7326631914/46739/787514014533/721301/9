#include"..\..\..\..\..\..\macro.h"
if((call life_adminLevel)<2) exitWith{closeDialog 0;};disableSerialization;waitUntil{!isNull(findDisplay 2900)};private _display=findDisplay 2900;private _playerList=_display displayCtrl 2901;private _vehicleList=_display displayCtrl 2943;{(_display displayCtrl _x) ctrlShow false;}forEach[2915,2916,1617,2920,2921,2922,2924,2925];(_display displayCtrl 2904) ctrlEnable false;showChat false;lbClear _playerList;lbClear _vehicleList;private _index=-1;{(switch(side _x) do{case civilian:{[[0.7,0,1,1],(group _x) getVariable["ga_grpTag",""]]};case west:{[[0,0.5,1,1],_x getVariable["ga_copLevel",0]]};case independent:{[[0,0.5,0,1],_x getVariable["ga_medLevel",0]]};}) params["_color","_tag"];if(side _x isEqualTo west) then{_tag=switch(_tag) do{case 1:{"[Cadet] "};case 2:{"[Constable] "};case 3:{"[Corporal] "};case 4:{"[Sergeant] "};case 5:{"[Lieutenant] "};case 6:{"[Captain] "};default{""};};};if(side _x isEqualTo independent) then{_tag=switch(_tag) do{case 1:{"[EMR]"};case 2:{"[EMT]"};case 3:{"[AEMT]"};case 4:{"[Paramedic]"};case 5:{"[Asst. Chief]"};case 6:{"[Chief]"};default{""};};};_index=_playerList lbAdd format["%1 %2",name _x,_tag];_playerList lbSetColor[_index,_color];_playerList lbSetPictureRight[_index,if(isNull objectParent _x) then{""}else{getText(configfile>>"CfgVehicles">>typeOf(vehicle _x)>>"picture")}];_playerList lbSetData[_index,str _x];}forEach allPlayers;lbSort _playerList;if((call life_adminLevel)<2) exitWith{closeDialog 0;};private _waterVeh=[["Boat | Rescue Boat","B_Lifeboat"],["Boat | Motorboat","C_Boat_Civil_01_F"],["Boat | SDV","B_SDV_01_F"],["Boat | RHIB","C_Boat_Transport_02_F"],["Boat | Jetski","C_Scooter_Transport_01_F"],["Boat | Assault Boat","B_Boat_Transport_01_F"]];private _landVeh=[["Kart | Random","C_Kart_01_F"],["Auto | Quadbike","B_Quadbike_01_F"],["Auto | Hatchback","C_Hatchback_01_F"],["Auto | Hatchback Sport","C_Hatchback_01_sport_F"],["Auto | SUV","C_SUV_01_F"],["Auto | Qilin","O_T_LSV_02_unarmed_F"],["Auto | Prowler","B_T_LSV_01_unarmed_F"],["Auto | Offroad","B_G_Offroad_01_F"],["Auto | Offroad (Comms)","C_Offroad_01_comms_F"],["Auto | 4WD Offroad","C_Offroad_02_unarmed_F"],["Auto | Box Truck","C_Van_01_box_F"],["Auto | Fuel Truck","C_Van_01_fuel_F"],["Auto | Van Cargo","B_G_Van_02_vehicle_F"],["Auto | Van Transport","B_G_Van_02_transport_F"],["Auto | Tractor","C_Tractor_01_F"],["Truck | HEMTT Transport","B_Truck_01_transport_F"],["Truck | HEMTT Fuel","B_Truck_01_fuel_F"],["Truck | HEMTT Box","B_Truck_01_box_F"],["Truck | Tempest Transport","O_Truck_03_transport_F"],["Truck | Tempest Covered","O_Truck_03_covered_F"],["Truck | Tempest Fuel","O_Truck_03_fuel_F"],["Truck | Tempest Device","O_Truck_03_device_F"],["Truck | Zamak Transport","O_Truck_02_transport_F"],["Truck | Zamak Covered","O_Truck_02_covered_F"],["Truck | Zamak Fuel","I_Truck_02_fuel_F"],["Armored | Hunter","B_MRAP_01_F"],["Armored | Ifrit","O_MRAP_02_F"],["Armored | Strider","I_MRAP_03_F"]];