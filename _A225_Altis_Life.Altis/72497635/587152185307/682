if(_itemNo in[56,57,64,65]) exitWith{"images\horn_limited.jpg"};format["images\loot%1.jpg",_itemNo];};for"_i"from 0 to((count _itemQueue)-2) do{if(_i>0) then{_tickBox1 ctrlSetText format["%1",[(_itemQueue select(_i-1)) select 0,_bustItems]call _asy_image];};_tickBox2 ctrlSetText format["%1",[(_itemQueue select _i) select 0,_bustItems]call _asy_image];_tickBox3 ctrlSetText format["%1",[(_itemQueue select(_i+1)) select 0,_bustItems]call _asy_image];playSound"loottick";uiSleep 1.5;};_rewardFrame ctrlShow true;private _busted=!(_bustItems findIf{life_lootReturn in _x}isEqualTo-1);private _rewardSound=switch(true) do{case(_rewardItem in(_tier select 1)):{"lootreward2"};case(_rewardItem in(_tier select 2)):{"lootreward3"};default{"lootreward1"};};playSound _rewardSound;uiSleep 4;closeDialog 0;[false,format["lootcrate%1",_type],1]call life_fnc_handleInv;disableUserInput false;if((life_lootKeys select(_type-1))>0&&(missionNamespace getVariable format["life_inv_lootcrate%1",_type])>0) then{[_type]call life_fnc_inspectLootCrate;};if(life_lootReturn in life_lootRewards) exitWith{if(_busted) then{["Sorry you busted. Since you've already hit this bust once before gold has been applied to your account.","basic"]spawn life_fnc_handleMessage;}else{["Because you've won a reward you already had, gold has been applied to your account for future key purchases.","basic"]spawn life_fnc_handleMessage;};};life_lootRewards pushBack life_lootReturn;["lootcrateopened",1]call life_fnc_statArrUpdate;if(_busted) then{["Sorry you busted! Better luck next time!","basic"]spawn life_fnc_handleMessage;}else{[format["Congrats, your account can now purchase %1 from stores!",_rewardItem select 1],"basic"]spawn life_fnc_handleMessage;};