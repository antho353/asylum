life_action_in_use=true;disableSerialization;5 cutRsc["life_progress","PLAIN"];private _ui=uiNameSpace getVariable"life_progress";private _success=false;private _progress=_ui displayCtrl 38201;private _pgText=_ui displayCtrl 38202;_pgText ctrlSetText"Uploading Virus";_progress progressSetPosition 0.01;private _cP=0.01;for"_i"from 0 to 1 step 0 do{if(random(100)>=50) then{uiSleep 0.35;}else{uiSleep 0.25;};_cP=_cP+0.01;_progress progressSetPosition _cP;_pgText ctrlSetText format["Uploading virus... (%1%2)",round(_cP*100),"%"];if(_cp>=1) exitWith{_success=true;};if(!alive player||player getVariable["ga_restrained",false]||player getVariable["ga_downed",false]) exitWith{};if((player distance _target)>10) exitWith{["You need to stay near the laptop to complete the virus upload!","basic"]spawn life_fnc_handleMessage;};if!(isNull objectParent player) exitWith{};if(life_prison_inProgress) exitWith{["There is already a prison break in progress!","basic"]spawn life_fnc_handleMessage;};};5 cutText["","PLAIN"];if!(_success) exitWith{life_action_in_use=false;};if(life_prison_inProgress) exitWith{["There is already a prison break in progress!","basic"]spawn life_fnc_handleMessage;life_action_in_use=false;};if!([4]call life_fnc_policeRequired) exitWith{life_action_in_use=false;};["The virus has been uploaded into the Prison security system and is infecting the network. The prisoners will have the ability to escape after 10 minutes. Keep the police away from the computer terminal!","basic"]spawn life_fnc_handleMessage;life_action_in_use=false;if(life_prison_inProgress) exitWith{["There is already a prison break in progress!","basic"]spawn life_fnc_handleMessage;};[[1,player,getPlayerUID player,group player],"TON_fnc_handlePrisonBreak",2]spawn life_fnc_MP;