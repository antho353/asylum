private _nearbyGangs=[];{_nearbyGangs pushBackUnique[(_x getVariable["gang_data",[0]]select 0),(_x getVariable["gang_data",[0,""]]select 1)]}forEach _nearbyPlayers;private _playerGroupMembers=units group player;private _groupGangIDs=_playerGroupMembers apply{_x getVariable["gang_data",[0]]param[0,0]};private _isContested=((_nearbyGangs findIf{((_x select 0) isNotEqualTo-1)&&!((_x select 0) in _groupGangIDs)}) isNotEqualTo-1);private _onlyUsInRadius=(((count _nearbyGangs) isEqualTo 1)&&((_nearbyGangs param[0,0]) isEqualTo(_playerGangID)));private _ourHardpoint=(_currentGangID isEqualTo _playerGangID);private _ourGangCount=count(allPlayers select{(side _x isEqualTo civilian)&&((_x getVariable["gang_data",[0]]select 0) isEqualTo _playerGangID)&&(_x inArea"domination_hardpoint")});private _hardPointGangs=[[-1,"Unknown",0]];private _hardPointWinningGang=[-1,"Unknown",0];{_x params["_xGangID","_xGangName"];_playerCount=count(allPlayers select{(side _x isEqualTo civilian)&&((_x getVariable["gang_data",[0]]select 0) isEqualTo _xGangID)&&(_x inArea"domination_hardpoint")});_hardPointGangs pushBack[_xGangID,_xGangName,_playerCount];}forEach _nearbyGangs;{_x params["_xGangID","_xGangName","_xGangCount"];if(_xGangCount>(_hardPointWinningGang param[2,0])) then{_hardPointWinningGang=_x};}forEach _hardPointGangs;_hardPointWinningGang params["_wGangID","_wGangName","_wGangCount"];private _areWeWinning=(_playerGangID isEqualTo _wGangID);if(_areWeWinning) then{_title=if(_isContested) then{format["%1 Hardpoint Controlled by %2 (Contested)",_defaultFlagName,_wGangName]}else{format["%1 Hardpoint Controlled by %2",_defaultFlagName,_wGangName]};if(_isHardpointActive&&(_currentGangID isNotEqualTo _playerGangID)) then{_captureFlagObj setVariable["ga_domination_hardpoint",[true,_wGangID,_wGangName,_wGangCount],true];};}else{_title=if(_isContested) then{format["%1 Hardpoint Losing to %2 (Contested)",_defaultFlagName,_wGangName]}else{format["%1 Hardpoint Losing to %2",_defaultFlagName,_wGangName]};};_titleText ctrlSetText _title;};5 cutText["","PLAIN"];