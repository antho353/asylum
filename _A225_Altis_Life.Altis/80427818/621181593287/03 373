_list lbSetPicture[_index,_itemPic];_list lbSetData[_index,_item];_list lbSetValue[_index,_price];}forEach _sellItems;};disableSerialization;createDialog"life_market_menu";waitUntil{!isNull(findDisplay 5300)};private _display=findDisplay 5300;[_display]spawn life_fnc_p_updateMenu;private _list=_display displayCtrl 5301;private _details=_display displayCtrl 5302;private _filterList=_display displayCtrl 5303;_filterList lbSetCurSel 0;{private _shopInfo=[_x]call life_fnc_virt_shops;_shopInfo params[["_title",""],["_buyItems",[]],["_sellItems",[]]];private _index=_filterList lbAdd _title;_filterList lbSetData[_index,_x];}forEach["heroin","wongs","rebel","market","oil","fishmarket","diamond","salt","commod","blackmarket","africanwarlord"];_details ctrlSetStructuredText parseText"<t size='0.90' align='center'>Market Sell Prices:</t>";_filterList ctrlAddEventHandler["LBSelChanged",format["[_this] call %1;",_filterFunction]];_filterList lbSetCurSel 0;