if!(isNull _holder) then{private _distance=_player distance2D _holder;if(_distance>5) then{_holder=createVehicle["groundWeaponHolder",getPosATL _player,[],0,"can_collide"];};}else{_holder=createVehicle["groundWeaponHolder",getPosATL _player,[],0,"can_collide"];};private _itemClass=([_classname]call BIS_fnc_itemType) select 1;switch _itemClass do{case"Backpack":{_holder addBackpackCargoGlobal[_classname,_count];};default{if((_itemClass isKindOf["Rifle",configFile>>"CfgWeapons"])||(_itemClass isKindOf["Launcher",configFile>>"CfgWeapons"])||(_itemClass isKindOf["Pistol",configFile>>"CfgWeapons"])) then{_holder addWeaponCargoGlobal[_classname,_count];}else{_holder addItemCargoGlobal[_classname,_count];};};};[[true],"life_fnc_saveGear",_player,false]spawn life_fnc_MP;[[_holder,300],"TON_fnc_setCleanTime",2]spawn life_fnc_MP;};private _holder=nearestObject[player,"groundWeaponHolder"];for"_i"from 1 to _quantity do{switch(true) do{case(_trunkItemSelected isKindOf["Rifle",configFile>>"CfgWeapons"]):{_inv=[_trunkItemSelected,_inv]call _fnc_adjustArray;[life_trunk_vehicle,_inv]call _fnc_updatePhysicalTrunk;};case(_trunkItemSelected isKindOf["Launcher",configFile>>"CfgWeapons"]):{_inv=[_trunkItemSelected,_inv]call _fnc_adjustArray;[life_trunk_vehicle,_inv]call _fnc_updatePhysicalTrunk;};case(_trunkItemSelected isKindOf["Pistol",configFile>>"CfgWeapons"]):{_inv=[_trunkItemSelected,_inv]call _fnc_adjustArray;[life_trunk_vehicle,_inv]call _fnc_updatePhysicalTrunk;};case(_itemClass isEqualTo"Headgear"):{_inv=[_trunkItemSelected,_inv]call _fnc_adjustArray;[life_trunk_vehicle,_inv]call _fnc_updatePhysicalTrunk;};case(_itemClass isEqualTo"Glasses"):{_inv=[_trunkItemSelected,_inv]call _fnc_adjustArray;[life_trunk_vehicle,_inv]call _fnc_updatePhysicalTrunk;};case(_itemClass isEqualTo"Vest"):{_inv=[_trunkItemSelected,_inv]call _fnc_adjustArray;[life_trunk_vehicle,_inv]call _fnc_updatePhysicalTrunk;};case(_itemClass isEqualTo"Backpack"):{_inv=[_trunkItemSelected,_inv]call _fnc_adjustArray;[life_trunk_vehicle,_inv]call _fnc_updatePhysicalTrunk;};case(_itemClass isEqualTo"Uniform"):{_inv=[_trunkItemSelected,_inv]call _fnc_adjustArray;[life_trunk_vehicle,_inv]call _fnc_updatePhysicalTrunk;};case(_itemClass isEqualTo"NVGoggles"):{_inv=[_trunkItemSelected,_inv]call _fnc_adjustArray;[life_trunk_vehicle,_inv]call _fnc_updatePhysicalTrunk;};default{_inv=[_trunkItemSelected,_inv]call _fnc_adjustArray;[life_trunk_vehicle,_inv]call _fnc_updatePhysicalTrunk;};};};[_trunkItemSelected,_quantity,life_trunk_vehicle,player,_holder]call _fnc_dropItem;[life_trunk_vehicle,life_is_virtual]call life_fnc_refreshInventory;