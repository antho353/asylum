life_deathCamera cameraEffect["TERMINATE","BACK"];camDestroy life_deathCamera;if!(isNil"life_suicide") then{life_suicide=nil};{if!(isNil{player getVariable _x}) then{player setVariable[_x,nil,true];};}forEach["ga_revivable","ga_reviving","ga_executing"];life_isDead=false;[]call life_fnc_hudUpdate;player switchMove"amovppnemstpsnonwnondnon";[]spawn{uiSleep 3;[]call life_fnc_ClUpdateRequest;};};life_dominationGulagData set[2,false];[format["Congrats you won the Gulag of %1!",ASY_worldName]]spawn life_fnc_handleMessage;["<t color='#3d85c6' size='.8'>Winner!<br />You have won the gulag!</t>",-1,-1,4,1,0,789]spawn BIS_fnc_dynamicText;private _deadLoadout=life_dominationGulagData param[0,[]];private _asy_pos=life_dominationGulagData param[1,[]];private _asy_dmg=player;_asy_pos set[2,900];player switchMove"amovppnemstpsnonwnondnon";[_deadLoadout]call life_fnc_loadDeadGear;["You have been outfitted with all of your old gear. All your mags have been refilled","basic"]spawn life_fnc_handleMessage;[]spawn{uiSleep 0.5;[uniform player,"setUniform",""]call life_fnc_clothingTextures;};player switchMove"amovppnemstpsnonwnondnon";uiSleep 1;player enableFatigue false;_asy_dmg addBackpack"B_Parachute";_asy_dmg setDamage 0;_asy_dmg setPosATL _asy_pos;waitUntil{(getPosATL _asy_dmg) select 2<3};[_deadLoadout]call life_fnc_loadDeadGear;uiSleep 0.5;private _startMags=count(magazinesAmmoFull[player,true]);private _magazines=[];private _capacity=0;{_x params["_magClassname","_magCurrentAmmo","_loaded"];if!("Grenade"in _magClassname||"Smoke"in _magClassname||"Chem"in _magClassname) then{_capacity=getNumber(configFile>>"CfgMagazines">>_magClassname>>"count");if!(_loaded) then{_magazines pushBack _magClassname;};};}forEach(magazinesAmmoFull[player,true]);player setAmmo[primaryWeapon player,1000];player setAmmo[handgunWeapon player,1000];{_x params["_magClassname","_magCurrentAmmo"];if!("Grenade"in _magClassname||"Smoke"in _magClassname||"Chem"in _magClassname) then{player removeMagazine _magClassname;};}forEach(magazinesAmmoFull[player,true]);{player addMagazine[_x,1000];}forEach _magazines;player enableFatigue false;};case("lostGulag"):{life_dominationGulagData set[2,false];["<t color='#3d85c6' size='.8'>Loser!<br />You have lost the gulag!</t>",-1,-1,4,1,0,789]spawn BIS_fnc_dynamicText;uiSleep 10;life_respawned=true;[]call life_fnc_doRespawn;};};