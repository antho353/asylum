uiSleep 15;};if((ASY_Server isEqualTo 2)&&!(SRV_dominationSrtActive)) exitWith{["SRTnotAllowed",false,true]call BIS_fnc_endMission;uiSleep 15;};player setVariable["ga_copLevel",call life_copLevel,true];player setVariable["ga_nonlethal",true,true];life_coprole=switch(true) do{case(ASY_Server isEqualTo 2):{""};case(call life_copLevel>=6||call life_adminLevel>=3):{"all"};case((str player) in["cop_warrant_1","cop_warrant_2","cop_warrant_3","cop_warrant_4","cop_warrant_5"]):{"warrant"};case((str player) in["cop_medic_1","cop_medic_2","cop_medic_3","cop_medic_4"]):{"medic"};case((str player) in["cop_detective_1","cop_detective_2","cop_detective_3","cop_detective_4"]):{"detective"};default{""};};player setVariable["ga_copRole",life_coprole,true];if!(call life_fnc_isDominationActive) then{if(life_coprole in["detective","all"]) then{player setVariable["ga_showrank",false,true];}else{player setVariable["ga_showrank",true,true];};};[]call life_fnc_spawnMenu;waitUntil{!isNull(findDisplay 38500)};waitUntil{isNull(findDisplay 38500)};life_maxWeight=90;life_maxTalents=20;if((call life_copLevel)>2) then{life_maxTalents=life_maxTalents+(2*((call life_copLevel)-2));};[]spawn life_fnc_trackMarkers;[uniform player,"setUniform",""]call life_fnc_clothingTextures;life_track_radius=switch(true) do{case(8 in life_cop_talents):{200};case(7 in life_cop_talents):{300};case(6 in life_cop_talents):{400};case(5 in life_cop_talents):{500};case(4 in life_cop_talents):{800};case(3 in life_cop_talents):{900};case(2 in life_cop_talents):{1000};default{1400};};private _copAll=count(allPlayers select{(_x getVariable["ga_copRole",""]isEqualTo"all")});private _copDetective=count(allPlayers select{(_x getVariable["ga_copRole",""]isEqualTo"detective")});private _copMedic=count(allPlayers select{(_x getVariable["ga_copRole",""]isEqualTo"medic")});private _copWarrant=count(allPlayers select{(_x getVariable["ga_copRole",""]isEqualTo"warrant")});if(life_coprole in["all","warrant","detective","medic"]) then{if(_copAll>0||_copDetective>0||_copMedic>0||_copWarrant>0) then{[["-JESSELOG-",player,profileName,format["logged on with %1 cops online. %2 detectives, %3 cop medics, %4 warrant officers and %5 cop role all online.",_copCount,_copDetective,_copMedic,_copWarrant,_copAll]],"TON_fnc_logIt",2]spawn life_fnc_MP;};};