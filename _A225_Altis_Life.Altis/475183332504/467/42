params[["_caseType","",[""]],"_sprayCanData"];private _subscriber=call life_subscribed;private _donorLevel=call life_donorLevel;switch(_caseType) do{case("createSpray"):{_sprayCanData params[["_cursorObject",objNull,[objNull]]];if(serverTime<(profileNamespace getVariable["ga_recent_spray",[0,0]]param[1,0])) exitWith{[format["You have a recent spray active! Try again in %1 second(s).",round((profileNamespace getVariable["ga_recent_spray",[0,0]]param[1,0])-serverTime)],"basic"]spawn life_fnc_handleMessage;};private _savedSprayImage=profileNameSpace getVariable["ga_savedSprayImage",[0,"Dog Poop","images\spraycan\sprayPoopDog.paa",_subscriber]];_savedSprayImage params["_IDX","_Name","_Path","_Unlocked"];if!(_Unlocked) exitWith{};if((player distance2D _cursorObject>=20)||(isNull _cursorObject)) then{_sprayObject=createVehicle["UserTexture1m_F",[(getPosATL player param[0,0]),(getPosATL player param[1,0]),((getPosATL player param[2,0])+0.02)],[],0,"CAN_COLLIDE"];_sprayObject setVectorUp surfaceNormal getPosWorld _sprayObject;private _y=45;private _p=-90;private _r=0;_sprayObject setVectorDirAndUp[[sin _y*cos _p,cos _y*cos _p,sin _p],[[sin _r,-sin _p,cos _r*cos _p],-_y]call BIS_fnc_rotateVector2D];_sprayObject setPosATL[(getPosATL player param[0,0]),(getPosATL player param[1,0]),(getPosATL player param[2,0])+0.05];_sprayObject setObjectTextureGlobal[0,_Path];playSound"sprayCanStart";[[player,"sprayCanEnd"],"life_fnc_playSound",(allPlayers select{(_x distance player)<=25})]spawn life_fnc_MP;