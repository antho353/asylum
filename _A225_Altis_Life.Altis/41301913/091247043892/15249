params[["_type","",[""]]];private _unit=cursorObject;if(isNull _unit) exitWith{};if!(_unit isKindOf"CAManBase") exitWith{};if!(isNull objectParent player) exitWith{["This action cannot be performed from within a vehicle.","basic"]spawn life_fnc_handleMessage;};if((player distance _unit)>10) exitWith{["You are too far away.","basic"]spawn life_fnc_handleMessage;};if(serverRestartLock) exitWith{["You cannot access this menu right now. Try again after the restart!","basic"]spawn life_fnc_handleMessage;};if(player getVariable["ga_restrained",false]) exitWith{};if(player getVariable["ga_surrendered",false]) exitWith{};disableSerialization;["life_simple_shop"]call life_fnc_createDialog;private _config=[_type]call life_fnc_weaponShopCfg;if(_config isEqualType"") exitWith{closeDialog 0;};_config params["_shopTitle","_itemArray"];