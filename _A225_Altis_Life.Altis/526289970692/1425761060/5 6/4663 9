[["-PHONEBOMB-",player,profileName,format["attached a remote explosive to a %1, Plate: %2, belonging to %3, POS: %4.",(getText(configFile>>"CfgVehicles">>(typeOf _vehicle)>>"displayName")),_plateID,_vehOwner,getPos _vehicle]],"TON_fnc_logIt",2,false,false]spawn life_fnc_MP;[format["You have inserted a remote explosive to this %1. Call your remote detonator via the cellphone app!",_displayName]]spawn life_fnc_handleMessage;life_remoteExplosive=+[_vehicle,_plateID];_vehicle setVariable["ga_phoneBombActive",true,true];profileNamespace setVariable["ga_cellphone_bomb",[ASY_instance_id,_vehicle,_plateID]];};case("callInBomb"):{if(_vehicle isNotEqualTo(life_remoteExplosive param[0,objNull])) exitWith{};private _distanceMeters=round(player distance2D _vehicle);private _damageRadius=15;if(_distanceMeters>=1000) exitWith{[format["You must be within 1km of your remote explosive to reach it's signal. You are currently %1 meters away.",_distanceMeters],"basic"]spawn life_fnc_handleMessage};(_vehicle getVariable["ga_dbInfo",[]]) params[["_vehOwner","",[""]],["_plate",-1,[0]]];[]spawn{life_phoneCallStatus=1;if!(isNull(findDisplay 9500)) then{[]spawn life_fnc_cellphone_call;};uiSleep 3;life_phoneCallStatus=2;if!(isNull(findDisplay 9500)) then{[]spawn life_fnc_cellphone_call;};uiSleep 5;life_phoneCallStatus=0;if!(isNull(findDisplay 9500)) then{[]spawn life_fnc_cellphone_call;};};["You have started calling your remote detonator...","basic"]spawn life_fnc_handleMessage;playSound"bombPhoneInit";uiSleep 3.7;playSound"bombPhoneAnswer";uiSleep 0.5;playSound"bombPhoneAnswerTalk";uiSleep 2;playSound"bombPhoneLoop";uiSleep 1;private _bomb="Bo_Mk82"createVehicle[0,0,9999];private _asy_pos=getPosATL _vehicle;_bomb setPosATL _asy_pos;_bomb setVelocity[100,0,0];private _nearVehicles=nearestObjects[_vehicle,["Car","Truck","Air","Ship"],15];{private _asy_dmg=_x;_asy_dmg setDamage 1;}forEach _nearVehicles;[["-PHONEBOMB-",player,profileName,format["detonated their remote explosive attached to a %1, Plate: %2, belonging to %3, POS: %4.",(getText(configFile>>"CfgVehicles">>(typeOf _vehicle)>>"displayName")),_plate,_vehOwner,getPos _vehicle]],"TON_fnc_logIt",2,false,false]call life_fnc_MP;[[0,format["A remote explosive planted by %1 has detonated!",profileName]],"life_fnc_broadcast",-2]spawn life_fnc_MP;[[2,player],"TON_fnc_wantedAdd",2]spawn life_fnc_MP;["remotecarexplosive",1]call life_fnc_statArrUpdate;life_remoteExplosive=+[objNull,-1];profileNamespace setVariable["ga_cellphone_bomb",[ASY_instance_id,objNull,-1]];};};