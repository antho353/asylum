#include"..\..\..\macro.h"
if(scriptAvailable(3)) exitWith{};if((life_cashCache!=((life_cash/4)+7))||(life_atmcashCache!=((life_atmcash/4)+5))) exitWith{[["-HACKEDMONEY-",player,profileName,format["File: %1 - money tampering attempted! Cash: %2 - Expected cash: %3 | Bank: %4 - Expected bank: %5.",_fnc_scriptName,[life_cash]call life_fnc_numberText,[((life_cashCache-7)*4)]call life_fnc_numberText,[life_atmCash]call life_fnc_numberText,[((life_atmCashCache-5)*4)]call life_fnc_numberText]],"TON_fnc_logIt",2]spawn life_fnc_MP;[[profileName,"Attempting to hack money variable."],"life_fnc_notifyAdmins",-2,false]spawn life_fnc_MP;["MemHackCash",false,false]call compile PreProcessFileLineNumbers"\a3\functions_f\Misc\fn_endMission.sqf";};disableSerialization;if((lbCurSel 341003) isEqualTo-1) exitWith{["You didn't selected anyone to give this to","basic"]spawn life_fnc_handleMessage;false};private _unit=allUnits param[allUnits findIf{(getPlayerUID _x) isEqualTo(lbData[341003,lbCurSel 341003])},objNull];if((isNull _unit)||(_unit isEqualTo player)) exitWith{false};private _cashAmount=parseNumber(ctrlText 341002);if(_cashAmount<=0) exitWith{["You didn't input any money to give","basic"]spawn life_fnc_handleMessage;false};if(_cashAmount>life_cash) exitWith{["You don't have that much to give!","basic"]spawn life_fnc_handleMessage;false};if(_cashAmount>999999) exitWith{["You can't give more than $999,999 at a time.","basic"]spawn life_fnc_handleMessage;false};if(!life_use_atm) exitWith{["You recently robbed a store! You can't give money away just yet.","basic"]spawn life_fnc_handleMessage;