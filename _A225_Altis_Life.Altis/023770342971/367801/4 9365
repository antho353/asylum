_marker setMarkerTextLocal"Gang Building";_marker setMarkerColorLocal"ColorGreen";_marker setMarkerTypeLocal"mil_end";life_gangBldgMark=_marker;};player setVariable["gang_data",life_gang_data,true];if(([life_my_gang,randomized_life_group_list]call life_fnc_index) isEqualTo-1) then{private _newGroup=allGroups param[allGroups findIf{_x getVariable["gang_id",-5]isEqualTo(life_gang_data select 0)},grpNull];if!(isNull _newGroup) then{[player]join _newGroup;}else{_newGroup=group player;_newGroup setVariable["gang_id",life_gang_data select 0,true];_newGroup setVariable["gang_name",life_gang_data select 1,true];[[life_gang_data select 0,"",_newGroup],"TON_fnc_setGangTagSRV",2]spawn life_fnc_MP;};[]spawn{uiSleep 0.5;private _units=(units group player) apply{getPlayerUID _x};[["-GANGGRP-",player,profileName,format["joined the gang group: %1(%3). Members: %2",life_gang_data select 1,_units,life_gang_data select 0]],"TON_fnc_logIt",2]call life_fnc_MP;};}else{["You were not placed into your gangs default group because you are currently in a group. To join the gang group leave your current group.","basic"]spawn life_fnc_handleMessage;};}else{["Gang invite declined.","basic"]spawn life_fnc_handleMessage;};