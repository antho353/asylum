_v setVariable["ga_box_r",_v,true];_free_slots=abs((_v getVariable"ga_slots_num_r")-(_v getVariable"ga_box_num_r"));};};}else {[_v,"BOX 404 error. Box not found O.o. Vehicle data reset..."]call IL_Vehicle_Chat;[_v,true]call IL_Init_Veh;[_v,"Vehicle data reset done."]call IL_Vehicle_Chat;};[_v]call IL_SetNewMass;_v setVariable["ga_can_load",true,true];};IL_GetOut={if(IL_DevMod) then {Player globalChat format["IgiLoad ""%1"" IL_GetOut.",IL_Script_Inst];};private["_v","_player","_para","_chute","_backpack","_pos","_x_offset","_dist","_dist_out","_dist_out_para","_velocity"];_v=_this select 0;_player=_this select 1;_para=if(count _this>2) then{_this select 2}else{false};if((typeOf _v) in IL_Supported_Vehicles_MH9) then {_dist_out=5;_dist_out_para=5;};if((typeOf _v) in IL_Supported_Vehicles_MOHAWK) then {_dist_out=5;_dist_out_para=11;};_pos=(_v worldToModel(getPosATL _player));_x_offset=_pos select 0;if(_x_offset<0) then {if((typeOf _v) in IL_Supported_Vehicles_MH9) then {_x_offset=90;}else {_x_offset=8;};}else {if((typeOf _v) in IL_Supported_Vehicles_MH9) then {_x_offset=-90;}else {_x_offset=-8;};};_player allowDamage false;uiSleep 0.2;unassignVehicle _player;_player action["EJECT",vehicle _player];uiSleep 0.5;if!(_para) then {_player setDir((getDir _v)+180);_pos=([_v,_dist_out,((getDir _v)+180+_x_offset)]call BIS_fnc_relPos);_pos=[_pos select 0,_pos select 1,((getPosATL _v) select 2)];_player setPosATL _pos;}else {_pos=([_v,_dist_out_para,((getDir _v)+180+_x_offset)]call BIS_fnc_relPos);_pos=[_pos select 0,_pos select 1,((getPosATL _v) select 2)];_player setPosATL _pos;_dist=_v distance _player;while{(_v distance _player)-_dist<20}do {uiSleep 0.2;};if(IL_Para_Jump_Open_ATL>0) then {while{(getPosATL _player) select 2>IL_Para_Jump_Open_ATL}do {uiSleep 0.2;};};if!(unitBackpack _player isKindOf"B_Parachute") then {_chute=createVehicle["Steerable_Parachute_F",position _player,[],0,"CAN_COLLIDE"];_chute AttachTo[_player,[0,0,0]];detach _chute;_velocity=velocity _player;_player moveInDriver _chute;if(IL_Para_Jump_Velocity) then {_chute setVelocity _velocity;};};};_player allowDamage true;if(IL_DevMod) then {Player globalChat format["IgiLoad ""%1"" IL_GetOut.",IL_Script_Inst];};if(IL_DevMod) then {Player globalChat format["IgiLoad ""%1"" IL_GetOut. Player ATL: ""%2""",IL_Script_Inst,_pos];};};};_vsupported=false;if(_obj_main_type in IL_Supported_Vehicles_MOHAWK) then{if(IL_DevMod) then {Player globalChat format["IgiLoad ""%1"" Vehicle is in IL_Supported_Vehicles_MOHAWK.",IL_Script_Inst];};_vsupported=true;[_obj_main]call IL_Init_Veh;_obj_main addAction["<img image='IgiLoad\images\load.paa' /><t color=""#007f0e"">  Load cargo on CH-49</t>",{[_this select 0,IL_Supported_Cargo_NonVeh_Mohawk]call IL_Do_Load;},[],IL_Action_LU_Priority,true,true,"","(count(nearestObjects[ _target modelToWorld [0,-6,-3], IL_Supported_Cargo_NonVeh_Mohawk, IL_SDistL + IL_SDistL_Heli_offset]) > 0) && (abs(speed _target) <= IL_LU_Speed) && ((IL_Can_Inside && (driver _target == _this)) || (IL_Can_Inside && ('Turret' in (assignedVehicleRole _this)) && (vehicle _this == _target) && (_target getVariable 'ga_can_copilot')) || ((_this in (nearestObjects[ _target modelToWorld [0,-6,-3], [], IL_SDistL + IL_SDistL_Heli_offset])) && (_target getVariable 'ga_can_outside'))) && (_target getVariable 'ga_box_num' > _target getVariable 'ga_slots_num') && (_target getVariable 'ga_can_load') && (((getPos _target) select 2) <= IL_LU_Alt) && (_target animationPhase 'CargoRamp_Open' isEqualTo 1)"];_obj_main addAction["<img image='IgiLoad\images\load.paa' /><t color=""#007f0e"">  Load vehicle on CH-49</t>",{[_this select 0,IL_Supported_Cargo_Veh_Mohawk]call IL_Do_Load;},[],IL_Action_LU_Priority,true,true,"","(count(nearestObjects[ _target modelToWorld [0,-6,-3], IL_Supported_Cargo_Veh_Mohawk, IL_SDistL + IL_SDistL_Heli_offset]) > 0) && (abs(speed _target) <= IL_LU_Speed) && ((IL_Can_Inside && (driver _target == _this)) || (IL_Can_Inside && ('Turret' in (assignedVehicleRole _this)) && (vehicle _this == _target) && (_target getVariable 'ga_can_copilot')) || ((_this in (nearestObjects[ _target modelToWorld [0,-6,-3], [], IL_SDistL + IL_SDistL_Heli_offset])) && (_target getVariable 'ga_can_outside'))) && (_target getVariable 'ga_box_num' > _target getVariable 'ga_slots_num') && (_target getVariable 'ga_can_load') && (((getPos _target) select 2) <= IL_LU_Alt) && (_target animationPhase 'CargoRamp_Open' isEqualTo 1)"];_obj_main addAction["<img image='IgiLoad\images\unload_para.paa' /><t color=""#b200ff""> Eject</t>",{[_this select 0,_this select 1,true]call IL_GetOut;},[],IL_Action_LU_Priority,false,true,"","('Cargo' in (assignedVehicleRole _this)) && (vehicle _this == _target) && !(_this getVariable ['ga_restrained',false]) && (((getPosATL _target) select 2) >= IL_Para_Jump_ATL) && (_target animationPhase 'CargoRamp_Open' > 0.43) && (_target getVariable 'ga_usable_ramp')"];_obj_main addAction["<img image='IgiLoad\images\unload.paa' /><t color=""#ff0000"">  Unload cargo from CH-49</t>",{[_this select 0]call IL_Do_Unload;},[],IL_Action_LU_Priority,false,true,"","(_target getVariable 'ga_box_num' < 0) && ((IL_Can_Inside && (driver _target == _this)) || (IL_Can_Inside && ('Turret' in (assignedVehicleRole _this)) && (vehicle _this == _target) && (_target getVariable 'ga_can_copilot')) || ((_this in (nearestObjects[ _target modelToWorld [0,-6,-3], [], IL_SDistL + IL_SDistL_Heli_offset])) && (_target getVariable 'ga_can_outside'))) && (_target getVariable 'ga_can_load') && (abs(speed _target) <= IL_LU_Speed) && (((getPos _target) select 2) <= IL_LU_Alt) && (_target animationPhase 'CargoRamp_Open' isEqualTo 1)"];_obj_main addAction["<img image='IgiLoad\images\unload_para.paa' /><t color=""#b200ff"">  Unload cargo with parachute</t>",{[_this select 0,true]call IL_Do_Unload;},[],IL_Action_LU_Priority,false,true,"","(_target getVariable 'ga_box_num' < 0) && ((driver _target == _this) || (('Turret' in (assignedVehicleRole _this)) && (vehicle _this == _target) && (_target getVariable 'ga_can_copilot'))) && (_target getVariable 'ga_can_load') && (((getPosATL _target) select 2) >= IL_Para_Drop_ATL) && (_target animationPhase 'CargoRamp_Open' isEqualTo 1)"];_obj_main addAction["<img image='IgiLoad\images\unload_all_para.paa' /><t color=""#a50b00"">  Unload ALL cargo with parachute</t>",{while{((_this select 0) getVariable"ga_box_num")!=0}do {[_this select 0,true]call IL_Do_Unload;};},[],IL_Action_LU_Priority,false,true,"","(_target getVariable 'ga_box_num' < 0) && ((driver _target == _this) || (('Turret' in (assignedVehicleRole _this)) && (vehicle _this == _target) && (_target getVariable 'ga_can_copilot'))) && (_target getVariable 'ga_can_load') && (((getPosATL _target) select 2) >= IL_Para_Drop_ATL) && (_target animationPhase 'CargoRamp_Open' isEqualTo 1)"];_obj_main addAction["<t color=""#0000ff"">Open cargo ramp in CH-49</t>",{_this select 0 animate['CargoRamp_Open',1];},[],IL_Action_O_Priority,false,true,"","((driver _target == _this) || (('Turret' in (assignedVehicleRole _this)) && (vehicle _this == _target) && (_target getVariable 'ga_can_copilot')) || ((_this in (nearestObjects[ _target modelToWorld [0,-6,-3], [], IL_SDistL + IL_SDistL_Heli_offset])) && (_target getVariable 'ga_can_outside'))) && (_target animationPhase 'CargoRamp_Open' isEqualTo 0) && (_target getVariable 'ga_can_load')"];_obj_main addAction["<t color=""#0000ff"">Close cargo ramp in CH-49</t>",{_this select 0 animate['CargoRamp_Open',0];},[],IL_Action_O_Priority,false,true,"","((driver _target == _this) || (('Turret' in (assignedVehicleRole _this)) && (vehicle _this == _target) && (_target getVariable 'ga_can_copilot')) || ((_this in (nearestObjects[ _target modelToWorld [0,-6,-3], [], IL_SDistL + IL_SDistL_Heli_offset])) && (_target getVariable 'ga_can_outside'))) && (_target animationPhase 'CargoRamp_Open' isEqualTo 1) && (_target getVariable 'ga_can_load')"];_obj_main addAction["<t color=""#0000ff"">Enable loading for Co-Pilot</t>",{(_this select 0) setVariable["ga_can_copilot",true,true];},[],IL_Action_S_Priority,false,true,"","((driver _target == _this) && !(_target getVariable 'ga_can_copilot') && IL_Can_CoPilot)"];_obj_main addAction["<t color=""#0000ff"">Disable loading for Co-Pilot</t>",{(_this select 0) setVariable["ga_can_copilot",false,true];},[],IL_Action_S_Priority,false,true,"","((driver _target == _this) && (_target getVariable 'ga_can_copilot') && IL_Can_CoPilot)"];_obj_main addAction["<t color=""#0000ff"">Enable loading from outside</t>",{(_this select 0) setVariable["ga_can_outside",true,true];},[],IL_Action_S_Priority,false,true,"","(((driver _target == _this) || (('Turret' in (assignedVehicleRole _this)) && (vehicle _this == _target) && (_target getVariable 'ga_can_copilot'))) && !(_target getVariable 'ga_can_outside') && IL_Can_Outside)"];_obj_main addAction["<t color=""#0000ff"">Disable loading from outside</t>",{(_this select 0) setVariable["ga_can_outside",false,true];},[],IL_Action_S_Priority,false,true,"","(((driver _target == _this) || (('Turret' in (assignedVehicleRole _this)) && (vehicle _this == _target) && (_target getVariable 'ga_can_copilot'))) && (_target getVariable 'ga_can_outside') && IL_Can_Outside)"];_obj_main addAction["<t color=""#0000ff"">Enable usable ramp</t>",{(_this select 0) setVariable["ga_usable_ramp",true,true];},[],IL_Action_S_Priority,false,true,"","(((driver _target == _this) || (('Turret' in (assignedVehicleRole _this)) && (vehicle _this == _target) && (_target getVariable 'ga_can_copilot'))) && !(_target getVariable 'ga_usable_ramp') && IL_Ramp)"];_obj_main addAction["<t color=""#0000ff"">Disable usable ramp</t>",{(_this select 0) setVariable["ga_usable_ramp",false,true];},[],IL_Action_S_Priority,false,true,"","(((driver _target == _this) || (('Turret' in (assignedVehicleRole _this)) && (vehicle _this == _target) && (_target getVariable 'ga_can_copilot'))) && (_target getVariable 'ga_usable_ramp') && IL_Ramp)"];};if(_obj_main_type in IL_Supported_Vehicles_MH9) then{if(IL_DevMod) then {Player globalChat format["IgiLoad ""%1"" Vehicle is in IL_Supported_Vehicles_MH9.",IL_Script_Inst];};_vsupported=true;[_obj_main]call IL_Init_Veh;_obj_main addAction["<img image='IgiLoad\images\load.paa' /><t color=""#007f0e"">  Load cargo on left MH-9</t>",{[_this select 0,IL_Supported_Cargo_MH9,"L"]call IL_Do_Load;},[],IL_Action_LU_Priority,true,true,"","(count (nearestObjects[ _target modelToWorld [0-3,1,-1.3], IL_Supported_Cargo_MH9, IL_SDistL + IL_SDistL_Heli_offset]) > 0) && (abs(speed _target) <= IL_LU_Speed) && ((IL_Can_Inside && (driver _target == _this)) || (IL_Can_Inside && ('Turret' in (assignedVehicleRole _this)) && (vehicle _this == _target) && (_target getVariable 'ga_can_copilot')) || (((_this in (nearestObjects[ _target modelToWorld [0-3,1,-1.3], [], IL_SDistL + IL_SDistL_Heli_offset])) && (_target getVariable 'ga_can_outside')))) && (_target getVariable 'ga_box_num_l' > _target getVariable 'ga_slots_num_l') && (_target getVariable 'ga_can_load') && (((getPos _target) select 2) <= IL_LU_Alt)"];_obj_main addAction["<img image='IgiLoad\images\load.paa' /><t color=""#007f0e"">  Load cargo on right MH-9</t>",{[_this select 0,IL_Supported_Cargo_MH9,"R"]call IL_Do_Load;},[],IL_Action_LU_Priority,true,true,"","(count (nearestObjects[ _target modelToWorld [0+3,1,-1.3], IL_Supported_Cargo_MH9, IL_SDistL + IL_SDistL_Heli_offset]) > 0) && (abs(speed _target) <= IL_LU_Speed) && ((IL_Can_Inside && (driver _target == _this)) || (IL_Can_Inside && ('Turret' in (assignedVehicleRole _this)) && (vehicle _this == _target) && (_target getVariable 'ga_can_copilot')) || (((_this in (nearestObjects[ _target modelToWorld [0+3,1,-1.3], [], IL_SDistL + IL_SDistL_Heli_offset])) && (_target getVariable 'ga_can_outside')))) && (_target getVariable 'ga_box_num_r' > _target getVariable 'ga_slots_num_r') && (_target getVariable 'ga_can_load') && (((getPos _target) select 2) <= IL_LU_Alt)"];_obj_main addAction["<img image='IgiLoad\images\unload.paa' /><t color=""#ff0000"">  Unload cargo from left MH-9</t>",{[_this select 0,false,"L"]call IL_Do_Unload;},[],IL_Action_LU_Priority,false,true,"","(_target getVariable 'ga_box_num_l' < 0) && ((IL_Can_Inside && (driver _target == _this)) || (IL_Can_Inside && ('Turret' in (assignedVehicleRole _this)) && (vehicle _this == _target) && (_target getVariable 'ga_can_copilot')) || (((_this in (nearestObjects[ _target modelToWorld [0-3,1,-1.3], [], IL_SDistL + IL_SDistL_Heli_offset])) && (_target getVariable 'ga_can_outside')))) && (_target getVariable 'ga_can_load') && (abs(speed _target) <= IL_LU_Speed) && (((getPos _target) select 2) <= IL_LU_Alt)"];_obj_main addAction["<img image='IgiLoad\images\unload.paa' /><t color=""#ff0000"">  Unload cargo from right MH-9</t>",{[_this select 0,false,"R"]call IL_Do_Unload;},[],IL_Action_LU_Priority,false,true,"","(_target getVariable 'ga_box_num_r' < 0) && ((IL_Can_Inside && (driver _target == _this)) || (IL_Can_Inside && ('Turret' in (assignedVehicleRole _this)) && (vehicle _this == _target) && (_target getVariable 'ga_can_copilot')) || (((_this in (nearestObjects[ _target modelToWorld [0+3,1,-1.3], [], IL_SDistL + IL_SDistL_Heli_offset])) && (_target getVariable 'ga_can_outside')))) && (_target getVariable 'ga_can_load') && (abs(speed _target) <= IL_LU_Speed) && (((getPos _target) select 2) <= IL_LU_Alt)"];_obj_main addAction["<img image='IgiLoad\images\unload_para.paa' /><t color=""#b200ff"">  Unload cargo with parachute left MH-9</t>",{[_this select 0,true,"L"]call IL_Do_Unload;},[],IL_Action_LU_Priority,false,true,"","(_target getVariable 'ga_box_num_l' < 0) && ((driver _target == _this) || (('Turret' in (assignedVehicleRole _this)) && (vehicle _this == _target) && (_target getVariable 'ga_can_copilot'))) && (_target getVariable 'ga_can_load') && (((getPosATL _target) select 2) >= IL_Para_Drop_ATL)"];_obj_main addAction["<img image='IgiLoad\images\unload_para.paa' /><t color=""#b200ff"">  Unload cargo with parachute right MH-9</t>",{[_this select 0,true,"R"]call IL_Do_Unload;},[],IL_Action_LU_Priority,false,true,"","(_target getVariable 'ga_box_num_r' < 0) && ((driver _target == _this) || (('Turret' in (assignedVehicleRole _this)) && (vehicle _this == _target) && (_target getVariable 'ga_can_copilot'))) && (_target getVariable 'ga_can_load') && (((getPosATL _target) select 2) >= IL_Para_Drop_ATL)"];_obj_main addAction["<img image='IgiLoad\images\unload_all_para.paa' /><t color=""#a50b00"">  Unload ALL cargo with parachute</t>",{[_this select 0,true,"L"]call IL_Do_Unload;[_this select 0,true,"R"]call IL_Do_Unload;},[],IL_Action_LU_Priority,false,true,"","(_target getVariable 'ga_box_num_r' < 0) && (_target getVariable 'ga_box_num_l' < 0) && ((driver _target == _this) || (('Turret' in (assignedVehicleRole _this)) && (vehicle _this == _target) && (_target getVariable 'ga_can_copilot'))) && (_target getVariable 'ga_can_load') && (((getPosATL _target) select 2) >= IL_Para_Drop_ATL)"];_obj_main addAction["<img image='IgiLoad\images\unload_para.paa' /><t color=""#b200ff""> Eject</t>",{[_this select 0,_this select 1,true]call IL_GetOut;},[],IL_Action_LU_Priority,false,true,"","('Cargo' in (assignedVehicleRole _this)) && (vehicle _this == _target) && (((getPosATL _target) select 2) >= IL_Para_Jump_ATL) && (_target getVariable 'ga_usable_ramp')"];_obj_main addAction["<t color=""#0000ff"">Enable loading for Co-Pilot</t>",{(_this select 0) setVariable["ga_can_copilot",true,true];},[],IL_Action_S_Priority,false,true,"","((driver _target == _this) && !(_target getVariable 'ga_can_copilot') && IL_Can_CoPilot)"];_obj_main addAction["<t color=""#0000ff"">Disable loading for Co-Pilot</t>",{(_this select 0) setVariable["ga_can_copilot",false,true];},[],IL_Action_S_Priority,false,true,"","((driver _target == _this) && (_target getVariable 'ga_can_copilot') && IL_Can_CoPilot)"];_obj_main addAction["<t color=""#0000ff"">Enable loading from outside</t>",{(_this select 0) setVariable["ga_can_outside",true,true];},[],IL_Action_S_Priority,false,true,"","(((driver _target == _this) || (('Turret' in (assignedVehicleRole _this)) && (vehicle _this == _target) && (_target getVariable 'ga_can_copilot'))) && !(_target getVariable 'ga_can_outside') && IL_Can_Outside)"];_obj_main addAction["<t color=""#0000ff"">Disable loading from outside</t>",{(_this select 0) setVariable["ga_can_outside",false,true];},[],IL_Action_S_Priority,false,true,"","(((driver _target == _this) || (('Turret' in (assignedVehicleRole _this)) && (vehicle _this == _target) && (_target getVariable 'ga_can_copilot'))) && (_target getVariable 'ga_can_outside') && IL_Can_Outside)"];_obj_main addAction["<t color=""#0000ff"">Enable usable ramp</t>",{(_this select 0) setVariable["ga_usable_ramp",true,true];},[],IL_Action_S_Priority,false,true,"","(((driver _target == _this) || (('Turret' in (assignedVehicleRole _this)) && (vehicle _this == _target) && (_target getVariable 'ga_can_copilot'))) && !(_target getVariable 'ga_usable_ramp') && IL_Ramp)"];_obj_main addAction["<t color=""#0000ff"">Disable usable ramp</t>",{(_this select 0) setVariable["ga_usable_ramp",false,true];},[],IL_Action_S_Priority,false,true,"","(((driver _target == _this) || (('Turret' in (assignedVehicleRole _this)) && (vehicle _this == _target) && (_target getVariable 'ga_can_copilot'))) && (_target getVariable 'ga_usable_ramp') && IL_Ramp)"];};if(_obj_main_type in IL_Supported_Vehicles_OFFROAD) then{if(IL_DevMod) then {Player globalChat format["IgiLoad ""%1"" Vehicle is in IL_Supported_Vehicles_OFFROAD.",IL_Script_Inst];};_vsupported=true;[_obj_main]call IL_Init_Veh;_obj_main addAction["<img image='IgiLoad\images\load.paa' /><t color=""#007f0e"">  Load cargo on Offroad</t>",{[_this select 0,IL_Supported_Cargo_NonVeh_OFFROAD]call IL_Do_Load;},[],IL_Action_LU_Priority,true,true,"","(count(nearestObjects[ _target modelToWorld [0,-4.5,0], IL_Supported_Cargo_NonVeh_OFFROAD, IL_SDistL]) > 0) && (abs(speed _target) <= IL_LU_Speed) && ((IL_Can_Inside && (driver _target == _this)) || ((((_this in (nearestObjects[ _target modelToWorld [0,-4.5,0], [], IL_SDistL + IL_SDistL_Heli_offset]))) && (_target getVariable 'ga_can_outside')))) && (_target getVariable 'ga_box_num' > _target getVariable 'ga_slots_num') && (_target getVariable 'ga_can_load')"];_obj_main addAction["<img image='IgiLoad\images\load.paa' /><t color=""#007f0e"">  Load vehicle on Offroad</t>",{[_this select 0,IL_Supported_Cargo_Veh_OFFROAD]call IL_Do_Load;},[],IL_Action_LU_Priority,true,true,"","(count(nearestObjects[ _target modelToWorld [0,-4.5,0], IL_Supported_Cargo_Veh_OFFROAD, IL_SDistL]) > 0) && (abs(speed _target) <= IL_LU_Speed) && ((IL_Can_Inside && (driver _target == _this)) || ((((_this in (nearestObjects[ _target modelToWorld [0,-4.5,0], [], IL_SDistL + IL_SDistL_Heli_offset]))) && (_target getVariable 'ga_can_outside')))) && (_target getVariable 'ga_box_num' > _target getVariable 'ga_slots_num') && (_target getVariable 'ga_can_load')"];_obj_main addAction["<img image='IgiLoad\images\unload.paa' /><t color=""#ff0000"">  Unload cargo from Offroad</t>",{[_this select 0]call IL_Do_Unload;},[],IL_Action_LU_Priority,false,true,"","(_target getVariable 'ga_box_num' < 0) && ((IL_Can_Inside && (driver _target == _this)) || (((_this in (nearestObjects[ _target modelToWorld [0,-4.5,0], [], IL_SDistL + IL_SDistL_Heli_offset])) && (_target getVariable 'ga_can_outside')))) && (_target getVariable 'ga_can_load') && (abs(speed _target) <= IL_LU_Speed)"];_obj_main addAction["<t color=""#0000ff"">Enable loading from outside</t>",{(_this select 0) setVariable["ga_can_outside",true,true];},[],IL_Action_S_Priority,false,true,"","((driver _target == _this) && !(_target getVariable 'ga_can_outside') && IL_Can_Outside)"];_obj_main addAction["<t color=""#0000ff"">Disable loading from outside</t>",{(_this select 0) setVariable["ga_can_outside",false,true];},[],IL_Action_S_Priority,false,true,"","((driver _target == _this) && (_target getVariable 'ga_can_outside') && IL_Can_Outside)"];};if(_obj_main_type in IL_Supported_Vehicles_BOAT) then{if(IL_DevMod) then {Player globalChat format["IgiLoad ""%1"" Vehicle is in IL_Supported_Vehicles_BOAT.",IL_Script_Inst];};_vsupported=true;[_obj_main]call IL_Init_Veh;_obj_main addAction["<img image='IgiLoad\images\load.paa' /><t color=""#007f0e"">  Load cargo on Offroad</t>",{[_this select 0,IL_Supported_Vehicles_BOAT]call IL_Do_Load;},[],IL_Action_LU_Priority,true,true,"","(count(nearestObjects[ _target modelToWorld [0,-4.5,0], IL_Supported_Vehicles_BOAT, IL_SDistL]) > 0) && (abs(speed _target) <= IL_LU_Speed) && ((IL_Can_Inside && (driver _target == _this)) || ((((_this in (nearestObjects[ _target modelToWorld [0,-4.5,0], [], IL_SDistL + IL_SDistL_Heli_offset]))) && (_target getVariable 'ga_can_outside')))) && (_target getVariable 'ga_box_num' > _target getVariable 'ga_slots_num') && (_target getVariable 'ga_can_load')"];_obj_main addAction["<img image='IgiLoad\images\load.paa' /><t color=""#007f0e"">  Load vehicle on Offroad</t>",{[_this select 0,IL_Supported_Vehicles_BOAT]call IL_Do_Load;},[],IL_Action_LU_Priority,true,true,"","(count(nearestObjects[ _target modelToWorld [0,-4.5,0], IL_Supported_Vehicles_BOAT, IL_SDistL]) > 0) && (abs(speed _target) <= IL_LU_Speed) && ((IL_Can_Inside && (driver _target == _this)) || ((((_this in (nearestObjects[ _target modelToWorld [0,-4.5,0], [], IL_SDistL + IL_SDistL_Heli_offset]))) && (_target getVariable 'ga_can_outside')))) && (_target getVariable 'ga_box_num' > _target getVariable 'ga_slots_num') && (_target getVariable 'ga_can_load')"];_obj_main addAction["<img image='IgiLoad\images\unload.paa' /><t color=""#ff0000"">  Unload cargo from Offroad</t>",{[_this select 0]call IL_Do_Unload;},[],IL_Action_LU_Priority,false,true,"","(_target getVariable 'ga_box_num' < 0) && ((IL_Can_Inside && (driver _target == _this)) || (((_this in (nearestObjects[ _target modelToWorld [0,-4.5,0], [], IL_SDistL + IL_SDistL_Heli_offset])) && (_target getVariable 'ga_can_outside')))) && (_target getVariable 'ga_can_load') && (abs(speed _target) <= IL_LU_Speed)"];_obj_main addAction["<t color=""#0000ff"">Enable loading from outside</t>",{(_this select 0) setVariable["ga_can_outside",true,true];},[],IL_Action_S_Priority,false,true,"","((driver _target == _this) && !(_target getVariable 'ga_can_outside') && IL_Can_Outside)"];_obj_main addAction["<t color=""#0000ff"">Disable loading from outside</t>",{(_this select 0) setVariable["ga_can_outside",false,true];},[],IL_Action_S_Priority,false,true,"","((driver _target == _this) && (_target getVariable 'ga_can_outside') && IL_Can_Outside)"];};if(_obj_main_type in IL_Supported_Vehicles_VAN) then{if(IL_DevMod) then {Player globalChat format["IgiLoad ""%1"" Vehicle is in IL_Supported_Vehicles_VAN.",IL_Script_Inst];};_vsupported=true;[_obj_main]call IL_Init_Veh;_obj_main addAction["<img image='IgiLoad\images\load.paa' /><t color=""#007f0e"">  Load cargo on VAN</t>",{[_this select 0,IL_Supported_Cargo_NonVeh_VAN]call IL_Do_Load;},[],IL_Action_LU_Priority,true,true,"","(count(nearestObjects[ _target modelToWorld [0,-4.5,0], IL_Supported_Cargo_NonVeh_VAN, IL_SDistL]) > 0) && (abs(speed _target) <= IL_LU_Speed) && ((IL_Can_Inside && (driver _target == _this)) || ((((_this in (nearestObjects[ _target modelToWorld [0,-4.5,0], [], IL_SDistL + IL_SDistL_Heli_offset]))) && (_target getVariable 'ga_can_outside')))) && (_target getVariable 'ga_box_num' > _target getVariable 'ga_slots_num') && (_target getVariable 'ga_can_load')"];_obj_main addAction["<img image='IgiLoad\images\load.paa' /><t color=""#007f0e"">  Load vehicle on VAN</t>",{[_this select 0,IL_Supported_Cargo_Veh_VAN]call IL_Do_Load;},[],IL_Action_LU_Priority,true,true,"","(count(nearestObjects[ _target modelToWorld [0,-4.5,0], IL_Supported_Cargo_Veh_VAN, IL_SDistL]) > 0) && (abs(speed _target) <= IL_LU_Speed) && ((IL_Can_Inside && (driver _target == _this)) || ((((_this in (nearestObjects[ _target modelToWorld [0,-4.5,0], [], IL_SDistL + IL_SDistL_Heli_offset]))) && (_target getVariable 'ga_can_outside')))) && (_target getVariable 'ga_box_num' > _target getVariable 'ga_slots_num') && (_target getVariable 'ga_can_load')"];_obj_main addAction["<img image='IgiLoad\images\unload.paa' /><t color=""#ff0000"">  Unload cargo from VAN</t>",{[_this select 0]call IL_Do_Unload;},[],IL_Action_LU_Priority,false,true,"","(_target getVariable 'ga_box_num' < 0) && ((IL_Can_Inside && (driver _target == _this)) || (((_this in (nearestObjects[ _target modelToWorld [0,-4.5,0], [], IL_SDistL + IL_SDistL_Heli_offset])) && (_target getVariable 'ga_can_outside')))) && (_target getVariable 'ga_can_load') && (abs(speed _target) <= IL_LU_Speed)"];_obj_main addAction["<t color=""#0000ff"">Enable loading from outside</t>",{(_this select 0) setVariable["ga_can_outside",true,true];},[],IL_Action_S_Priority,false,true,"","((driver _target == _this) && !(_target getVariable 'ga_can_outside') && IL_Can_Outside)"];_obj_main addAction["<t color=""#0000ff"">Disable loading from outside</t>",{(_this select 0) setVariable["ga_can_outside",false,true];},[],IL_Action_S_Priority,false,true,"","((driver _target == _this) && (_target getVariable 'ga_can_outside') && IL_Can_Outside)"];};if(_obj_main_type in IL_Supported_Vehicles_KAMAZ) then{if(IL_DevMod) then {Player globalChat format["IgiLoad ""%1"" Vehicle is in IL_Supported_Vehicles_KAMAZ.",IL_Script_Inst];};_vsupported=true;[_obj_main]call IL_Init_Veh;_obj_main addAction["<img image='IgiLoad\images\load.paa' /><t color=""#007f0e"">  Load cargo on ZAMAK</t>",{[_this select 0,IL_Supported_Cargo_NonVeh_Kamaz]call IL_Do_Load;},[],IL_Action_LU_Priority,true,true,"","(count(nearestObjects[ _target modelToWorld [0,-6 - (_target getVariable 'ga_load_offset'),0], IL_Supported_Cargo_NonVeh_Kamaz, IL_SDistL]) > 0) && (abs(speed _target) <= IL_LU_Speed) && ((IL_Can_Inside && (driver _target == _this)) || ((((_this in (nearestObjects[ _target modelToWorld [0,-6 - (_target getVariable 'ga_load_offset'),0], [], IL_SDistL + IL_SDistL_Heli_offset]))) && (_target getVariable 'ga_can_outside')))) && (_target getVariable 'ga_box_num' > _target getVariable 'ga_slots_num') && (_target getVariable 'ga_can_load')"];_obj_main addAction["<img image='IgiLoad\images\load.paa' /><t color=""#007f0e"">  Load vehicle on ZAMAK</t>",{[_this select 0,IL_Supported_Cargo_Veh_Kamaz]call IL_Do_Load;},[],IL_Action_LU_Priority,true,true,"","(count(nearestObjects[ _target modelToWorld [0,-6 - (_target getVariable 'ga_load_offset'),0], IL_Supported_Cargo_Veh_Kamaz, IL_SDistL]) > 0) && (abs(speed _target) <= IL_LU_Speed) && ((IL_Can_Inside && (driver _target == _this)) || ((((_this in (nearestObjects[ _target modelToWorld [0,-6 - (_target getVariable 'ga_load_offset'),0], [], IL_SDistL + IL_SDistL_Heli_offset]))) && (_target getVariable 'ga_can_outside')))) && (_target getVariable 'ga_box_num' > _target getVariable 'ga_slots_num') && (_target getVariable 'ga_can_load')"];_obj_main addAction["<img image='IgiLoad\images\unload.paa' /><t color=""#ff0000"">  Unload cargo from ZAMAK</t>",{[_this select 0]call IL_Do_Unload;},[],IL_Action_LU_Priority,false,true,"","(_target getVariable 'ga_box_num' < 0) && ((IL_Can_Inside && (driver _target == _this)) || (((_this in (nearestObjects[ _target modelToWorld [0,-6 - (_target getVariable 'ga_load_offset'),0], [], IL_SDistL + IL_SDistL_Heli_offset])) && (_target getVariable 'ga_can_outside')))) && (_target getVariable 'ga_can_load') && (abs(speed _target) <= IL_LU_Speed)"];_obj_main addAction["<t color=""#0000ff"">Enable loading from outside</t>",{(_this select 0) setVariable["ga_can_outside",true,true];},[],IL_Action_S_Priority,false,true,"","((driver _target == _this) && !(_target getVariable 'ga_can_outside') && IL_Can_Outside)"];_obj_main addAction["<t color=""#0000ff"">Disable loading from outside</t>",{(_this select 0) setVariable["ga_can_outside",false,true];},[],IL_Action_S_Priority,false,true,"","((driver _target == _this) && (_target getVariable 'ga_can_outside') && IL_Can_Outside)"];};if(_obj_main_type in IL_Supported_Vehicles_TEMPEST) then{if(IL_DevMod) then {Player globalChat format["IgiLoad ""%1"" Vehicle is in IL_Supported_Vehicles_TEMPEST.",IL_Script_Inst];};_vsupported=true;[_obj_main]call IL_Init_Veh;_obj_main addAction["<img image='IgiLoad\images\load.paa' /><t color=""#007f0e"">  Load cargo on TEMPEST</t>",{[_this select 0,IL_Supported_Cargo_NonVeh_TEMPEST]call IL_Do_Load;},[],IL_Action_LU_Priority,true,true,"","(count(nearestObjects[ _target modelToWorld [0,-6.5 - (_target getVariable 'ga_load_offset'),0], IL_Supported_Cargo_NonVeh_TEMPEST, IL_SDistL]) > 0) && (abs(speed _target) <= IL_LU_Speed) && ((IL_Can_Inside && (driver _target == _this)) || ((((_this in (nearestObjects[ _target modelToWorld [0,-6.5 - (_target getVariable 'ga_load_offset'),0], [], IL_SDistL + IL_SDistL_Heli_offset]))) && (_target getVariable 'ga_can_outside')))) && (_target getVariable 'ga_box_num' > _target getVariable 'ga_slots_num') && (_target getVariable 'ga_can_load')"];_obj_main addAction["<img image='IgiLoad\images\load.paa' /><t color=""#007f0e"">  Load vehicle on TEMPEST</t>",{[_this select 0,IL_Supported_Cargo_Veh_TEMPEST]call IL_Do_Load;},[],IL_Action_LU_Priority,true,true,"","(count(nearestObjects[ _target modelToWorld [0,-6.5 - (_target getVariable 'ga_load_offset'),0], IL_Supported_Cargo_Veh_TEMPEST, IL_SDistL]) > 0) && (abs(speed _target) <= IL_LU_Speed) && ((IL_Can_Inside && (driver _target == _this)) || ((((_this in (nearestObjects[ _target modelToWorld [0,-6.5 - (_target getVariable 'ga_load_offset'),0], [], IL_SDistL + IL_SDistL_Heli_offset]))) && (_target getVariable 'ga_can_outside')))) && (_target getVariable 'ga_box_num' > _target getVariable 'ga_slots_num') && (_target getVariable 'ga_can_load')"];_obj_main addAction["<img image='IgiLoad\images\unload.paa' /><t color=""#ff0000"">  Unload cargo from TEMPEST</t>",{[_this select 0]call IL_Do_Unload;},[],IL_Action_LU_Priority,false,true,"","(_target getVariable 'ga_box_num' < 0) && ((IL_Can_Inside && (driver _target == _this)) || (((_this in (nearestObjects[ _target modelToWorld [0,-6.5 - (_target getVariable 'ga_load_offset'),0], [], IL_SDistL + IL_SDistL_Heli_offset])) && (_target getVariable 'ga_can_outside')))) && (_target getVariable 'ga_can_load') && (abs(speed _target) <= IL_LU_Speed)"];_obj_main addAction["<t color=""#0000ff"">Enable loading from outside</t>",{(_this select 0) setVariable["ga_can_outside",true,true];},[],IL_Action_S_Priority,false,true,"","((driver _target == _this) && !(_target getVariable 'ga_can_outside') && IL_Can_Outside)"];_obj_main addAction["<t color=""#0000ff"">Disable loading from outside</t>",{(_this select 0) setVariable["ga_can_outside",false,true];},[],IL_Action_S_Priority,false,true,"","((driver _target == _this) && (_target getVariable 'ga_can_outside') && IL_Can_Outside)"];};if(_obj_main_type in IL_Supported_Vehicles_HEMTTBOX) then{if(IL_DevMod) then {Player globalChat format["IgiLoad ""%1"" Vehicle is in IL_Supported_Vehicles_HEMTTBOX.",IL_Script_Inst];};_vsupported=true;[_obj_main]call IL_Init_Veh;_obj_main addAction["<img image='IgiLoad\images\load.paa' /><t color=""#007f0e"">  Load cargo on HEMTT</t>",{[_this select 0,IL_Supported_Cargo_NonVeh_HEMTT]call IL_Do_Load;},[],IL_Action_LU_Priority,true,true,"","(count(nearestObjects[ _target modelToWorld [0,-7 - (_target getVariable 'ga_load_offset'),0], IL_Supported_Cargo_NonVeh_HEMTT, IL_SDistL]) > 0) && (abs(speed _target) <= IL_LU_Speed) && ((IL_Can_Inside && (driver _target == _this)) || (((_this in (nearestObjects[ _target modelToWorld [0,-7 - (_target getVariable 'ga_load_offset'),0], [], IL_SDistL + IL_SDistL_Heli_offset])) && (_target getVariable 'ga_can_outside')))) && (_target getVariable 'ga_box_num' > _target getVariable 'ga_slots_num') && (_target getVariable 'ga_can_load')"];_obj_main addAction["<img image='IgiLoad\images\load.paa' /><t color=""#007f0e"">  Load vehicle on HEMTT</t>",{[_this select 0,IL_Supported_Cargo_Veh_HEMTT]call IL_Do_Load;},[],IL_Action_LU_Priority,true,true,"","(count(nearestObjects[ _target modelToWorld [0,-7 - (_target getVariable 'ga_load_offset'),0], IL_Supported_Cargo_Veh_HEMTT, IL_SDistL]) > 0) && (abs(speed _target) <= IL_LU_Speed) && ((IL_Can_Inside && (driver _target == _this)) || (((_this in (nearestObjects[ _target modelToWorld [0,-7 - (_target getVariable 'ga_load_offset'),0], [], IL_SDistL + IL_SDistL_Heli_offset])) && (_target getVariable 'ga_can_outside')))) && (_target getVariable 'ga_box_num' > _target getVariable 'ga_slots_num') && (_target getVariable 'ga_can_load')"];_obj_main addAction["<img image='IgiLoad\images\unload.paa' /><t color=""#ff0000"">  Unload cargo from HEMTT</t>",{[_this select 0]call IL_Do_Unload;},[],IL_Action_LU_Priority,false,true,"","(_target getVariable 'ga_box_num' < 0) && ((IL_Can_Inside && (driver _target == _this)) || (((_this in (nearestObjects[ _target modelToWorld [0,-7 - (_target getVariable 'ga_load_offset'),0], [], IL_SDistL + IL_SDistL_Heli_offset])) && (_target getVariable 'ga_can_outside')))) && (_target getVariable 'ga_can_load') && (abs(speed _target) <= IL_LU_Speed)"];_obj_main addAction["<t color=""#0000ff"">Enable loading from outside</t>",{(_this select 0) setVariable["ga_can_outside",true,true];},[],IL_Action_S_Priority,false,true,"","((driver _target == _this) && !(_target getVariable 'ga_can_outside') && IL_Can_Outside)"];_obj_main addAction["<t color=""#0000ff"">Disable loading from outside</t>",{(_this select 0) setVariable["ga_can_outside",false,true];},[],IL_Action_S_Priority,false,true,"","((driver _target == _this) && (_target getVariable 'ga_can_outside') && IL_Can_Outside)"];};if(_obj_main_type in IL_Supported_Vehicles_HEMTTTRANSPORT) then{if(IL_DevMod) then {Player globalChat format["IgiLoad ""%1"" Vehicle is in IL_Supported_Vehicles_HEMTTTRANSPORT.",IL_Script_Inst];};_vsupported=true;[_obj_main]call IL_Init_Veh;_obj_main addAction["<img image='IgiLoad\images\load.paa' /><t color=""#007f0e"">  Load cargo on HEMTT Transport</t>",{[_this select 0,IL_Supported_Cargo_NonVeh_HEMTT]call IL_Do_Load;},[],IL_Action_LU_Priority,true,true,"","(count(nearestObjects[ _target modelToWorld [0,-7 - (_target getVariable 'ga_load_offset'),0], IL_Supported_Cargo_NonVeh_HEMTT, IL_SDistL]) > 0) && (abs(speed _target) <= IL_LU_Speed) && ((IL_Can_Inside && (driver _target == _this)) || (((_this in (nearestObjects[ _target modelToWorld [0,-7 - (_target getVariable 'ga_load_offset'),0], [], IL_SDistL + IL_SDistL_Heli_offset])) && (_target getVariable 'ga_can_outside')))) && (_target getVariable 'ga_box_num' > _target getVariable 'ga_slots_num') && (_target getVariable 'ga_can_load')"];_obj_main addAction["<img image='IgiLoad\images\load.paa' /><t color=""#007f0e"">  Load vehicle on HEMTT Transport</t>",{[_this select 0,IL_Supported_Cargo_Veh_HEMTTTRANSPORT]call IL_Do_Load;},[],IL_Action_LU_Priority,true,true,"","(count(nearestObjects[ _target modelToWorld [0,-7 - (_target getVariable 'ga_load_offset'),0], IL_Supported_Cargo_Veh_HEMTTTRANSPORT, IL_SDistL]) > 0) && (abs(speed _target) <= IL_LU_Speed) && ((IL_Can_Inside && (driver _target == _this)) || (((_this in (nearestObjects[ _target modelToWorld [0,-7 - (_target getVariable 'ga_load_offset'),0], [], IL_SDistL + IL_SDistL_Heli_offset])) && (_target getVariable 'ga_can_outside')))) && (_target getVariable 'ga_box_num' > _target getVariable 'ga_slots_num') && (_target getVariable 'ga_can_load')"];_obj_main addAction["<img image='IgiLoad\images\unload.paa' /><t color=""#ff0000"">  Unload cargo from HEMTT Transport</t>",{[_this select 0]call IL_Do_Unload;},[],IL_Action_LU_Priority,false,true,"","(_target getVariable 'ga_box_num' < 0) && ((IL_Can_Inside && (driver _target == _this)) || (((_this in (nearestObjects[ _target modelToWorld [0,-7 - (_target getVariable 'ga_load_offset'),0], [], IL_SDistL + IL_SDistL_Heli_offset])) && (_target getVariable 'ga_can_outside')))) && (_target getVariable 'ga_can_load') && (abs(speed _target) <= IL_LU_Speed)"];_obj_main addAction["<t color=""#0000ff"">Enable loading from outside</t>",{(_this select 0) setVariable["ga_can_outside",true,true];},[],IL_Action_S_Priority,false,true,"","((driver _target == _this) && !(_target getVariable 'ga_can_outside') && IL_Can_Outside)"];_obj_main addAction["<t color=""#0000ff"">Disable loading from outside</t>",{(_this select 0) setVariable["ga_can_outside",false,true];},[],IL_Action_S_Priority,false,true,"","((driver _target == _this) && (_target getVariable 'ga_can_outside') && IL_Can_Outside)"];};if(!(_vsupported)&&(IL_DevMod)) then{Player globalChat format["Object type: ""%1"" is not supported.",_obj_main_type];};if(IL_DevMod) then{Player globalChat format["IgiLoad ""%1"" END.",IL_Script_Inst];};