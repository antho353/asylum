params[["_vehicle",objNull,[objNull]]];if(isNull _vehicle) exitWith{systemChat"Error! Null vehicle.";};if!(alive _vehicle) exitWith{systemChat"Error! Dead vehicle.";};if(player distance2D _vehicle>7) exitWith{systemChat"Error! Too far away."};if(life_action_in_use) exitWith{};private _exit=false;{if(_vehicle distance(getMarkerPos _x)<1000) exitWith{_exit=true;};}forEach["city","city_athira","city_pyrgos","city_sofia"];if(_exit) exitWith{["Starting a distillery this close to a city would be unwise.","basic"]spawn life_fnc_handleMessage;};for"_i"from 1 to 25 do{if(_vehicle distance(getMarkerPos format["dp_1_%1",_i])<300) exitWith{_exit=true;};};if(_exit) exitWith{["I think the delivery man is watching you. Did he just call the cops?","basic"]spawn life_fnc_handleMessage;};{private _housePosition=parseSimpleArray(_x select 0);if(_vehicle distance _housePosition<400) exitWith{_exit=true;};}forEach life_houses;if(_exit) exitWith{["You can not start a distillery so close to your own house","basic"]spawn life_fnc_handleMessage;};if(_vehicle distance(getMarkerPos"gang_fortress_marker")<500) exitWith{["The enemy gangs are lurking, starting up a distillery here wouldn't be smart.","basic"]spawn life_fnc_handleMessage;};if(_vehicle distance(getMarkerPos"arms_island_crank")<3200) exitWith{["The arms dealers don't like moonshiners around, starting a distillery here is not possible.","basic"]spawn life_fnc_handleMessage;};if(_vehicle distance(getMarkerPos"skull_island_crank")<600) exitWith{["The spirits of those who have been sacrificed can not be desecrated in this manner. Try starting the distillery elsewhere.","basic"]spawn life_fnc_handleMessage;};if(_vehicle distance(getMarkerPos"courtroom")<300) exitWith{["Really???","basic"]spawn life_fnc_handleMessage;};if(_vehicle distance(getMarkerPos"Respawn_west")<1000) exitWith{["Really???","basic"]spawn life_fnc_handleMessage;};if(_vehicle distance(getMarkerPos"admin_island")<1000) exitWith{["This island is not a suitable place to distill.","basic"]spawn life_fnc_handleMessage;};if(_vehicle distance(getMarkerPos"oilrig_1")<500) exitWith{["You would have to be drunk on this stuff to think this is a good idea.","basic"]spawn life_fnc_handleMessage;};if(count(nearestObjects[_vehicle,["Land_i_Shed_Ind_F"],20])>0) exitWith{["You cannot prep your distillery this close to an industrial shed!","basic"]spawn life_fnc_handleMessage;};if({_vehicle distance getMarkerPos format["police_hq_%1",_x]<300}count[1,2,3,4,5,6]>0) exitWith{["You want to go to jail right?","basic"]spawn life_fnc_handleMessage;};if(_vehicle distance(nearestBuilding _vehicle)<=20) exitWith{["You're too close to a building to be messing with a mobile distillery.","basic"]spawn life_fnc_handleMessage};disableSerialization;5 cutRsc["life_progress","PLAIN"];private _ui=uiNamespace getVariable"life_progress";