private _chargeSelected={params[["_basic",[]],["_unitUID",""]];_basic params[["_control",controlNull],["_selectedIndex",-1]];if(_selectedIndex isEqualTo-1) exitWith{};if(isNull _control) exitWith{};private _display=ctrlParent _control;if(isNull _display) exitWith{};private _wantedList=_display displayCtrl 2402;private _chargesList=_display displayCtrl 2405;private _removeInput=_display displayCtrl 2406;private _removeButton=_display displayCtrl 2407;private _button1=_display displayCtrl 2408;private _players=allPlayers;private _unit=_players param[_players findIf{(getPlayerUID _x) isEqualTo _unitUID},objNull];if(isNull _unit) exitWith{_wantedList lbDelete(lbCurSel _wantedList)};private _data=_wantedList lbData(lbCurSel _wantedList);private _data=parseSimpleArray _data;if((_selectedIndex+1)>(count(_data select 2))) exitWith{_removeInput ctrlSetText"1";{if(ctrlShown _x) then{_x ctrlEnable false}}forEach[_removeInput,_removeButton];};private _crimeName=(_chargesList lbData _selectedIndex);private _amount=(_chargesList lbValue _selectedIndex);private _toggle=!((_unit getVariable["ga_arrested",false])&&((call life_adminLevel)<=1));{if(ctrlShown _x) then{_x ctrlEnable _toggle}}forEach[_removeInput,_removeButton];if((ctrlShown _removeInput)&&!(_count isEqualTo _amount)) then{_removeInput ctrlSetText"1"};};private _chargeDoubleClick={params[["_control",controlNull],["_selectedIndex",-1]];if(_selectedIndex isEqualTo-1) exitWith{};if(isNull _control) exitWith{};private _display=ctrlParent _control;if(isNull _display) exitWith{};private _wantedList=_display displayCtrl 2402;private _chargesList=_display displayCtrl 2405;private _removeInput=_display displayCtrl 2406;if((lbCurSel _wantedList) isEqualTo-1) exitWith{};if((ctrlShown _removeInput)&&(ctrlEnabled _removeInput)) then{private _data=_wantedList lbData(lbCurSel _wantedList);if(_data isEqualTo"") exitWith{_removeInput ctrlSetText"1"};private _data=parseSimpleArray _data;private _crimeName=(_chargesList lbData _selectedIndex);private _amount=(_chargesList lbValue _selectedIndex);_removeInput ctrlSetText format["%1",_amount];};};_chargesList ctrlSetEventHandler["LBSelChanged",format["[_this, '%2'] call %1",_chargeSelected,_unitUID]];_chargesList ctrlSetEventHandler["LBDblClick",format["_this call %1",_chargeDoubleClick]];