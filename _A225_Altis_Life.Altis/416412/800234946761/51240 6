params[["_selectedType","",[""]],["_controlData",[],[[]]]];if(_selectedType isEqualTo""||_controlData isEqualTo[]) exitWith{};_controlData params["_control","_selectedIndex"];private _asy_display=findDisplay 876000;private _menuTitle=_asy_display displayCtrl 876002;private _mainFilterList=_asy_display displayCtrl 876003;private _mainListGroup=_asy_display displayCtrl 876005;private _mainItemList=_mainListGroup controlsGroupCtrl 1000;private _mainItemListBackground=_mainListGroup controlsGroupCtrl 1003;private _rightListGroup=_asy_display displayCtrl 876007;private _rightItemList=_rightListGroup controlsGroupCtrl 1000;private _retrieveButton=_mainListGroup controlsGroupCtrl 1001;private _relistButton=_rightListGroup controlsGroupCtrl 1001;private _filterType=_control lbData _selectedIndex;{_x ctrlSetFade 1.00;_x ctrlCommit 0.00;}forEach[_mainItemList];{_x lbSetCurSel-1}forEach[_mainItemList];{_x ctrlEnable false}forEach[_retrieveButton,_relistButton];switch(_filterType) do{case"Purchased Listings":{lbClear _mainItemList;{_x params["_storageID","_purchaserUID","_boughtFromUID","_itemClassname","_itemQuantity","_sellingPrice","_isVirtual","_isPhysical","_expiresTimeSeconds","_boughtTimeSeconds"];private _listingItemData=[];switch(true) do{case(_isVirtual isEqualTo 1):{_listingItemData=[_itemClassname,(["getName",_itemClassname]call life_fnc_virtItemCfg),(["getIcon",_itemClassname]call life_fnc_virtItemCfg)];};default{_listingItemData=[_itemClassname]call life_fnc_fetchCfgDetails};};_listingItemData params["_resourceString","_resourceDisplayName","_resourceImage"];private _formatText=switch(true) do{case(_isVirtual isEqualTo 1):{"Virtual Item"};case(_isPhysical isEqualTo 1):{"Physical Item"};};private _itemValue=switch(_formatText) do{case"Virtual Item":{1};case"Weapon":{2};case"Physical Item":{3};default{0};};private _color=[0,0.2,0,1];private _rowIndex=_mainItemList lnbAddRow[format["%1 x %2",_resourceDisplayName,_itemQuantity],_formatText];