}else{private _oldAmount=(_items select _index) select 1;(_items select _index) set[1,_oldAmount+_amount];};_totalWeight=_totalWeight+(_itemWeight*_amount);}else{if!(_index isEqualTo-1) then{if(_amount isEqualTo((_items select _index) select 1)) then{_items deleteAt _index;}else{private _oldAmount=(_items select _index) select 1;(_items select _index) set[1,_oldAmount-_amount];};_totalWeight=_totalWeight-(_itemWeight*_amount);};};[_items,_totalWeight]