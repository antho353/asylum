private _clothes=[];private _clothingString="";private _name="";private _clothingParentConfigs=["Uni_","Bpack_","Vest_","Glass_"];{_x params["_var","_val"];private _parentConfig=configName(inheritsFrom(missionConfigFile>>"CfgWeights">>_var));private _isClothing=(_clothingParentConfigs findIf{_parentConfig in _x}isNotEqualTo-1)||(getNumber(configFile>>"CfgWeapons">>_var>>"type") isEqualTo 131072);private _isWeapon="Gun_"in _parentConfig;private _isMagazine=_var isKindOf["CA_Magazine",configFile>>"CfgMagazines"];private _isIllegal=getNumber(missionConfigFile>>"CfgWeights">>_var>>"illegal") isEqualTo 1;if(_isWeapon) then{_weapons pushBack[_var,_val];};if(_isMagazine) then{_magazines pushBack[_var,_val];};if(_isClothing&&_isIllegal) then{_clothes pushBack[_var,_val];};}forEach(_housePInv select 0);if(_inv isEqualTo"") then{_inv="No illegal items.<br/>";};if(_weapons isEqualTo[]) then{_weaponString="No weapons.<br/>";}else{{_x params["_var","_val"];_weaponString=_weaponString+format["%1x %2<br/>",_val,getText(configFile>>"CfgWeapons">>_var>>"displayName")];}forEach _weapons;};if(_magazines isEqualTo[]) then{_magazineString="No magazines or grenades.<br/>";}else{{_x params["_var","_val"];_magazineString=_magazineString+format["%1x %2<br/>",_val,getText(configFile>>"CfgMagazines">>_var>>"displayName")];}forEach _magazines;};if(_clothes isEqualTo[]) then{_clothingString="No illegal clothing.";}else{{_x params["_var","_val"];_name=switch(_var) do{case("V_HarnessOGL_brn"):{"Suicide Vest"};case("U_B_CombatUniform_mcam_worn"):{"Police Uniform (SGT+)"};case("U_I_CombatUniform_shortsleeve"):{"Medic Uniform"};case("U_BG_Guerrilla_6_1"):{"Police Uniform"};case("U_B_GEN_Soldier_F"):{"Police Uniform"};case("U_Rangemaster"):{"U_Rangemaster"};default{getText(configFile>>"CfgWeapons">>_var>>"displayName")};};_clothingString=_clothingString+format["%1x %2<br/>",_val,_name];}forEach _clothes;};if(_vehicle isKindOf"House_F") then{_ownerUID=_vehicle getVariable["ga_homeOwner",""];_owner=allPlayers param[allPlayers findIf{getPlayerUID _x isEqualTo _ownerUID},objNull];if!(isNull _owner) then{_ownerName=name _owner;}else{_ownerName="(Offline) "+_ownerUID;};}else{_ownerName=((_vehicle getVariable["ga_vehOwners",""]) select 0) select 1;};[format["<t align='center'><t color='#FF0000' size='1.5'>%1</t><br/><t color='#FFD700' size='0.8'>Owned by: %2</t><br/><t color='#FFD700' size='0.8'>Additional Key Holders:</t><br/>%8<br/><t color='#FFD700' size='1.15'>Illegal items:</t><br/>%3<t color='#FFD700' size='1.15'>Weapons:</t><br/>%4<t color='#FFD700' size='1.15'>Magazines:</t><br/>%5<t color='#FFD700' size='1.15'>Clothing:</t><br/>%6<br/><t color='#FFD700' size='1.15'>Value of Illegal Items:</t><br/>$%7</t></t>",_displayName,_ownerName,_inv,_weaponString,_magazineString,_clothingString,([_value]call life_fnc_numberText),_onlineFolk],"basic"]spawn life_fnc_handleMessage;