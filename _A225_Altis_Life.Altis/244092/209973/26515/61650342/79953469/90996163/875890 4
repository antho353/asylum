if((player getVariable["ga_restrained",false])||(player getVariable["ga_downed",false])) exitWith{};if((!alive player)||((player distance(getMarkerPos"Respawn_west")))<=500) exitWith{};params[["_target",player],["_caller",player],["_actionID",0],["_unit",objNull,[objNull]]];private _unit=if(isNull _unit) then{cursorTarget}else{_unit};if((isNull _unit)||(!isPlayer _unit)||(!alive _unit)) exitWith{};private _useAdrenaline=switch(true) do{case(life_coprole in["all","medic"]&&21 in life_cop_talents&&(call life_copLevel>=4)):{false};case(life_coprole in["all","detective"]&&{32 in life_cop_talents}):{(random 10)<7.5};case(116 in life_side_talents&&call(life_medicLevel)>=4&&floor(random 3) isEqualTo 0):{false};case(804 in life_completedLifetimeQuests&&playerSide isEqualTo independent):{(random 10)<5};case(456 in life_completedLifetimeQuests&&playerSide isEqualTo civilian):{(random 10)<=2};default{true};};if(_useAdrenaline&&{!([false,"adrenalineShot",1]call life_fnc_handleInv)}) exitWith{["You don't have a adrenaline shot to give!","basic"]spawn life_fnc_handleMessage;};life_action_in_use=true;disableSerialization;5 cutRsc["life_progress","PLAIN"];private _display=uiNamespace getVariable["life_progress",displayNull];if(isNull _display) exitWith{};private _progressBar=_display displayCtrl 38201;private _progressText=_display displayCtrl 38202;