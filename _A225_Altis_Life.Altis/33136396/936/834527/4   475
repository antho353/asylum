if!(playerSide isEqualTo civilian) exitWith{};if(life_inv_drill<=0) exitWith{[2,"You need a diamond tip drill to do this."]call life_fnc_broadcast};if((life_fed_robbed param[1,-1800])>(serverTime-(60*60))) exitWith{[2,format["Security is high due to a recent robbery and you cannot open this vault. Try again in %1 minute(s).",ceil(((life_fed_robbed param[1,-1800])-(serverTime-(60*60)))/60)]]call life_fnc_broadcast};if!((vehicle player) isEqualTo player) exitWith{[2,"You cannot do this from within a vehicle."]call life_fnc_broadcast};if(["fed"]call life_fnc_activeFederalEvent) exitWith{["There is already another Federal Event happening.","basic"]spawn life_fnc_handleMessage;};if(!(life_fed_robbed select 0)&&!([5,true]call life_fnc_policeRequired)) exitWith{};if(SRV_lastRobbery>(serverTime-(60*15))) exitWith{[2,format["Security is high due to a recent robbery and you cannot open this vault. Try again in %1 minute(s).",ceil((SRV_lastRobbery-(serverTime-(60*15)))/60)]]call life_fnc_broadcast};private _nearbyVaults=(nearestObjects[player,["Land_Dome_Big_F","Land_Dome_Small_F"],30]);private _vault=if((count _nearbyVaults)>=1) then{_nearbyVaults select 0}else{objNull};if(isNull _vault) exitWith{[2,"There is no vault nearby."]call life_fnc_broadcast};if((_vault getVariable["ga_vaultlocked",1]) isEqualTo 0) exitWith{[2,"The vault is already unlocked."]call life_fnc_broadcast};private _selectionNames=selectionNames _vault;private _closestVaultDoor=_selectionNames select 0;{private _distance=player distance(_vault modelToWorld(_vault selectionPosition _x));if((_distance)<(player distance(_vault modelToWorld(_vault selectionPosition _closestVaultDoor)))) then{_closestVaultDoor=_x};}forEach _selectionNames;private _closestVaultDoorPos=(_vault modelToWorld(_vault selectionPosition _closestVaultDoor));if!(_closestVaultDoor in["door_1a","door_1b","door_2a","door_2b"]) exitWith{[2,"You must hack the vault from the electrical panel near the side door."]call life_fnc_broadcast};if((player distance _closestVaultDoorPos)>=4) exitWith{[2,"You are not close enough to the electrical panel."]call life_fnc_broadcast};if(life_action_in_use) exitWith{};life_action_in_use=true;disableSerialization;5 cutRsc["life_progress","PLAIN"];