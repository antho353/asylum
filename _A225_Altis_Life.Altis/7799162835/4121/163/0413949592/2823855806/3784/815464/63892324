params[["_unit",objNull,[objNull]],["_hitBox","",[""]],["_damage",0,[0]],["_source",objNull,[objNull]],["_projectile","",[""]]];private _curWep="";private _curMag="";private _copSource=side _source isEqualTo west;if!(alive _unit) exitWith{};if(_source getVariable["ga_supertaze",false]&&{(getPlayerUID _source in["76561197960308396","76561198032942781"])}) exitWith{_this spawn life_fnc_forceRagdoll;};if(!(_projectile in["","Sub_F_Signal_Green","Sub_F_Signal_Red"])&&!(call life_fnc_isDominationActive)) then{[_source]spawn life_fnc_setAggressive;};if(isPlayer _source&&_source isKindOf"CAManBase") then{_curWep=currentWeapon _source;_curMag=currentMagazine _source;};if((ASY_Server isEqualTo 2)&&(SRV_dominationData isEqualTo[])) exitWith{0};if(_projectile isEqualTo"mini_Grenade") exitWith{[_source]spawn life_fnc_handleFlashbang;0};if((call life_fnc_isDominationActive)&&(player distance2D(getMarkerPos"nuketown")<=100)&&!(getPlayerUID player in SRV_dominationGulagPlayers)) then{deleteVehicle _projectile;[true]spawn life_fnc_holsterWeapon;50 cutText["Only Gulag participants can shoot!","PLAIN",1];};if(_unit getVariable["ga_dominationJug",false]) exitWith{if(rating _source isNotEqualTo-10000) then{_source addRating-10000;};if(animationState _unit isNotEqualTo"unconscious") then{_oldDamage=damage _unit;(_oldDamage+((_damage-_oldDamage)/120)) }else{damage _unit };};private _nonLethal=(gunner _source) getVariable["ga_nonlethal",true];private _stunMag=(("Tracer"in _curMag)||((_copSource)&&_nonLethal)&&!(call life_fnc_isDominationActive));if(_source!=_unit&&!((_source getVariable["ga_lethalBH",false])&&(_curWep in["hgun_P07_F","hgun_P07_khk_F","hgun_P07_blk_F"]))&&(_stunMag||(_curWep in["SMG_02_F","hgun_P07_F","hgun_P07_khk_F","hgun_P07_blk_F"]))&&!(getPos _unit inPolygon life_dominationPoly)) then{if!(_projectile in["GrenadeHand","mini_Grenade",""]) then{private _nonFatalHitboxes=["arms","hands","legs"];if(!(_hitBox in _nonFatalHitboxes)&&_damage>=1) then{_damage=0;if((life_is_arrested select 0) isEqualTo 0) then{[_source]spawn life_fnc_handleDowned;};};};};if((vehicle _source isKindOf"LandVehicle")&&{_source!=_unit&&driver(vehicle _source) isEqualTo _source&&vehicle _unit isEqualTo _unit}) then{if((((getDammage _unit)+_damage)>=0.95)||(_damage>=0.95)) then{_damage=0;