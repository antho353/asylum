private _isAthira=param[3,false];private _object=if(_isAthira) then[{life_bank_lighthouse_2},{life_bank_lighthouse}];private _lights=["Cabin_illumination_hitpoint","Light_1_hitpoint","Light_2_hitpoint","Light_3_hitpoint"];private _doShutDown=({(_object getHit _x)<0.90}count _lights)>=1;disableSerialization;5 cutRsc["life_progress","PLAIN"];private _display=uiNameSpace getVariable["life_progress",displayNull];private _progressBar=_display displayCtrl 38201;private _progressText=_display displayCtrl 38202;life_action_in_use=true;private _increment=1;private _totalTime=12;private _currentPoint=0;private _loopDelay=_totalTime/floor(100/_increment);private _text=if(_doShutDown) then{"Shutting off lighthouse power";}else{"Activating lighthouse power";};private _startCount=0;_progressBar progressSetPosition _startCount;_progressText ctrlSetText format["%1 (%2%3)",_text,_startCount,"%"];["AinvPknlMstpSnonWnonDnon_medic_1",21]spawn life_fnc_handleAnim;