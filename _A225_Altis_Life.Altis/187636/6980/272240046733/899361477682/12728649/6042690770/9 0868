[["-DOWNED-",_source,(name _source),format["(%5) downed %1 (%2) (%6) with a %3, DIST: %4m. Shooter: %7, Target: %8, In War: %9",(profileName),(getPlayerUID player),(getText(configFile>>"CfgWeapons">>(currentWeapon(vehicle _source))>>"DisplayName")),(floor(player distance _source)),(side _source),(side player),getPos _source,getPos player,_isAtWar]],"TON_fnc_logIt",2,false,false]spawn life_fnc_MP;};}else{[["-SHANKED-",_source,(name _source),format["(%1) shanked %2 (%3) (%4).",side _source,(profileName),(getPlayerUID player),playerSide]],"TON_fnc_logIt",2,false,false]spawn life_fnc_MP;};};if!(_sourceStatArr isEqualTo[]) then{[["",-1,_sourceStatArr],"life_fnc_statArrUpdate",_source]spawn life_fnc_MP;};if!(isNull(player getVariable["ga_escortObj",objNull])) then{[]call life_fnc_stopEscorting;};if(player getVariable["ga_escorting",false]) then{private _escort=player getVariable["ga_escortee",objNull];[[],"life_fnc_stopEscorting",_escort,false,false]spawn life_fnc_MP;};if!(isNull objectParent player) then{private _vehicle=vehicle player;if(player isEqualTo(driver _vehicle)) then{if(_vehicle isKindOf"Helicopter") then{[[_vehicle],"TON_fnc_enableCoPilot",2]spawn life_fnc_MP;};};};life_isDowned=true;player setVariable["ga_downed",true,true];player setVariable["ga_adrenaline",false,true];player setUnconscious true;disableUserInput true;private _hndlBlur=ppEffectCreate["DynamicBlur",501];_hndlBlur ppEffectEnable true;_hndlBlur ppEffectAdjust[5];_hndlBlur ppEffectCommit 0;private _hndlBlack=ppEffectCreate["colorCorrections",1501];_hndlBlack ppEffectEnable true;_hndlBlack ppEffectAdjust[1.0,1.0,0.0,[0,0,0,0.9],[1.0,1.0,1.0,1.0],[1.0,1.0,1.0,0.0]];_hndlBlack ppEffectCommit 0;private _effects=true;private _eff1=5;private _eff2=0.9;private _time=0;private _dead=false;private _downed=true;while{_downed}do{if(alive player) then{if((_vehSource&&_time isEqualTo 5)||(_time isEqualTo 60&&!(_vehSource))||player getVariable["ga_adrenaline",false]) exitWith{_downed=false;player setVariable["ga_adrenaline",false]};}else{_downed=false;_dead=true;};if(_dead) exitWith{};_time=_time+1;uiSleep 1;};[_hndlBlur,_hndlBlack,_eff1,_eff2,_effects]spawn{params["_hndlBlur","_hndlBlack","_eff1","_eff2","_effects"];while{_effects}do{_eff1=_eff1-0.025;_eff2=_eff2-0.0045;_hndlBlur ppEffectAdjust[_eff1];_hndlBlur ppEffectCommit 0;_hndlBlack ppEffectAdjust[1.0,1.0,0.0,[0,0,0,_eff2],[1.0,1.0,1.0,1.0],[1.0,1.0,1.0,0.0]];_hndlBlack ppEffectCommit 0;uiSleep 0.01;if(_eff2<=0) then{_effects=false;};};ppEffectDestroy _hndlBlur;ppEffectDestroy _hndlBlack;};player setUnconscious false;disableUserInput false;disableUserInput true;disableUserInput false;if(stance player isEqualTo"STAND") then{player playMoveNow"AidlPercMstpSnonWnonDnon_G01";}else{player playMoveNow"AmovPpneMstpSnonWnonDnon";};life_isDowned=false;player setVariable["ga_downed",false,true];