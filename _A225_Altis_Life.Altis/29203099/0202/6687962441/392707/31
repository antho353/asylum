if(isNull _this) exitWith{};if!(alive _this&&canMove _this) exitWith{};private _unit=_this;private _anims =_unit getVariable["ASY_fnc_ambientAnim__anims",[]];private _linkedUnits=_unit getVariable["ASY_fnc_ambientAnim__linked",[]];private _linkedAnims=[];private _time=time-10;if(_anims isEqualTo[]) exitWith{};{_xTime=_x getVariable["ASY_fnc_ambientAnim__time",_time];if(_xTime>_time) then{_linkedAnims=_linkedAnims+[animationState _x];