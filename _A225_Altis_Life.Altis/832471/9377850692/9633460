};life_didServerRespond=false;private _maxDelayTime=time+5;[[player],"TON_fnc_lagCheck",false,false]spawn life_fnc_MP;waitUntil{time>_maxDelayTime||life_didServerRespond};if(time>_maxDelayTime) exitWith{["Fetching rubber failed... Try again.","basic"]spawn life_fnc_handleMessage;};_rubberCount=oil_flag getVariable["ga_cap_oil",-1];if(_rubberCount isEqualTo 0) exitWith{["There is no rubber in the container to grab!","basic"]spawn life_fnc_handleMessage;};_nearUnits=(nearestObjects[player,["Man"],10]) arrayIntersect playableUnits;if(count _nearUnits>1) exitWith{["You cannot pull out rubber while another player is near the flag!","basic"]spawn life_fnc_handleMessage;};private _diff=["rubber",_rubberCount,life_carryWeight,life_maxWeight]call life_fnc_calWeightDiff;if(_diff<=0) exitWith{["Your inventory space is full.","basic"]spawn life_fnc_handleMessage;};if!(alive player) exitWith{};if((player distance2D oil_flag)>8) exitWith{["You need to stay by the flag to retrieve the rubber!","basic"]spawn life_fnc_handleMessage;};if!(_diff isEqualTo _rubberCount) then{if([true,"rubber",_diff]call life_fnc_handleInv) then{_rubberCount=_rubberCount-_diff;[format["You have retrieved %1 rubber from the cartel. There is %2 rubber left.",_diff,_rubberCount],"basic"]spawn life_fnc_handleMessage;oil_flag setVariable["ga_cap_oil",_rubberCount,true];};}else{if([true,"rubber",_rubberCount]call life_fnc_handleInv) then{[format["You have retrieved all %1 rubber from the cartel.",_rubberCount],"basic"]spawn life_fnc_handleMessage;oil_flag setVariable["ga_cap_oil",0,true];};};