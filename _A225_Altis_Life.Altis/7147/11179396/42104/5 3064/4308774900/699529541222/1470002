#include"..\..\..\..\..\..\macro.h"
if(scriptAvailable(4)) exitWith{};if((life_cashCache!=((life_cash/4)+7))||(life_atmcashCache!=((life_atmcash/4)+5))) exitWith{[["-HACKEDMONEY-",player,profileName,format["File: %1 - money tampering attempted! Cash: %2 - Expected cash: %3 | Bank: %4 - Expected bank: %5.",_fnc_scriptName,[life_cash]call life_fnc_numberText,[((life_cashCache-7)*4)]call life_fnc_numberText,[life_atmCash]call life_fnc_numberText,[((life_atmCashCache-5)*4)]call life_fnc_numberText]],"TON_fnc_logIt",2]spawn life_fnc_MP;[[profileName,"Attempting to hack money variable."],"life_fnc_notifyAdmins",-2,false]spawn life_fnc_MP;["MemHackCash",false,false]call compile PreProcessFileLineNumbers"\a3\functions_f\Misc\fn_endMission.sqf";};params[["_val",0,[0]],["_from",objNull,[objNull]],["_transferBank",0,[0]],["_nearATMs",[],[[]]]];if(!alive player||player distance(getMarkerPos"Respawn_west")<1000) exitWith{["You cannot conduct wiretransfers while dead. Please try again.","basic"]spawn life_fnc_handleMessage;};if((remoteExecutedOwner isEqualTo clientOwner)&&((call life_adminLevel)<=2)) exitWith{[["-HACKEDMONEY-",player,profileName,format["tried to wiretransfer $%1 to themselves at position %2.",[_val]call life_fnc_numberText,getPosATL player]],"TON_fnc_logIt",2,false,false]spawn life_fnc_MP;};if((isNull _from)||!(_from in allPlayers)) exitWith{private _badPlayer=allPlayers param[allPlayers findIf{clientOwner isEqualTo remoteExecutedOwner},objNull];if!(isNull _badPlayer) then{[["-HACKEDMONEY-",_badPlayer,name _badPlayer,format["tried to wiretransfer $%1 to %2 (%3) without passing their player at position %4.",[_val]call life_fnc_numberText,profileName,getPlayerUID player,getPosATL _from]],"TON_fnc_logIt",2,false,false]spawn life_fnc_MP;