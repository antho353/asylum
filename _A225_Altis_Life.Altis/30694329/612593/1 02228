params[["_building",objNull,[objNull]]];if(isNull _building) exitWith{};if(!(_building isKindOf"House_F")) exitWith{["You are not looking at a house door.","basic"]spawn life_fnc_handleMessage};private _doors=1;while{true}do{if(!isClass(configFile>>"CfgVehicles">>(typeOf _building)>>"AnimationSources">>format["Door_%1_source",_doors])) exitWith{};_doors=_doors+1;};private _door=0;for"_i"from 1 to _doors do{private _selPos=_building selectionPosition format["Door_%1_trigger",_i];private _worldSpace=_building modelToWorld _selPos;if(player distance _worldSpace<5) exitWith{_door=_i;};};if(_door isEqualTo 0) exitWith{["You are not near a door!","basic"]spawn life_fnc_handleMessage};if((_building getVariable[format["bis_disabled_Door_%1",_door],0])==1) exitWith{["The door is already unlocked!","basic"]spawn life_fnc_handleMessage};life_action_in_use=true;closeDialog 0;disableSerialization;private _title="Repairing Door...";5 cutRsc["life_progress","PLAIN"];private _ui=uiNamespace getVariable"life_progress";private _progressBar=_ui displayCtrl 38201;private _titleText=_ui displayCtrl 38202;