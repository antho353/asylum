#include"..\..\macro.h"
if(life_hornCooldown>time) exitWith{};params["_ctrl","_code"];private _vehicle=vehicle player;if(isNull objectParent player||dialog||visibleMap||!(driver _vehicle isEqualTo player)) exitWith{};private _handled=false;private _delay=5;private _sound="";private _vehicleClassname=typeOf _vehicle;if(_code isEqualTo 0) then{if(playerSide isEqualTo west&&(call life_copLevel>=5)&&_vehicleClassname in["B_MRAP_01_F","I_MRAP_03_F","O_MRAP_02_F","O_APC_Wheeled_02_rcws_v2_F"]) exitWith{_sound="airhorn";_delay=3;_handled=true;};if(playerSide isEqualTo independent&&(call life_medicLevel>=3)&&_vehicleClassname in["O_Truck_03_medical_F","I_MRAP_03_F","O_Truck_03_fuel_F"]) exitWith{_sound="medicAirhorn";_handled=true;};if((_vehicleClassname isEqualTo"O_MRAP_02_F")&&("ifrit_carnage"in(getObjectTextures _vehicle param[0,""]))) exitWith{_sound="carnagehorn";