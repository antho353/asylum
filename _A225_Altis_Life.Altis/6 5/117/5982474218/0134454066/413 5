#include"..\..\..\..\macro.h"
if((life_cashCache!=((life_cash/4)+7))||(life_atmcashCache!=((life_atmcash/4)+5))) exitWith{[["-HACKEDMONEY-",player,profileName,format["File: %1 - money tampering attempted! Cash: %2 - Expected cash: %3 | Bank: %4 - Expected bank: %5.",_fnc_scriptName,[life_cash]call life_fnc_numberText,[((life_cashCache-7)*4)]call life_fnc_numberText,[life_atmCash]call life_fnc_numberText,[((life_atmCashCache-5)*4)]call life_fnc_numberText]],"TON_fnc_logIt",2]spawn life_fnc_MP;[[profileName,"Attempting to hack money variable."],"life_fnc_notifyAdmins",-2,false]spawn life_fnc_MP;["MemHackCash",false,false]call compile PreProcessFileLineNumbers"\a3\functions_f\Misc\fn_endMission.sqf";};params[["_vehicle",objNull,[objNull]]];if(isNull _vehicle||!(alive _vehicle)||!(typeOf _vehicle in life_houseTypes)) exitWith{};["Searching...","basic"]spawn life_fnc_handleMessage;uiSleep 2;private _ownerUID=_vehicle getVariable["ga_homeOwner",""];private _keyHolders=[_vehicle,"","getKeyHolders"]call life_fnc_keyHolderStatus;private _allCivilianPids=(allPlayers select{side _x isEqualTo civilian}) apply{getPlayerUID _x};private _onlineOwner=_ownerUID in _allCivilianPids;private _onlineKeys=_keyHolders arrayIntersect _allCivilianPids;private _onlineFolk="";{private _onlineUID=_x;private _playerObject=allPlayers param[allPlayers findIf{getPlayerUID _x isEqualTo _onlineUID},objNull];_onlineFolk=_onlineFolk+format["%1 <br/>",name _playerObject];}forEach _onlineKeys;if(!(_onlineOwner)&&_onlineKeys isEqualTo[]) exitWith{["You cannot search the contents of this house right now. Try again later.","basic"]spawn life_fnc_handleMessage};private _houseVInv=_vehicle getVariable["ga_vinv",[[],0]];private _housePInv=_vehicle getVariable["ga_pinv",[[],0]];if(_houseVInv isEqualTo[[],0]&&_housePInv isEqualTo[[],0]) exitWith{["There is nothing in this house.","basic"]spawn life_fnc_handleMessage};private _index=-1;private _value=0;private _illegalItems=["getIllegalItems"]call life_fnc_virtItemCfg;private _inv="";private _displayName=getText(configFile>>"CfgVehicles">>typeOf _vehicle>>"displayName");private _owner=objNull;private _ownerName="";private _illegalExempt=if(SRV_governorData param[3,false]) then{life_governorLegalisableItems}else{[]};{_x params["_var","_val"];_index=[_var,_illegalItems]call life_fnc_index;if(!(_index isEqualTo-1)&&!(_var in _illegalExempt)) then{_inv=_inv+format["%1 %2<br/>",_x select 1,["getName",(_x select 0)]call life_fnc_virtItemCfg];_value=_value+(_val*((_illegalItems select _index) select 1));};}forEach(_houseVInv select 0);private _weapons=[];private _weaponString="";private _magazines=[];private _magazineString="";