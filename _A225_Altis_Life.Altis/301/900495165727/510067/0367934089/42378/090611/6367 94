disableSerialization;5 cutRsc["life_progress","PLAIN"];private _ui=uiNamespace getVariable"life_progress";private _progress=_ui displayCtrl 38201;private _pgText=_ui displayCtrl 38202;private _text=format["Disarming %1.",_targetName];_pgText ctrlSetText format["%2 (1%1)...","%",_text];_progress progressSetPosition 0.01;private _cP=0.01;life_action_in_use=true;private _success=false;for"_i"from 0 to 1 step 0 do{uiSleep 0.038;_cP=_cP+0.01;_progress progressSetPosition _cP;_pgText ctrlSetText format["%3 (%1%2)...",round(_cP*100),"%",_text];if(isNull _unit) exitWith{};if(alive _unit) exitWith{};if(player distance _unit>3) exitWith{};if!(life_action_in_use) exitWith{};if(_cp>=1) exitWith{_success=true;};};5 cutText["","PLAIN"];life_action_in_use=false;player playActionNow"stop";if!(_success) exitWith{};[format["You removed all weapons from %1!",_targetName],"basic"]spawn life_fnc_handleMessage;private _vehicle=if(_nearStation) then{"HQ"}else{_vehicle};["action","disarm",1]call life_fnc_handleQuest;[[player,_vehicle],"life_fnc_disarmed",_unit,false,false]spawn life_fnc_MP;