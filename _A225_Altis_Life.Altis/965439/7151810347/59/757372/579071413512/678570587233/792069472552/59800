_progressBar progressSetPosition(1-((time-_startTime)/(life_jailReleaseTime-_startTime)));};if(!life_laser_inprogress&&!(weapons player isEqualTo[])) then{removeAllWeapons player};if(time>life_jailReleaseTime) exitWith{};if(life_bail_paid) exitWith{_bail=true;};if(life_prison_inProgress&&life_breakout) exitWith{};if!(isNull objectParent player) then{player action["Eject",vehicle player]};if((A_stats_crimes select 0) isEqualTo 0) exitWith{};if(!((getPos player) inPolygon life_jailPoly)&&!life_laser_inprogress&&!(life_clientTrialData select 0)) then{systemChat"Stay within the confines of the yard!";player setPos(getMarkerPos"jail_marker_asylum");};if(_toServeTime>0&&!(alive player)) exitWith{};asyv_thirst=100;asyv_hunger=100;[]call life_fnc_hudUpdate;if(time>_jailTimerSync) then{life_is_arrested set[2,life_jailReleaseTime-time];_jailTimerSync=time+300;[5]call life_fnc_ClUpdatePartial;["prisontime",300]call life_fnc_statArrUpdate;};};4 cutText["","PLAIN"];waitUntil{!life_isDowned};player setVariable["ga_arrested",false,true];life_is_arrested=[0,0,0];life_jailReleaseTime=99999;[5]call life_fnc_ClUpdatePartial;life_inv_shank=0;life_action_in_use=false;[true]spawn life_fnc_loadGear;switch(true) do{case(_bail):{life_bail_paid=false;["You have been released from prison.","basic"]spawn life_fnc_handleMessage;[999,getPlayerUID player]call life_fnc_wantedListAdd;[[getPlayerUID player],"TON_fnc_wantedRemove",2]spawn life_fnc_MP;player setPosATL _jailReleasePos;};case(life_breakout):{life_breakout=false;["You have escaped from prison, you still retain your previous crimes and now have a count of escaping prison.","basic"]spawn life_fnc_handleMessage;[[13,player],"TON_fnc_wantedAdd",2]spawn life_fnc_MP;[[0,format["%1 has escaped from prison!",profileName]],"life_fnc_broadcast",west]spawn life_fnc_MP;uiSleep 2;player setPos(getMarkerPos"jail_release2");};case(alive player&&!life_breakout&&!_bail):{if(((A_stats_crimes param[0,0])>=_deathPenMinimum)&&(SRV_governorData param[4,false])&&((serverCycleLength-(serverTime-serverStartTime))>=300)) exitWith{["electricChair"]spawn life_fnc_govSystem;};["You have been released from prison.","basic"]spawn life_fnc_handleMessage;[999,getPlayerUID player]call life_fnc_wantedListAdd;[[getPlayerUID player],"TON_fnc_wantedRemove",2]spawn life_fnc_MP;player setPosATL _jailReleasePos;};};