};}else{{_x ctrlEnable false;_x ctrlShow false;}forEach[_adminText,_allText];if((getPlayerUID player) isEqualTo(SRV_governorData param[0,"GovUID"])) then{_allText ctrlShow true;_allText ctrlSetText"Gov. Message All";_allText ctrlEnable true;if(_newLoad) then{_allText ctrlAddEventHandler["ButtonClick","[_this select 0, 7] call life_fnc_sendText"]};};};if(_newLoad) then{_messageHistory ctrlAddEventHandler["ButtonClick","['message_history', false, false] call life_fnc_createDialog;"];{(_x select 0) ctrlAddEventHandler["ButtonClick",format["[_this select 0, %1] call life_fnc_sendText",_x select 1]]}forEach[[_basicText,0],[_policeText,1],[_medicText,2],[_textAdmins,3]];};private _allPlayers=allPlayers-[player];{_x params[["_unit",objNull]];if(!isNull _unit&&alive _unit) then{private _index=_playerList lbAdd format["%1",name _x];_playerList lbSetData[_index,getPlayerUID _x];};}forEach _allPlayers;lbSort _playerList;if((lbSize _playerList)>=1) then{_playerList lbSetCurSel 0}else{_messageInput ctrlSetText"Nobody alive to text";{_x ctrlEnable false}forEach[_messageInput,_playerList,_basicText,_policeText,_medicText,_textAdmins,_taxiRequest,_allText,_adminText];};{_x ctrlShow false;}forEach[_taxiRequest];