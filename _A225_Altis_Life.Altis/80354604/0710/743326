params[["_vehicle",objNull,[objNull]]];if(isNull _vehicle) exitWith{};if!(alive _vehicle) exitWith{["Couldn't search the vehicle.","basic"]spawn life_fnc_handleMessage;};if(_vehicle getVariable["ga_seizing",false]) exitWith{["This vehicle inventory is already being seized!","basic"]spawn life_fnc_handleMessage;};private _isTent=if(typeOf _vehicle in["Land_TentA_F","Land_TentDome_F","B_CargoNet_01_ammo_F","B_CargoNet_01_ammo_F"]) then[{true},{false}];if!(_vehicle isKindOf"Air"||_vehicle isKindOf"Ship"||_vehicle isKindOf"LandVehicle"||_isTent) exitWith{};private _vehText=if!(_isTent) then[{"vehicle"},{"container"}];_vehicle setVariable["ga_seizing",true,true];(_vehicle getVariable["ga_vinv",[[],0]]) params["_items","_weight"];private _weapons=WeaponCargo _vehicle;private _magazines=MagazineCargo _vehicle;private _illegalValue=0;private _illegalItems=["getIllegalItems"]call life_fnc_virtItemCfg;private _idx=-1;private _seizedVirt=[];{_x params["_var","_val"];_idx=_illegalItems findIf{_x select 0==_var};if!(_idx isEqualTo-1) then{_seizedVirt pushBack _x;_illegalValue=_illegalValue+(_val*((_illegalItems select _idx) select 1));_items=_items-[_x];_weight=_weight-(_val*(["getItemWeight",_var]call life_fnc_virtItemCfg));};}forEach _items;private _multiplier=switch(true) do{case(107 in life_side_talents):{1.3};case(106 in life_side_talents):{1.2};case(105 in life_side_talents):{1.1};default{1};};_illegalValue=_illegalValue*_multiplier;private _isSuccess=false;if((_illegalValue>0)||(count(_weapons+_magazines)>0)) then{disableSerialization;5 cutRsc["life_progress","PLAIN"];private _display=uiNameSpace getVariable["life_progress",displayNull];private _progressBar=_display displayCtrl 38201;private _progressText=_display displayCtrl 38202;life_action_in_use=true;private _increment=1;private _totalTime=20;private _currentPoint=0;private _loopDelay=_totalTime/floor(100/_increment);private _text=format["Seizing %1 Inventory",_vehText];private _startCount=0;_progressBar progressSetPosition _startCount;_progressText ctrlSetText format["%1 (%2%3)",_text,_startCount,"%"];private _duration=20;private _animation="AinvPknlMstpSnonWnonDnon_medic_1";[_animation,_duration]spawn life_fnc_handleAnim;_isSuccess=for"_i"from 0 to 1 step 0 do{uiSleep _loopDelay;if(isNull _progressBar) exitWith{[2,format["You failed to seize the %1 inventory.",_vehText]]call life_fnc_broadcast;false};_currentPoint=(progressPosition _progressBar)+(_increment/100);