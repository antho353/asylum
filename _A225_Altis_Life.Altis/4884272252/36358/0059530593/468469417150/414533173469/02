_pgText ctrlSetText format["%2 (1%1)...","%",_text];_progress progressSetPosition 0.01;private _cP=0.01;private _success=false;life_action_in_use=true;player playMoveNow"AinvPknlMstpSnonWnonDnon_medic1";systemChat _text;for"_i"from 0 to 1 step 0 do{uiSleep 0.038;_cP=_cP+0.01;_progress progressSetPosition _cP;_pgText ctrlSetText format["%3 (%1%2)...",round(_cP*100),"%",_text];if(isNull _unit) exitWith{};if(alive _unit) exitWith{};if(player getVariable["ga_downed",false]||player getVariable["ga_restrained",false]) exitWith{};if!(isNull(_unit getVariable["ga_reviving",objNull])) exitWith{};if(isWeaponDeployed player) exitWith{};if(player distance _unit>3) exitWith{};if(!life_action_in_use) exitWith{};if(isNull(_unit getVariable["ga_executing",objNull])) exitWith{["This person can no longer be executed","basic"]spawn life_fnc_handleMessage;};if(_unit getVariable["ga_executing",objNull]!=player) exitWith{["Someone else is already executing this person.","basic"]spawn life_fnc_handleMessage;};if(_cP>=1) exitWith{_success=true;};};5 cutText["","PLAIN"];life_action_in_use=false;player switchMove"";_unit setVariable["ga_executing",nil,true];if(isNull _unit||!(_success)) exitWith{};if(_harvest) then{[[54,player],"TON_fnc_wantedAdd",false,false]spawn life_fnc_MP;["manflesh",1]call life_fnc_statArrUpdate;if!([true,"manflesh",1]call life_fnc_handleInv) exitWith{["You had no room for the organs.","basic"]spawn life_fnc_handleMessage;};[format["You harvested %1's organs",_targetName],"basic"]spawn life_fnc_handleMessage;profileNameSpace setVariable["ga_recent_organ",[ASY_instance_id,time+900]];[["-EXECUTE-",player,profileName,format["harvested the organs of %1 (%2), POS: %3",_targetName,_unit getVariable["ga_steamid",""],getPos _unit]],"TON_fnc_logIt",2,false,false]spawn life_fnc_MP;}else{[[53,player],"TON_fnc_wantedAdd",false,false]spawn life_fnc_MP;[format["You executed %1",_targetName],"basic"]spawn life_fnc_handleMessage;["action","execute",1]call life_fnc_handleQuest;[["-EXECUTE-",player,profileName,format["excecuted %1 (%2), POS: %3",_targetName,_unit getVariable["ga_steamid",""],getPos _unit]],"TON_fnc_logIt",2,false,false]spawn life_fnc_MP;};[[],"life_fnc_doRespawn",_unit]spawn life_fnc_MP;A_stats_civExecutes=A_stats_civExecutes+1;