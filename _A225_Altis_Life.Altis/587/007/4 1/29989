if(_upgradeCost isEqualTo-1) exitWith{};if(_upgradeCost>life_cash&&_upgradeCost>life_atmcash) exitWith{[format["You do not have %1 on-hand or in your bank to upgrade your property.",[_upgradeCost]call life_fnc_numberText],"basic"]spawn life_fnc_handleMessage;};_action=[format["Upgrading your property will increase the physical item storage to %1 space and will cost you $%2. Do you wish to continue with the purchase?",_nextPhysSpace,[_upgradeCost]call life_fnc_numberText],"Increase storage","Upgrade","Cancel"]call BIS_fnc_guiMessage;if(_action) then{life_houseTxn=true;life_action_in_use=true;if(life_cash>=_upgradeCost) then{life_cash=life_cash-_upgradeCost;life_cashCache=((life_cash/4)+7);}else{life_atmcash=life_atmcash-_upgradeCost;life_atmcashCache=((life_atmcash/4)+5);};[6]call life_fnc_ClupdatePartial;[[_property,player,_mode,_nextPhysSpace,_houseID],"TON_fnc_updateProperty",2]spawn life_fnc_MP;["Upgrading the physical storage on your property...","basic"]spawn life_fnc_handleMessage;};};case"aging":{if(_hasBarrel) exitWith{["This property already has aging capabilities...","basic"]spawn life_fnc_handleMessage;};if(_barrelCost>life_cash&&_barrelCost>life_atmcash) exitWith{[format["You do not have %1 on-hand or in your bank to upgrade your property.",[_barrelCost]call life_fnc_numberText],"basic"]spawn life_fnc_handleMessage;};_action=[format["Upgrading your property to have an aging barrel allows you to create valuable liqours at your property and will cost you $%1. Do you wish to continue with the purchase?",[_barrelCost]call life_fnc_numberText],"Add Aging Barrel","Upgrade","Cancel"]call BIS_fnc_guiMessage;if(_action) then{life_houseTxn=true;life_action_in_use=true;if(life_cash>=_barrelCost) then{life_cash=life_cash-_barrelCost;life_cashCache=((life_cash/4)+7);}else{life_atmcash=life_atmcash-_barrelCost;life_atmcashCache=((life_atmcash/4)+5);};[6]call life_fnc_ClupdatePartial;[[_property,player,_mode,-1,_houseID],"TON_fnc_updateProperty",2]spawn life_fnc_MP;["Adding aging barrel capabilties to your property...","basic"]spawn life_fnc_handleMessage;};};case"greenhouse":{if(_hasGreenhouse) exitWith{["This property already has greenhouse capabilities...","basic"]spawn life_fnc_handleMessage;};if(_greenhouseCost>life_cash&&_greenhouseCost>life_atmcash) exitWith{[format["You do not have %1 on-hand or in your bank to upgrade your property.",[_greenhouseCost]call life_fnc_numberText],"basic"]spawn life_fnc_handleMessage;};_action=[format["Upgrading your property to have an greenhouse allows you to grow cannabis at your property and will cost you $%1. Do you wish to continue with the purchase?",[_greenhouseCost]call life_fnc_numberText],"Add Greenhouse","Upgrade","Cancel"]call BIS_fnc_guiMessage;if(_action) then{life_houseTxn=true;life_action_in_use=true;if(life_cash>=_greenhouseCost) then{life_cash=life_cash-_greenhouseCost;life_cashCache=((life_cash/4)+7);}else{life_atmcash=life_atmcash-_greenhouseCost;life_atmcashCache=((life_atmcash/4)+5);};[6]call life_fnc_ClupdatePartial;[[_property,player,_mode,-1,_houseID],"TON_fnc_updateProperty",2]spawn life_fnc_MP;["Adding greenhouse capabilties to your property...","basic"]spawn life_fnc_handleMessage;};};case"leadcontainer":{if(_hasLeadContainer) exitWith{["This property already has lead container capabilities...","basic"]spawn life_fnc_handleMessage;};if(_leadContainerCost>life_cash&&_leadContainerCost>life_atmcash) exitWith{[format["You do not have %1 on-hand or in your bank to upgrade your property.",[_leadContainerCost]call life_fnc_numberText],"basic"]spawn life_fnc_handleMessage;};_action=[format["Upgrading your property to have an lead container allows you to purify lsd and store uranium at your property and will cost you $%1. Do you wish to continue with the purchase?",[_leadContainerCost]call life_fnc_numberText],"Add Lead Container","Upgrade","Cancel"]call BIS_fnc_guiMessage;if(_action) then{life_houseTxn=true;life_action_in_use=true;if(life_cash>=_leadContainerCost) then{life_cash=life_cash-_leadContainerCost;life_cashCache=((life_cash/4)+7);}else{life_atmcash=life_atmcash-_leadContainerCost;life_atmcashCache=((life_atmcash/4)+5);};[6]call life_fnc_ClupdatePartial;[[_property,player,_mode,-1,_houseID],"TON_fnc_updateProperty",2]spawn life_fnc_MP;["Adding lead container capabilties to your property...","basic"]spawn life_fnc_handleMessage;};};};