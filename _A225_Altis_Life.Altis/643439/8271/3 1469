_marker setMarkerTypeLocal"mil_dot";_marker setMarkerColorLocal"ColorOrange";_marker setMarkerTextLocal"Quest Chest";[_relog,_lootDataSaved,_lootDataSaved select 5,_questID]spawn{params["_relog","_lootDataSaved","_serverTime","_questID"];uiSleep 5;[format["<t color='#c154c1'><t size='1.5'><t align='center'>Quest Chest<br/><br/></t></t></t>Your Completetion of %1 has gave you rewards!<br/><br/>A Loot Chest has been spawned near you, it has also been marked on your map, it contains epic loot!<br/><br/>Quickly grab the loot! before its too late, you must act fast!<br/><br/>but don't worry! Only you can see the chest.",((["getQuestRowByID",_questID]call life_fnc_questsCfg) select 8),ceil((_serverTime-(serverTime-(25*60)))/60)],"warning"]spawn life_fnc_handleMessage;};[_lootChest,_marker]spawn{params["_chest","_marker"];waitUntil{uiSleep 0.25;(((_chest getVariable["ga_droppedItems",[]]) isEqualTo[])&&(((magazineCargo _chest)+(weaponCargo _chest)+(itemCargo _chest)+(weaponsItemsCargo _chest)) isEqualTo[]))};deleteVehicle _chest;deleteMarkerLocal _marker;profileNamespace setVariable["ga_questChestLootArray",[]];(findDisplay 12 displayCtrl 51) ctrlRemoveEventHandler["Draw",life_questChestTaskWaypoint];player removeSimpleTask life_questChestTask};_lootChest spawn{while{!isNull _this}do{private _lootData=profileNamespace getVariable["ga_questChestLootArray",[]];private _virtualLoot=_this getVariable["ga_droppedItems",[]];private _physArray=((magazineCargo _this)+(weaponCargo _this)+(itemCargo _this)+(weaponsItemsCargo _this));private _newPhysArray=[];{_newPhysArray pushBack[_x,1]}forEach _physArray;if(_lootData isEqualTo[]) exitWith{};profileNamespace setVariable["ga_questChestLootArray",[_lootData select 0,_lootData select 1,_virtualLoot,_newPhysArray,_lootData select 4,_lootData select 5]];uiSleep 0.15;};profileNamespace setVariable["ga_questChestLootArray",[]];};