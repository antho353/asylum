params["_wantedList","_selectedIndex"];disableSerialization;private _display=ctrlParent _wantedList;if(isNull _display) exitWith{};private _connection=_display displayCtrl 2401;private _criminalState=_display displayCtrl 2403;private _bountyPrice=_display displayCtrl 2404;private _chargesList=_display displayCtrl 2405;private _removeInput=_display displayCtrl 2406;private _removeButton=_display displayCtrl 2407;private _button1=_display displayCtrl 2408;private _button2=_display displayCtrl 2409;private _button3=_display displayCtrl 2410;lbClear _chargesList;_chargesList lbSetCurSel-1;{if(ctrlShown _x) then{_x ctrlEnable false}}forEach[_removeInput,_removeButton];if((lbCurSel _wantedList) isEqualTo-1) exitWith{};private _data=_wantedList lbData(lbCurSel _wantedList);private _data=parseSimpleArray _data;if!(_data isEqualType[]) exitWith{_wantedList lbDelete _selectedIndex;_wantedList lbSetCurSel-1;};if!(_data params[["_name",""],["_unitUID",""],["_charges",[]],["_bounty",0]]) exitWith{_wantedList lbDelete _selectedIndex;_wantedList lbSetCurSel-1;};private _players=allPlayers;private _unit=_players param[_players findIf{(getPlayerUID _x) isEqualTo _unitUID},objNull];if(isNull _unit) exitWith{_wantedList lbDelete _selectedIndex;};if(_charges isEqualTo[]) exitWith{_wantedList lbAdd"Failed to display crimes";};{_x params["_chargeID","_chargeAmount"];private _chargeName=["getChargeName",_chargeID]call life_fnc_wantedChargesConfig;private _index=_chargesList lbAdd format["%1 count(s) of %2",_chargeAmount,_chargeName];_chargesList lbSetData[_index,str _chargeID];_chargesList lbSetValue[_index,_chargeAmount];}forEach _charges;private _index=_chargesList lbAdd"";_chargesList lbSetData[_index,""];_bountyPrice ctrlSetText format["Current Bounty Price: $%1",[_bounty]call life_fnc_numberText];_criminalState ctrlSetText format["Criminal Status: %1",if(_unit getVariable["ga_arrested",false]) then{"Arrested"}else{"Not Arrested"}];private _isPardon=(ctrlText _button1) isEqualTo(toUpper"Pardon");private _toggle=!((_unit getVariable["ga_arrested",false])&&((call life_adminLevel)<=1));if(_isPardon) then{_button1 ctrlEnable _toggle}else{_button1 ctrlEnable true};if!(life_bounty_list isEqualTo[]) then{_button2 ctrlEnable true};if(((getPlayerUID player) isEqualTo _unitUID)&&(call life_adminLevel<=1)) then{{_x ctrlEnable false}forEach[_button1,_button2]};