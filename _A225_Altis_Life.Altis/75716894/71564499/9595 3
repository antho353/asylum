_pickupButton ctrlEnable false;{private _lbSize=lbSize _itemList;private _lbSizeChange=_initialLbSize-_lbSize;private _selectedIndex=if(_forEachIndex isEqualTo 0) then{_x}else{_x-_lbSizeChange};private _itemData=parseSimpleArray(_itemList lbData _selectedIndex);if(_lbSize isEqualTo 0) exitWith{closeDialog 0};if!(_itemData params[["_itemShortName","",[""]],["_itemAmount",-1,[0]]]) exitWith{};if(life_pickMenuItems isNotEqualTo[]) then{[_obj,_itemShortName,_itemAmount]call life_fnc_pickupItem;};}forEach _itemSelection;_pickupButton ctrlEnable true;