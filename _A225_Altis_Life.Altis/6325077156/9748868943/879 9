params[["_insertIndex",0],["_text",""],["_duration",5],["_priority",5],["_color",[0.50,0,0]],["_condition",{true}]];if(_text isEqualTo"") exitWith{};private["_control","_progress"];if!(call life_fnc_initMessageHUD) exitWith{};disableSerialization;private _asy_display=uiNamespace getVariable["life_message_hud",displayNull];if(isNull _asy_display) exitWith{};private _mainCtrlGroup=_asy_display displayCtrl 245001;private _mainCtrlGroupSize=ctrlPosition _mainCtrlGroup;_mainCtrlGroupSize params["_mainCtrlGroupX","_mainCtrlGroupY","_mainCtrlGroupW","_mainCtrlGroupH"];private _ctrlGroup=_asy_display ctrlCreate["Life_RscControlsGroupNoScrollbars",-1,_mainCtrlGroup];_ctrlGroup ctrlSetPosition[0,0,_mainCtrlGroupW,_mainCtrlGroupH];_ctrlGroup ctrlSetFade 1;_ctrlGroup ctrlCommit 0;private _ctrlGroupSize=ctrlPosition _ctrlGroup;_ctrlGroupSize params["_ctrlGroupX","_ctrlGroupY","_ctrlGroupW","_ctrlGroupH"];_color pushBack 0.80;private _colorBackground=[1,1,1,0.2];_progress=_asy_display ctrlCreate["RscProgress",1001,_ctrlGroup];_progress ctrlSetPosition[0,0,_ctrlGroupW,0.01];_progress ctrlSetTextColor _color;_progress progressSetPosition 1;_progress ctrlCommit 0;_control=_asy_display ctrlCreate["Life_RscText",-1,_ctrlGroup];_control ctrlSetPosition(ctrlPosition _progress);_control ctrlSetBackgroundColor _colorBackground;_control ctrlCommit 0;_control=_asy_display ctrlCreate["Life_RscStructuredText",1000,_ctrlGroup];_control ctrlSetStructuredText(parseText format["<t size='0.90' font='PuristaMedium'>%1</t>",_text]);_control ctrlSetPosition[0,0.01,_ctrlGroupW,0.05];_control ctrlSetBackgroundColor[0,0,0,0.75];_control ctrlSetTextColor[1,1,1,0.91];_control ctrlCommit 0;private _messageHeight=0.00;_control ctrlSetPosition[0,0.01,_ctrlGroupW,(ctrlTextHeight _control)+0.01];