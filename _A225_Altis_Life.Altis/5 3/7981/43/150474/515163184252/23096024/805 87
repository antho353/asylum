life_drug_level=selectMax life_addiction;if(life_drug_level isEqualTo 0) exitWith{["You do not have a drug addiction!","basic"]spawn life_fnc_handleMessage};(switch(true) do{case(life_drug_level>=0.9):{["extreme",life_drug_level*10000]};case(life_drug_level>=0.7):{["major",life_drug_level*10000]};case(life_drug_level>=0.5):{["substantial",life_drug_level*10000]};case(life_drug_level>=0.3):{["moderate",life_drug_level*10000]};case(life_drug_level>=0.1):{["minor",life_drug_level*10000]};default{["trivial",10]};}) params["_addictionLevel","_cost"];private _action=[format["<t align='center'>You have a <t color='#FF0000'>%1 drug addiction</t>! Getting cleaned up in rehab will cost you $%2. Proceed?</t>",_addictionLevel,[round _cost]call life_fnc_numberText],"Rehab","Yes","No"]call BIS_fnc_guiMessage;if!(_action) exitWith{};if!([round _cost]call life_fnc_debitCard) exitWith{};