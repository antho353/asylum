params["_control","_selectedIndex"];disableSerialization;private _getQuestProgress={params["_questID","_isLifetime"];private _return="";switch(true) do{case(_isLifetime):{private _lifetimeChosen=life_LifetimeProgressQuests param[life_LifetimeProgressQuests findIf{_questID isEqualTo(_x select 0)},[]];switch(true) do{case(_questID in life_completedLifetimeQuests):{_return="Completed"};case(_lifetimeChosen isEqualTo[]):{_return="No Progress"};default{_lifetimeChosen params["","_amountDone"];_return=format["%1 Completed",[_amountDone]call life_fnc_numberText];};};};case(!_isLifetime):{switch(true) do{case(_questID in life_completedQuests):{_return="Completed"};case!(_questID isEqualTo life_activeQuest):{_return="Not Active"};case(life_activeQuest isEqualTo 0):{_return="Not Active"};case(life_questProgress isEqualTo[]):{_return="No Progress"};default{_progressString="Completed: ";{_x params["_xRequired","_xCount"];_xRequired=if(playerSide isEqualTo west) then{""}else{format["%1: ",_xRequired]};if(count life_questProgress isEqualTo 1) exitWith{_progressString=_progressString+format["%1%2",_xRequired,[_xCount]call life_fnc_numberText];};if(_forEachIndex isEqualTo(count life_questProgress-1)) then{_progressString=_progressString+format["and %1%2",_xRequired,[_xCount]call life_fnc_numberText];}else{_progressString=_progressString+format["%1%2, ",_xRequired,[_xCount]call life_fnc_numberText];};}forEach life_questProgress;_return=_progressString;};};};};_return};private _display=findDisplay 8100;if(isNull _display) exitWith{};private _list=_display displayCtrl 8101;private _infoText=_display displayCtrl 8102;private _questAmountDone=_display displayCtrl 8103;private _acceptButton=_display displayCtrl 8104;private _index=_list lbValue _selectedIndex;private _selectedQuest=["getQuestRowByID",_index]call life_fnc_questsCfg;