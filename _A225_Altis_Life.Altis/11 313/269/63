private _isSuccess=for"_i"from 0 to 1 step 0 do{uiSleep _loopDelay;if(isNull _progressBar) exitWith{["The process has failed","basic"]spawn life_fnc_handleMessage;false;};_currentPoint=(progressPosition _progressBar)+(_increment/100);_progressBar progressSetPosition _currentPoint;_progressText ctrlSetText format["%1 (%2%3)",_text,round(_currentPoint*100),"%"];if(_currentPoint>=1) exitWith{true};if!((vehicle player) isEqualTo player) exitWith{["The process has failed","basic"]spawn life_fnc_handleMessage;false;};if((!life_action_in_use)||(!alive player)||(((player distance life_bank_generator)>=6)&&(player distance life_bank_generator_2>=6))) exitWith{["The process has failed","basic"]spawn life_fnc_handleMessage;false;};false;};[]spawn life_fnc_handleAnim;player switchMove"";5 cutText["","PLAIN"];life_action_in_use=false;if(_isSuccess) then{[[_doShutDown,_object],"TON_fnc_bankLightHouseToggle",2]spawn life_fnc_MP;};