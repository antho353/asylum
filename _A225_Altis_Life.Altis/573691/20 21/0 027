[[_sprayObject,120],"TON_fnc_setCleanTime",2]spawn life_fnc_MP;profileNameSpace setVariable["ga_recent_spray",[ASY_instance_id,serverTime+120]];}else{private _sprayObject="UserTexture1m_F"createVehicleLocal[getPosATL player param[0,0],getPosATL player param[1,0],(getPosATL player param[2,0])+0.02];_sprayObject setObjectTexture[0,_Path];_sprayObject attachTo[player,[0,1,1.10]];_sprayObject addEventHandler["handleDamage",{private _damage=0.5;private _asy_dmg=player;_asy_dmg setDamage(damage player+_damage)}];life_sprayObject=_sprayObject;[[player,"sprayCanStart"],"life_fnc_playSound",(allPlayers select{(_x distance player)<=25})]spawn life_fnc_MP;waitUntil{uiSleep 0.1;!(_sprayObject in(attachedObjects player))};private _globalSprayObj=createVehicle["UserTexture1m_F",[(getPosATL player param[0,0]),(getPosATL player param[1,0]),((getPosATL player param[2,0])+0.02)],[],0,"CAN_COLLIDE"];_globalSprayObj setVectorDirAndUp[vectorDir _sprayObject,vectorUp _sprayObject];_globalSprayObj setDir(getDir _sprayObject);_globalSprayObj setPosATL(getPosATL _sprayObject);_savedSprayImage params["_IDX","_Name","_Path","_Unlocked"];_globalSprayObj setObjectTextureGlobal[0,_Path];[[_globalSprayObj,120],"TON_fnc_setCleanTime",2]spawn life_fnc_MP;[[player,"sprayCanEnd"],"life_fnc_playSound",(allPlayers select{(_x distance player)<=25})]spawn life_fnc_MP;profileNameSpace setVariable["ga_recent_spray",[ASY_instance_id,time+120]];deleteVehicle life_sprayObject;};};case("setSpray"):{_sprayCanData params[["_localPicture",objNull,[objNull]]];if(_localPicture isNotEqualTo life_sprayObject) exitWith{};detach life_sprayObject;};};