private _loopDelay=_totalTime/floor(100/_increment);private _text=if(playerSide isEqualTo civilian) then{"Bolt cutting federal reserve gate"}else{"Unlocking federal reserve gate"};private _startCount=0;_progressBar progressSetPosition _startCount;_progressText ctrlSetText format["%1 (%2%3)",_text,_startCount,"%"];private _duration=5.882;private _animation="AinvPknlMstpSnonWnonDnon_medic_1";[_animation,_duration]spawn life_fnc_handleAnim;private _isSuccess=for"_i"from 0 to 1 step 0 do{uiSleep _loopDelay;if(isNull _progressBar) exitWith{[2,"You have failed to bolt cut the gate."]call life_fnc_broadcast;false};_currentPoint=(progressPosition _progressBar)+(_increment/100);_progressBar progressSetPosition _currentPoint;_progressText ctrlSetText format["%1 (%2%3)",_text,round(_currentPoint*100),"%"];if(_currentPoint>=1) exitWith{true};if!((vehicle player) isEqualTo player) exitWith{[2,"You have failed to bolt cut the gate."]call life_fnc_broadcast;false};if(player getVariable["ga_downed",false]||player getVariable["ga_restrained",false]) exitWith{[2,"You have failed to bolt cut the gate."]call life_fnc_broadcast;false};if((!life_action_in_use)||(!alive player)||((player distance _gate)>7)) exitWith{[2,"You have failed to bolt cut the gate."]call life_fnc_broadcast;false};if(["fed"]call life_fnc_activeFederalEvent) exitWith{["There is already another Federal Event happening.","basic"]spawn life_fnc_handleMessage;false};false;};life_action_in_use=false;[]spawn life_fnc_handleAnim;5 cutText["","PLAIN"];if(_isSuccess) then{["boltcut",1]call life_fnc_statArrUpdate;private _max=if(40 in life_side_talents||playerSide isEqualTo west) then{1}else{0.25};_max=if((_gate getVariable["gate_max",0]) isEqualTo 0.25) then{1}else{_max};_gate setVariable["gate_max",_max,true];[2,"The gate is now unlocked."]call life_fnc_broadcast;_gate animateSource["door_1_sound_source",_gate getVariable["gate_max",1]];if(!(life_fed_robbed select 0)&&(playerSide isEqualTo civilian)) then{private _chance=if(43 in life_side_talents) then{3}else{1};if((ceil(random _chance)) isEqualTo 1) then{[[player],"TON_fnc_fedRobbery",2]spawn life_fnc_MP;};};};