case(_itemClassname isKindOf["Pistol",configFile>>"CfgWeapons"]):{[!((handgunWeapon player) isEqualTo""),"handgun"]};default{[false,""]};};private _action=if((_itemCount isEqualTo 1)&&(_weaponType param[0,false])) then{[format["You already have a %1 equipped, gathering another will replace it. Gather anyway?",_weaponType select 1],"Duplicate Item Warning","Yes","No"]call BIS_fnc_guiMessage;}else{true};private _weaponAttachmentsArray=_lootArray param[2,[]];private _weaponAmmoArray=_lootArray param[3,[]];if(_action&&(_itemCount isEqualTo 1)&&(_weaponAmmoArray isEqualTo[])&&(count _weaponAttachmentsArray isEqualTo 1)) then{player addWeapon _itemClassname;{player addWeaponItem[_itemClassname,_x]}forEach _weaponAttachmentsArray;[format["Your weapon has been given into your hands!"],"basic"]spawn life_fnc_handleMessage;}else{private _holder=nearestObject[player,"groundWeaponHolder"];[_itemClassname,_itemCount,player,_holder]call life_fnc_dropPhysicalItem;if(_weaponAttachmentsArray isNotEqualTo[]) then{{private _holder=nearestObject[player,"groundWeaponHolder"];[_x,1,player,_holder]call life_fnc_dropPhysicalItem;}forEach _weaponAttachmentsArray;};if(_weaponAmmoArray isNotEqualTo[]) then{{private _holder=nearestObject[player,"groundWeaponHolder"];[_x param[0,""],_x param[1,0],player,_holder]call life_fnc_dropPhysicalItem;}forEach _weaponAmmoArray;};[format["Your loot and all its content have fallen to the floor!"],"basic"]spawn life_fnc_handleMessage;};};case(_isVehicle):{life_garageCount=-1;[[getPlayerUID player,playerSide,player],"TON_fnc_garageCount",2]spawn life_fnc_MP;uiSleep 3;if(life_garageCount>=(call life_maxGarageVeh)) then{private _vehSellPrice=(["getVehicleRowParsed","",_itemClassname]call life_fnc_vehicleConfig) param[8,5000];life_atmcash=life_atmcash+_vehSellPrice;life_atmcashCache=((life_atmcash/4)+5);[1]call life_fnc_ClupdatePartial;_rewardString=format["Since you had too many vehicles in your garage. You were given $%1 as compensation into your bank account",[_vehSellPrice]call life_fnc_numberText];}else{_rewardString=format["You were awarded a fancy brand new %1!",([_itemClassname]call life_fnc_fetchCfgDetails) param[1,""]];[["giveCar",[getPlayerUID player,player,_itemClassname]],"TON_fnc_loginBonusSRV",2]spawn life_fnc_MP;};};default{};};private _formatString=format["%1. Thank you for playing everyday for the past %2 day(s)",_rewardString,(life_loginBonusData param[1,0])];[_formatString,"login_bonus"]spawn life_fnc_handleMessage;[["-LOGINBONUS-",player,profileName,format["Retrieved a login bonus, Loot: %1, Played for %2 Day(s), POS: %3",_lootArray,(life_loginBonusData param[1,0]),getPos player]],"TON_fnc_logIt",2,false,false]spawn life_fnc_MP;player switchMove"";life_loginBonusData set[2,false];["loginbonusopened",1]call life_fnc_statArrUpdate;[["updatePlayerData",[getPlayerUID player,(life_loginBonusData param[1,0])]],"TON_fnc_loginBonusSRV",2]spawn life_fnc_MP;