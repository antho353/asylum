params[["_unit",objNull,[objNull]],["_boltcut",false,[false]]];if!(playerSide isEqualTo civilian) exitWith{["You must be a civilian.","basic"]spawn life_fnc_handleMessage;};if(typeOf _unit isEqualTo"O_Truck_03_covered_F") exitWith{["The locks on this vehicle are too advanced to lockpick!","basic"]spawn life_fnc_handleMessage;};if!(isNull objectParent player) exitWith{["You cannot lockpick while inside a vehicle.","basic"]spawn life_fnc_handleMessage;};if(player distance getmarkerPos"courtroom"<75||life_action_in_use) exitWith{};if!(_unit isKindOf"LandVehicle"||_unit isKindOf"Air"||_unit isKindOf"Ship"||_unit getVariable["ga_restrained",false]) exitWith{["You cannot lockpick this unit.","basic"]spawn life_fnc_handleMessage;};if(player distance _unit>7) exitWith{["You need to be within 7 meters!","basic"]spawn life_fnc_handleMessage;};if(player getVariable["ga_surrendered",false]) exitWith{["You probably need your hands free to lockpick this!","basic"]spawn life_fnc_handleMessage;};if(_unit getVariable["ga_side",""]isEqualTo"med") exitWith{["Medical vehicles are unable to be stolen!","basic"]};if(_unit in life_vehicles) exitWith{["This vehicle is already in your keychain.","basic"]spawn life_fnc_handleMessage;};if(typeOf _unit in["I_Truck_02_transport_F","I_Truck_02_covered_F","B_Truck_01_transport_F","B_Truck_01_box_F","O_MRAP_02_F","B_MRAP_01_F","I_MRAP_03_F","O_APC_Wheeled_02_rcws_v2_F"]&&!(58 in life_side_talents)) exitWith{["You don't have the talent to lockpick such a heavy vehicle.","basic"]spawn life_fnc_handleMessage;};if(_unit isKindOf"Air"&&!(59 in life_side_talents)) exitWith{["Lockpicking helicopters requires a talent which you don't have.","basic"]spawn life_fnc_handleMessage;};if(_boltcut&&(_unit isKindOf"LandVehicle"||_unit isKindOf"Air"||_unit isKindOf"Ship")) exitWith{};if((player getVariable["ga_adminRestrain",false])||(player getVariable["ga_restrained",false])) exitWith{["You cannot do that while restrained!","basic"]spawn life_fnc_handleMessage;};if(_boltcut&&!(life_inv_boltCutter>=1)) exitWith{};if(!_boltcut&&!(life_inv_lockpick>=1)) exitWith{};closeDialog 0;private _owners=_unit getVariable["ga_vehOwners",[]];private _isMilitary=(typeOf _unit) in["O_MRAP_02_F","B_MRAP_01_F","I_MRAP_03_F","O_APC_Wheeled_02_rcws_v2_F"];private _isBountyVehicle=!((life_bounty_list findIf{((_owners select 0) select 0) in _x}) isEqualTo-1);private _dice=random 100;private _alarmSound=if!(_unit isKindOf"Air") then{"airalarm"}else{"caralarm"};private _ownsFortress=(!((gang_fortress_flag getVariable["ga_gang_fortress_data",[-1,"Unknown",false,"Unknown",grpNull]]) param[2,false])&&((gang_fortress_flag getVariable["ga_gang_fortress_data",[-1,"Unknown",false,"Unknown",grpNull]]) param[0,-1]) isEqualTo(life_gang_data param[0,-1]));private _chance=20;if(_isMilitary) then{_chance=5;};if(_unit isKindOf"Air") then{_chance=10;};if(_unit isKindOf"CAManBase"&&(454 in life_completedLifetimeQuests)) then{_chance=_chance+10;};if((_unit getVariable["ga_side",""]isEqualTo"cop")&&(459 in life_completedLifetimeQuests)) then{_chance=_chance+10;};if(57 in life_side_talents) then{_chance=_chance+10;};if(15 in life_honor_talents&&license_civ_bounty&&8 in life_side_talents) then{_chance=_chance+10;};if(_ownsFortress) then{_chance=_chance+10;};if(_boltcut) then{_chance=_dice;};disableSerialization;5 cutRsc["life_progress","PLAIN"];private _text=if(_boltcut) then{"Boltcutting..."}else{"Lockpicking..."};private _ui=uiNamespace getVariable"life_progress";