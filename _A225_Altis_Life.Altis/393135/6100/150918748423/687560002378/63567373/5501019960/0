private _filterFunction={params[["_controlData",[],[[]]]];if(_selectedType isEqualTo""||_controlData isEqualTo[]) exitWith{};_controlData params["_control","_selectedIndex"];private _asy_display=findDisplay 5300;private _list=_asy_display displayCtrl 5301;private _details=_asy_display displayCtrl 5302;private _filterList=_asy_display displayCtrl 5303;private _filterType=_control lbData _selectedIndex;lbClear _list;private _shopInfo=[_filterType]call life_fnc_virt_shops;_shopInfo params[["_title",""],["_buyItems",[]],["_sellItems",[]]];{_x params["_item"];private _price=["getLowestPrice",_item]call life_fnc_virtItemCfg;private _price=floor(_price);private _itemPic=["getIcon",_item]call life_fnc_virtItemCfg;private _name=["getName",_item]call life_fnc_virtItemCfg;_index=_list lbAdd format["%1",_name];_list lbSetTextRight[_index,format[" $%1",[_price]call life_fnc_numberText]];_list lbSetColorRight[_index,[0,0.75,0,1]];_list lbSetSelectColorRight[_index,[0,0.75,0,1]];