addMissionEventHandler["Draw3D",{private _group=group player;private _leader=leader _group;private _sideUnits=allPlayers select{(side _x) isEqualTo playerSide};private _subscriber=(call life_subscribed);private _allSideMembers=_sideUnits select{(alive _x)&&(_x in allPlayers)&&!(_x isEqualTo player)&&!(_x getVariable["ga_restrained",false])};private _allSideVehicles=(_allSideMembers apply{vehicle _x}) select{(alive _x)&&!(_x isKindOf"CAManBase")};private _allSideVehicles=_allSideVehicles arrayIntersect _allSideVehicles;private _allSideMembers=_allSideMembers select{(vehicle _x) isEqualTo _x};private _getHexPicture={params[["_unit",objNull,[objNull]]];if(_unit distance2D(getMarkerPos"respawn_west")<=1000) exitWith{"\A3\ui_f\data\igui\cfg\cursors\select_ca.paa"};if(side _unit isEqualTo independent) exitWith{"icons\med_hex.paa"};};private _getDriverName={params["_vehicle"];private _crew=crew _vehicle;private _driver=driver _vehicle;private _return=if(isNull _driver) then{name(_crew param[_crew findIf{alive _x},objNull])}else{name _driver};_return };{private _unit=_x;private _hexIcon=if(life_isCustomHexesEnabled) then{[_unit]call _getHexPicture}else{"\A3\ui_f\data\igui\cfg\cursors\select_ca.paa"};private _color=if(_subscriber) then{((profileNamespace getVariable["ga_coloredHexesData",[[-1,""],[1,1,1,1]]]) param[1,[1,1,1,1]])}else{[profileNamespace getVariable["IGUI_TEXT_RGB_R",1],profileNamespace getVariable["IGUI_TEXT_RGB_G",1],profileNamespace getVariable["IGUI_TEXT_RGB_B",1],profileNamespace getVariable["IGUI_TEXT_RGB_A",0.5]]};