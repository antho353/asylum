params[["_vehicle",objNull,[objNull]],["_mods",[0,0,0,0],[]],["_color",-1,[0]],["_customPlate","",[""]],["_vehWear",[0,1],[]],["_isSwat",false,[false]],["_isGang",false,[false]],["_isFirefighter",false,[false]],["_isSRT",false,[false]]];if(isNull _vehicle) exitWith{};if!(_vehicle isKindOf"Air"||_vehicle isKindOf"Ship"||_vehicle isKindOf"LandVehicle") exitWith{};_vehicle allowDamage true;[_vehicle]call life_fnc_clearVehicleAmmo;clearItemCargoGlobal _vehicle;clearBackpackCargoGlobal _vehicle;if(ASY_Server isEqualTo 1) then{[[_vehicle],"TON_fnc_igiInit",2]spawn life_fnc_MP;};if(count _mods<4) then{private _toAdd=4-(count _mods);for"_i"from 1 to _toAdd do{_mods pushBack 0;};};private _handling=_mods select 2;if(_handling isEqualTo 1) then{_vehicle setMass((getMass _vehicle)/1.35)};if(_handling isEqualTo 2) then{_vehicle setMass((getMass _vehicle)/1.53)};if!(_customPlate isEqualTo"") then{_vehicle setPlateNumber _customPlate;};private _side=[]call life_fnc_sideString;private _virtualCap=(["getVirtCap","",typeOf _vehicle]call life_fnc_vehicleConfig)+(_mods select 1);_vehicle setVariable["ga_side",_side,true];_vehicle setVariable["ga_vcap",_virtualCap,true];_vehicle setVariable["ga_vinv",[[],0],true];_vehicle setVariable["ga_defaultMass",getMass _vehicle,true];if((_mods findIf{_x isNotEqualTo 0}) isNotEqualTo-1) then{_vehicle setVariable["ga_mods",_mods,true]};if(_isSwat) then{_vehicle setVariable["ga_isSwat",true,true];};if(_isFirefighter) then{_vehicle setVariable["ga_isFirefighter",true,true];};if(_isSRT) then{_vehicle setVariable["ga_isSRT",true,true];};if(_isGang) then{private _vehicleOwnerArray=[[str(life_gang_data param[0,-1]),format["%1 Gang Vehicle",(life_gang_data param[1,""])]]];{_vehicleOwnerArray pushBack[(_x getVariable["ga_playerid",getPlayerUID _x]),(_x getVariable["ga_name",name _x])];}forEach([life_gang_data param[0,-1]]call life_fnc_getOnlineMembers);_vehicle setVariable["ga_vehOwners",_vehicleOwnerArray,true];