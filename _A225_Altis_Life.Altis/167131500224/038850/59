};case("electricChairEffects"):{_govData params["_asy_dmg","_profileName","_asy_pos","_chair","_posATL","_zCoord","_chairDirection"];_asy_dmg say3D["handcuffs",100];[format["%1 will be executed by electric chair in 30 seconds!",_profileName]]spawn life_fnc_handleMessage;uiSleep 30;_asy_dmg say3D["elechair",1000];uiSleep 21;for"_i"from 1 to 7 do{private _radius=1;private _dir=_asy_dmg getDir life_electricChair;private _centre=getPosATL life_electricChair;private _pos=_centre getPos[_radius,_dir];private _light="#lightpoint"createVehicleLocal _pos;_light setPosATL(_pos vectorAdd[0,0,10]);_light setLightDayLight true;_light setLightBrightness 300;_light setLightAmbient[0.05,0.05,0.1];_light setlightcolor[1,1,2];uiSleep 0.1;_light setLightBrightness 0;uiSleep(random 0.1);for"_i"from 0 to(3+random 1) do{private _time=time+0.1;_light setLightBrightness(100+random 100);waituntil{time>_time};};deleteVehicle _light;uiSleep 2.5;};};case("electricChair"):{[999,getPlayerUID player]call life_fnc_wantedListAdd;[[getPlayerUID player],"TON_fnc_wantedRemove",2]spawn life_fnc_MP;private _createCamera={life_electricChairCamera=if(isNull life_electricChairCamera) then{"camera"camCreate(getPosATL player)}else{life_electricChairCamera};waitUntil{!isNull life_electricChairCamera};private _distance=4;while{_distance>1}do{if(!lineIntersects[ATLToASL(player modelToWorld[1,_distance,2]),ATLToASL(player modelToWorld[0,0,1]),player]) exitWith{};_distance=_distance-0.5;};life_electricChairCamera camSetTarget(player modelToWorld[0,0,1]);life_electricChairCamera camSetPos(player modelToWorld[1,_distance,2]);life_electricChairCamera camSetFOV 0.33;life_electricChairCamera camSetFocus[50,0];life_electricChairCamera camCommit 0;showCinemaBorder false;life_electricChairCamera cameraEffect["internal","back"];};private _destroyCamera={life_electricChairCamera cameraEffect["terminate","back"];camDestroy life_electricChairCamera;life_electricChairCamera=objNull;};life_electricChairCamera=objNull;private _asy_dmg=player;private _asy_pos=(getPosATL life_electricChair);private _chair=life_electricChair;private _posATL=getPosATL life_electricChair;private _chairDirection=0;private _zCoord=0;private _hiddenObject="Land_ClutterCutter_small_F"createVehicle _posATL;_hiddenObject setPosATL _posATL;_hiddenObject setDir((direction _chair)-_chairDirection);private _headBucket="Land_Bucket_F"createVehicle(getPos player);_headBucket attachTo[player,[-0.05,-0.07,0.1],"Head"];_headBucket setVectorUp[0,0,-1];player attachTo[_hiddenObject,[0,0,_zCoord]];player forceAddUniform"U_C_Scientist";[]spawn{uiSleep 0.5;[uniform player,"setIdx",28]call life_fnc_clothingTextures;};life_killedByElectricChair=true;[]spawn _createCamera;_asy_dmg say3D["handcuffs",100];["You will be put down like a dog, momentarily. Thank you for cooperating with your Governor!"]spawn life_fnc_handleMessage;private _toSend=(allPlayers-[player]) select{(_x distance player)<=75};[["electricChairEffects",[player,profileName,_asy_pos,_chair,_posATL,_zCoord,_chairDirection]],"life_fnc_govSystem",_toSend,false,false]spawn life_fnc_MP;if(isWeaponDeployed player) then{player playMove"";};_asy_dmg setPosATL _asy_pos;[["crew",75,"switchMove",player],"life_fnc_handleAnim",allPlayers select{(_x distance player)<=75}]spawn life_fnc_MP;uiSleep 30;player say3D["elechair",1000];uiSleep 21;for"_i"from 1 to 7 do{private _radius=1;private _dir=player getDir life_electricChair;private _centre=getPosATL life_electricChair;private _pos=_centre getPos[_radius,_dir];private _light="#lightpoint"createVehicleLocal _pos;_light setPosATL(_pos vectorAdd[0,0,10]);_light setLightDayLight true;_light setLightBrightness 300;_light setLightAmbient[0.05,0.05,0.1];_light setlightcolor[1,1,2];uiSleep 0.1;_light setLightBrightness 0;uiSleep(random 0.1);for"_i"from 0 to(3+random 1) do{private _time=time+0.1;_light setLightBrightness(100+random 100);waitUntil{time>_time};};deleteVehicle _light;uiSleep 2.5;};uiSleep 6;_asy_dmg setDamage 1;detach player;{deleteVehicle _x}forEach[_headBucket,_hiddenObject];uiSleep 2;["You have been pardoned from prison and life.","basic"]spawn life_fnc_handleMessage;["payGovernor",[5000]]spawn life_fnc_govSystem;uiSleep 15;[]spawn _destroyCamera;[]call life_fnc_doRespawn;life_killedByElectricChair=false;["executedelectricchair",1]call life_fnc_statArrUpdate;};};