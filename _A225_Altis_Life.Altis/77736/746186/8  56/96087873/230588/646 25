life_loginBonusData params["_playerUID","_consecutiveDays","_needsGift","_wipeProgress"];if(_consecutiveDays>=101) exitWith{};if!(_needsGift) exitWith{[format["You have no login bonus loot at the moment! You have been playing everyday for the past %1 day(s)",life_loginBonusData param[1,0]],"basic"]spawn life_fnc_handleMessage;};if(playerSide isNotEqualTo civilian) exitWith{["You must be on civilian to open a login bonus crate!","basic"]spawn life_fnc_handleMessage;};if!(isNull objectParent player) exitWith{["You must be outside a vehicle to check your login bonus!","basic"]spawn life_fnc_handleMessage;};if((life_is_arrested select 0) isEqualTo 1) exitWith{["You cannot redeem your login bonus while you are in prison!","basic"]spawn life_fnc_handleMessage;};private _dialogQuestion=["Do you want to open your login bonus crate?","Asylum Login Bonus","Yes","No"]call BIS_fnc_guiMessage;if!(_dialogQuestion) exitWith{["You chose not open your Asylum Login Bonus Crate!","basic"]spawn life_fnc_handleMessage;closeDialog 0;};private _tierTable=["getCfg"]call life_fnc_loginBonusCfg;private _rewardIDX=_tierTable findIf{(_x param[0,0]) isEqualTo _consecutiveDays};private _getPicture={params["_isPhysical","_itemClassname"];if(_isPhysical) then{([_itemClassname]call life_fnc_fetchCfgDetails) param[2,""]}else{["getIcon",_itemClassname]call life_fnc_virtItemCfg };};if(_rewardIDX isNotEqualTo-1) then{(["get3Tiers",_rewardIDX]call life_fnc_loginBonusCfg) params["_previousTier","_currentTier","_nextTier"];disableUserInput true;switch(_rewardIDX) do{case(0):{_nextTier=_currentTier;_currentTier=_previousTier;_previousTier=[];};case(50):{_nextTier=[];};};["loginbonus_menu"]call life_fnc_createDialog;