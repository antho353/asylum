params[["_inJail",false]];waitUntil{!(isNull(findDisplay 46))};private _itemArray=life_gear;private _handle=[]spawn life_fnc_stripDownPlayer;waitUntil{scriptDone _handle};if(_itemArray isEqualTo[]) exitWith{switch(playerSide) do{case west:{[]call life_fnc_copLoadout;};case civilian:{[]call life_fnc_civLoadout;};case independent:{[]call life_fnc_medicLoadout;};};};_itemArray params[["_armaItems",[]],["_virtualInv",[],[[]]],["_textures",[-1,-1]]];player setUnitLoadout _armaItems;if!((_virtualInv isEqualTo[])&&_inJail) then{if((_virtualInv select 0) isEqualType[]&&{!((_virtualInv select 0) isEqualTo[])}) then{{_x params["_item","_amount"];