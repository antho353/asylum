}else{_sideItemListButton ctrlAddEventHandler["ButtonClick",format["['%1', _this] spawn life_fnc_equipLoadout",_type]];};private _allControls=allControls _asy_display;if((lbSize _filterList)<=1) then{_allControls=_allControls-[_filterList]};{waitUntil{ctrlCommitted _x};_x ctrlSetFade 0;_x ctrlCommit 0.05;}forEach _allControls;ctrlSetFocus _mainItemList;{_x ctrlEnable false;_x ctrlShow false;}forEach[_dollarsButton,_bloodMoneyButton];private _subscriber=call life_subscribed;private _loadouts=life_loadoutHolder;if(life_loadoutHolder isEqualTo[]) exitWith{closeDialog 0;["An error has occured fetching your loadouts. Please try again later or contact a developer for assistance.","basic"]spawn life_fnc_handleMessage;};if((count life_loadoutHolder)<5) then{private _toAdd=5-(count life_loadoutHolder);for[{_x=1},{_x<=_toAdd},{_x=_x+1}]do{life_loadoutHolder pushBack[];};};{if(_forEachIndex in[3,4]||{_x isEqualTo[]}) then{if(_forEachIndex in[3,4]&&!_subscriber) then{private _rowIndex=_sideItemList lnbAddRow["Asylum Plus Required","LOCKED"];_sideItemList lnbSetValue[[_rowIndex,0],-2];_sideItemList lnbSetValue[[_rowIndex,1],_forEachIndex];for"_columnIndex"from 0 to 1 do{_sideItemList lnbSetColor[[_rowIndex,_columnIndex],[1,1,1,0.5]]};}else{if(_x isEqualTo[]) then{private _rowIndex=_sideItemList lnbAddRow["Empty Slot","$0"];_sideItemList lnbSetValue[[_rowIndex,0],-4];_sideItemList lnbSetValue[[_rowIndex,1],_forEachIndex];}else{_x params["","_loadoutType","_loadoutName","_gearArray","_virtualArray"];if(_type==_loadoutType) then{private _price=[_loadoutType,_gearArray,_virtualArray]call life_fnc_getLoadoutPrice;if(_price<10&&_price>0) then{_price=10;};_price=round(_price*1.03);if!(_price isEqualTo-1) then{private _rowIndex=_sideItemList lnbAddRow[_loadoutName,format["$%1",[_price]call life_fnc_numberText]];_sideItemList lnbSetValue[[_rowIndex,0],_forEachIndex];_sideItemList lnbSetValue[[_rowIndex,1],_price];}else{private _rowIndex=_sideItemList lnbAddRow[_loadoutName,"INVALID"];_sideItemList lnbSetValue[[_rowIndex,0],-5];_sideItemList lnbSetValue[[_rowIndex,1],_forEachIndex];for"_columnIndex"from 0 to 1 do{_sideItemList lnbSetColor[[_rowIndex,_columnIndex],[1,1,1,0.5]]};};}else{private _rowIndex=_sideItemList lnbAddRow["Unavilable at this location","$0"];_sideItemList lnbSetValue[[_rowIndex,0],-3];_sideItemList lnbSetValue[[_rowIndex,1],_forEachIndex];_sideItemList lnbSetData[[_rowIndex,0],_loadoutName];for"_columnIndex"from 0 to 1 do{_sideItemList lnbSetColor[[_rowIndex,_columnIndex],[1,1,1,0.5]]};};};};}else{_x params["","_loadoutType","_loadoutName","_gearArray","_virtualArray"];if(_type==_loadoutType) then{private _price=[_loadoutType,_gearArray,_virtualArray]call life_fnc_getLoadoutPrice;if(_price<10&&_price>0) then{_price=10;};_price=round(_price*1.03);if!(_price isEqualTo-1) then{private _rowIndex=_sideItemList lnbAddRow[_loadoutName,format["$%1",[_price]call life_fnc_numberText]];_sideItemList lnbSetValue[[_rowIndex,0],_forEachIndex];_sideItemList lnbSetValue[[_rowIndex,1],_price];}else{private _rowIndex=_sideItemList lnbAddRow[_loadoutName,"INVALID"];_sideItemList lnbSetValue[[_rowIndex,0],-5];_sideItemList lnbSetValue[[_rowIndex,1],_forEachIndex];for"_columnIndex"from 0 to 1 do{_sideItemList lnbSetColor[[_rowIndex,_columnIndex],[1,1,1,0.5]]};};}else{private _rowIndex=_sideItemList lnbAddRow["Unavilable at this location","$0"];_sideItemList lnbSetValue[[_rowIndex,0],-3];_sideItemList lnbSetValue[[_rowIndex,1],_forEachIndex];_sideItemList lnbSetData[[_rowIndex,0],_loadoutName];for"_columnIndex"from 0 to 1 do{_sideItemList lnbSetColor[[_rowIndex,_columnIndex],[1,1,1,0.5]]};};};}forEach _loadouts;