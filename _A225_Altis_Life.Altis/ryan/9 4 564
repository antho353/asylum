#include"..\macro.h"
params[["_bountyIndex",-1,[0]]];if(_bountyIndex isEqualTo-1) exitWith{};if!(isNull objectParent player) exitWith{["You can't track a bounty from within a vehicle!","basic"]spawn life_fnc_handleMessage};private _searchTime=switch(true) do{case(12 in life_cop_talents):{120};case(11 in life_cop_talents):{180};case(10 in life_cop_talents):{360};case(9 in life_cop_talents):{480};case(playerSide isEqualTo west):{540};case(6 in life_honor_talents&&8 in life_side_talents):{120};case(5 in life_honor_talents&&8 in life_side_talents):{150};default{180};};(life_bounty_list select _bountyIndex) params["_bountyPID","_bountyName","_lastTracked"];private _count=if(7 in life_honor_talents&&8 in life_side_talents) then{{serverTime-(_x select 2)<120}count life_bounty_list;}else{0};if(_count>=2) exitWith{private _recentTracked=[];{if(serverTime-(_x select 2)<120) then{_recentTracked pushBack(_x select 2)};}forEach life_bounty_list;[format["You can only track two unique targets every 2 minutes, you can track a target again in %1 seconds.",round(_searchTime-(serverTime-(selectMin _recentTracked)))],"basic"]spawn life_fnc_handleMessage;};if((serverTime-_lastTracked)<_searchTime) exitWith{[format["You must wait %1 seconds before tracking this target again.",round((_searchTime+_lastTracked)-serverTime)],"basic"]spawn life_fnc_handleMessage};private _bounty=allPlayers param[allPlayers findIf{_bountyPID isEqualTo(getPlayerUID _x)},objNull];if(!isNull _bounty&&{_bounty distance getMarkerPos"respawn_west"<750}) exitWith{["The target is currently dead. Please wait a short while and try again.","basic"]spawn life_fnc_handleMessage};deleteMarkerLocal format["bounty_%1",_bountyIndex];deleteMarkerLocal format["bounty_dot_%1",_bountyIndex];if(isNull _bounty||{_bounty getVariable["ga_arrested",false]||_bounty getVariable["ga_invisOn",false]}) exitWith{[_bountyPID,false]call life_fnc_removeBounty};private _trackRadius=switch(true) do{case(4 in life_honor_talents&&8 in life_side_talents):{175};