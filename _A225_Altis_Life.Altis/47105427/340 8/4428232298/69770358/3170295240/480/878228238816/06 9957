private _wreck=cursorObject;private _delay=if(66 in life_side_talents) then{3.5;}else{4;};private _depth=((getPosASL player) select 2);private _success=false;private _weightGained=0;if(isNil"life_action_gathering") then{life_action_gathering=false;};if!((str(_wreck) find"wreck_")>=0) exitWith{titleText["You need to be looking at a ship wreck to use the excavator.","PLAIN"]};if(player distance _wreck>20) exitWith{titleText["You need to be closer to a ship wreck to use the excavator.","PLAIN"]};if(_depth>-15) exitWith{titleText["The excavator requires more water pressure (you're not deep enough).","PLAIN"]};if(life_carryWeight>=life_maxWeight) exitWith{titleText["You are too heavy to hold any more treasures.","PLAIN"]};if(life_action_in_use) exitWith{};if(life_action_gathering) exitWith{};life_action_gathering=true;life_action_in_use=true;private _itemTable=[["silverpiece"],30,["saltwater"],14,["lockpick"],13,["ziptie"],10,["oilp"],6,["doubloon"],15,["pearl"],6,["ruby"],6,["cocainep"],3,["tbacon"],1,["redgull"],1,["diamondf"],4];_delay=(_delay*(1-((abs(_depth+9))*0.001)));titleText["Searching Wreck...","PLAIN"];["wreckexcavate",1]call life_fnc_statArrUpdate;