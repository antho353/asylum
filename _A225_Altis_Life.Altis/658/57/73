};if!((_questReward select 1)==0) then{life_honor_exp=life_honor_exp+(_questReward select 1);[14]call life_fnc_ClupdatePartial;[format["You were awarded %1 Honor for your quest completion",[(_questReward select 1)]call life_fnc_numberText],"basic"]spawn life_fnc_handleMessage;};if!((_questReward select 2)==0) then{life_atmcash=life_atmcash+(_questReward select 2);life_atmcashCache=((life_atmcash/4)+5);[format["You were awarded $%1 for your quest completion",[(_questReward select 2)]call life_fnc_numberText],"basic"]spawn life_fnc_handleMessage;};};private _lootArray=_questData param[7,[]];if!(_lootArray isEqualTo[]) then{[player,(_lootArray select 0),(_lootArray select 1),_questID,false]spawn life_fnc_createQuestLoot;};};private _lifeTimeIDS=["getLifetimeQuestIDsByRequirements",[_mode,_item]]call life_fnc_questsCfg;if!(_lifeTimeIDS isEqualTo[]) then{private _syncProgress=false;{if!(_x in life_completedLifetimeQuests) then{private _questData=["getQuestRowByID",_x]call life_fnc_questsCfg;private _questSide=_questData param[1];if(playerSide!=_questSide) exitWith{};[_x,_quantity]call _updateLifetimeProgress;if([_x]call _isQuestComplete) then{[_x]call _handleQuestComplete;playSound"questDoneSeasonal";["seasquests_completed",1]call life_fnc_statArrUpdate;life_side_exp=life_side_exp+250;_syncProgress=true;private _questData=["getQuestRowByID",_x]call life_fnc_questsCfg;_questName=_questData param[8,"No quest name found"];_questReq=_questData param[9,"No quest description found"];_rewardInfo=_questData param[10,"No quest rewards found"];[format["<t align='center' size='1.5' color='#c154c1'>Lifetime Quest Completed</t><br/><br/>Quest %1 has been completed!<br/><br/>You completed: %2<br/><br/>Rewards Earned: %3",_questName,_questReq,_rewardInfo],"event"]spawn life_fnc_handleMessage;[["-QUESTCOMPLETED-",player,profileName,format["Finished Lifetime Quest: (%1)(%2), playerside: %3, position: %4.",_x,_questName,playerSide,getPosATL player]],"TON_fnc_logIt",2]spawn life_fnc_MP;if!(ASY_SessionID isEqualTo(profileNamespace getVariable["asyv_lastSessionID","0"])) then{profileNamespace setVariable["asyv_lastSessionID",ASY_SessionID];};};};}forEach _lifeTimeIDS;if(_syncProgress) then{[20]call life_fnc_ClupdatePartial;};};if(_item in life_questItems&&!(life_activeQuest isEqualTo 0)) then{if([life_activeQuest]call _antiCheese) exitWith{};[_mode,_quantity]call _updateNonLifetimeProgress;if([life_activeQuest]call _isQuestComplete) then{[life_activeQuest]call _handleQuestComplete;playSound"questDoneNormal";["normquests_completed",1]call life_fnc_statArrUpdate;life_side_exp=life_side_exp+75;private _questData=["getQuestRowByID",life_activeQuest]call life_fnc_questsCfg;_questName=_questData param[8,"No quest name found"];_questReq=_questData param[9,"No quest description found"];_rewardInfo=_questData param[10,"No quest rewards found"];[["-QUESTCOMPLETED-",player,profileName,format["Finished Restart Cycle Quest: (%1)(%2), playerside: %3, position: %4.",life_activeQuest,_questName,playerSide,getPosATL player]],"TON_fnc_logIt",2]spawn life_fnc_MP;life_completedQuests pushBackUnique life_activeQuest;life_activeQuest=0;life_questItems=[];life_questProgress=[];[1]call life_fnc_questSync;private _priorityType=if(life_tutorialActive) then{"shortwarning"}else{"event"};[format["<t align='center' size='1.5' color='#c154c1'>Quest Completed</t><br/><br/>Quest %1 has been completed! You can now select a new quest.<br/><br/>You completed: %2<br/><br/>Rewards Earned: %3",_questName,_questReq,_rewardInfo],_priorityType]spawn life_fnc_handleMessage;if!(ASY_SessionID isEqualTo(profileNamespace getVariable["asyv_lastSessionID","0"])) then{profileNamespace setVariable["asyv_lastSessionID",ASY_SessionID];};};};if!(isNull(findDisplay 8100)) then{[]spawn life_fnc_questMenu};