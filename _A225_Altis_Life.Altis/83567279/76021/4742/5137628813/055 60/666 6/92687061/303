_titleText ctrlSetText format["%2 (1%1)...","%",_title];_progressBar progressSetPosition 0.01;private _cP=0.01;life_action_in_use=true;["AinvPknlMstpSnonWnonDnon_medic_1",21]spawn life_fnc_handleAnim;while{true}do{uiSleep 0.3;_cP=_cP+0.01;_progressBar progressSetPosition _cP;_titleText ctrlSetText format["%3 (%1%2)...",round(_cP*100),"%",_title];if!(alive player) exitWith{};if(player distance _doorPos>3) exitWith{};if(player getVariable["ga_downed",false]) exitWith{};if(player getVariable["ga_surrendered",false]) exitWith{};if(player getVariable["ga_restrained",false]) exitWith{};if(_cP>=1) exitWith{_success=true;};if!(life_action_in_use) exitWith{};};life_action_in_use=false;[]spawn life_fnc_handleAnim;player switchMove"";5 cutText["","PLAIN"];if(_success) then{[[player,_bankObject],"TON_fnc_bankRobbery",2]spawn life_fnc_MP;};