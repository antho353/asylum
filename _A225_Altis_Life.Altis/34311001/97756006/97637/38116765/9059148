params[["_loadout",[],[[]]]];_loadout params["_primary","_launcher","_handgun","_magazines","_uniform","_vest","_backpack","_items","_primitems","_secitems","_handgunitems","_uitems","_vitems","_bitems","_headgear","_goggles"];RemoveAllWeapons player;{player removeMagazine _x;}forEach(magazines player);removeUniform player;removeVest player;removeBackpack player;removeGoggles player;removeHeadGear player;{player unassignItem _x;player removeItem _x;}forEach(assignedItems player);private"_handle";if(_uniform!="") then{_handle=[_uniform,true,false,false,false]spawn life_fnc_handleItem;waitUntil{scriptDone _handle};};if(_vest!="") then{_handle=[_vest,true,false,false,false]spawn life_fnc_handleItem;waitUntil{scriptDone _handle};};if(_backpack!="") then{_handle=[_backpack,true,false,false,false]spawn life_fnc_handleItem;waitUntil{scriptDone _handle};};{_handle=[_x,true,false,false,false]spawn life_fnc_handleItem;waitUntil{scriptDone _handle};}forEach _items;if(_headgear!="") then{player addHeadGear _headgear};if(_goggles!="") then{player addGoggles _goggles};if(_primary!="") then{[_primary,true,false,false,false]spawn life_fnc_handleItem;};if(_launcher!="") then{[_launcher,true,false,false,false]spawn life_fnc_handleItem;