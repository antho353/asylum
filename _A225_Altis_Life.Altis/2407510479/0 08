};};[["-REVIVE-",player,profileName,format["was revived by %1 (%2), POS: %3",name _medic,getPlayerUID _medic,getPos player]],"TON_fnc_logIt",2,false,false]spawn life_fnc_MP;};closeDialog 0;life_deathCamera cameraEffect["TERMINATE","BACK"];camDestroy life_deathCamera;if(!_hospital&&!_admin) then{private _cost=if(side _medic isEqualTo independent) then{call life_revive_fee-1000}else{call life_revive_fee};if(playerSide isEqualTo civilian&&{player getVariable["ga_lowtime",false]}) then{[format["Due to being a newer player you've only been charged $300 for these services. In the future you will have to pay $%1 for these same services.",[_cost]call life_fnc_numberText],"basic"]spawn life_fnc_handleMessage;_cost=300;};if(life_atmcash>_cost) then{life_atmcash=life_atmcash-_cost;life_atmcashCache=((life_atmcash/4)+5);[1]call life_fnc_ClUpdatePartial;}else{life_atmcash=0;life_atmcashCache=((life_atmcash/4)+5);[1]call life_fnc_ClUpdatePartial;};};if!(isNull _medic) then{["revived","bymedic",1]spawn life_fnc_handleQuest;private _toSend=(allPlayers-[allDeadMen]-[player]) select{(side _x isEqualTo west&&_x getVariable["ga_copRole",""]in["medic","all"])||side _x isEqualTo independent};[[player,_medic],"life_fnc_medicRespondDone",_toSend]spawn life_fnc_MP;};if(!isNull _medic&&playerSide!=independent&&!_hospital) then{if(!_admin&&(side _medic isEqualTo civilian||(side _medic isEqualTo west&&!(_copMedic)))) then{[]spawn{player setVariable["ga_can_revive",(player getVariable["ga_can_revive",time])+600,true];life_revive_fatigue=time+40;systemChat"You have been revived by an unprofessional. You feel weakened.";private _asy_dmg=player;_asy_dmg setDamage 0.25;player forceWalk true;while{alive player&&(time<life_revive_fatigue)}do{if(getFatigue player<0.9) then{player setFatigue 1;};uiSleep 1.5;};if(alive player) then{systemChat"You feel a bit better now.";};player setFatigue 0.5;life_revive_fatigue=0;player forceWalk false;};};};if!(isNil"life_suicide") then{life_suicide=nil};{if!(isNil{player getVariable _x}) then{player setVariable[_x,nil,true];};}forEach["ga_revivable","ga_reviving","ga_executing"];if(life_coprole in["all","medic"]&&{20 in life_cop_talents}) then{_nextRevive=time+120};player setVariable["ga_next_revive",_nextRevive,true];life_isDead=false;[]call life_fnc_hudUpdate;player switchMove"amovppnemstpsnonwnondnon";if(call life_fnc_isDominationActive) then{player enableFatigue false;};[]spawn{uiSleep 3;[]call life_fnc_ClUpdateRequest;};