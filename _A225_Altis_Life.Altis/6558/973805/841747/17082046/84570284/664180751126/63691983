_talentInfoText ctrlSetStructuredText parseText format["<t size='0.60' align='center'>Select a talent from the tree for more information on its requirements and the benefits it brings. You must have a free talent point in order to learn a talent. Talent points are gained over time by all manors of gameplay.</t>",count _talents,_max,_free];[_side]call life_fnc_populateTalentTree;_talentListDisplayCtrl ctrlSetEventHandler["LBSelChanged",format["['%1'] call life_fnc_talentInfo",_side]];_talentButton ctrlSetEventHandler["ButtonClick",format["['%1'] call life_fnc_learnTalent",_side]];if(life_talentMenuSync) exitWith{};if(_side isEqualTo"gang"&&life_gang_data isEqualTo[]) exitWith{};if(_side isEqualTo"gang"&&{(life_gang_data select 2)>2}) exitWith{};[_side]spawn{params["_side"];if(_side isEqualTo"gang") then{life_talentMenuSync=true;private _talentCache=str life_gang_talents;private _gangID=life_gang_data select 0;waitUntil{isNull(findDisplay 123000)};if(str life_gang_talents isEqualTo _talentCache) exitWith{};private _onlineMembers=(allPlayers-[player]) select{!(_x getVariable["gang_data",[]]isEqualTo[])&&{(_x getVariable"gang_data"select 0) isEqualTo _gangID}};if!(_onlineMembers isEqualTo[]) then{[["life_gang_talents",life_gang_talents],"life_fnc_netSetVar",_onlineMembers]call life_fnc_MP;};[[[life_gang_exp,life_gang_talents],life_gang_data select 0],"TON_fnc_update1GangTalents",2]call life_fnc_MP;}else{life_talentMenuSync=true;private _talentCache=str life_side_talents;waitUntil{isNull(findDisplay 123000)};if(str life_side_talents isEqualTo _talentCache) exitWith{};[4]call life_fnc_ClupdatePartial;};if(isNull(findDisplay 123000)) then{life_talentMenuSync=false};};