}else{life_vehicles=life_vehicles-[_x];};}forEach life_vehicles;private _players=if(isNull objectParent player) then{(player nearEntities["CAManBase",12]) select{isPlayer _x&&!(_x isEqualTo player)}}else{crew(objectParent player)-[player]};;_vehicleTitle ctrlSetStructuredText parseText"<t size='0.90' align='center'>Keychain Management</t>";if((lbSize _vehicleList) isEqualTo 0) exitWith{_vehicleTitle ctrlSetStructuredText parseText"<t size='0.90' align='center'>You own no vehicles</t>"};if(_newLoad) then{_giveKeys ctrlAddEventHandler["ButtonClick","_this spawn life_fnc_keyGive"];_vehicleList ctrlAddEventHandler["LBSelChanged","ctrlEnable [2704, ((lbCurSel 2703) >= 0)]"];_playerList ctrlAddEventHandler["LBSelChanged","ctrlSetFocus ((findDisplay 2700) displayCtrl 2702); ctrlEnable [2704, ((lbCurSel 2702) >= 0)]"];};{if(!isNull _x&&alive _x) then{private _index=_playerList lbAdd format["%1",[name _x]call life_fnc_cleanName];_playerList lbSetTextRight[_index,format["[%1]",side _x]];_playerList lbSetData[_index,getPlayerUID _x];};}forEach _players;{_x ctrlEnable true}forEach[_vehicleList,_playerList];if((lbSize _playerList)>=1) then{_playerList lbSetCurSel 0}else{_playerList ctrlEnable false};private _vehicleIndex=life_vehicles findIf{_x isEqualTo(vehicle player)};if(_vehicleIndex>=0) then{_vehicleList lbSetCurSel _vehicleIndex};