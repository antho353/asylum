};};if(_code isEqualTo 62) then{if!(suspectESP_namesOn) then{suspectESP_namesOn=true;[format["ESP Names toggled ON"],"basic"]spawn life_fnc_handleMessage;}else{suspectESP_namesOn=false;[format["ESP Names toggled OFF"],"basic"]spawn life_fnc_handleMessage;};};if(_code isEqualTo 63) then{if!(suspectESP_boxesOn) then{suspectESP_boxesOn=true;[format["ESP Boxes toggled ON"],"basic"]spawn life_fnc_handleMessage;}else{suspectESP_boxesOn=false;[format["ESP Boxes toggled OFF"],"basic"]spawn life_fnc_handleMessage;};};if(_code isEqualTo 64) then{if!(suspectESP_bonesOn) then{suspectESP_bonesOn=true;[format["ESP Bones toggled ON"],"basic"]spawn life_fnc_handleMessage;}else{suspectESP_bonesOn=false;[format["ESP Bones toggled OFF"],"basic"]spawn life_fnc_handleMessage;};};if(_code isEqualTo 65) then{if!(suspectESP_tracingBulletsOn) then{BIS_tracedShooter=nil;[suspectESP_suspectObj,suspectESP_bulletsTracing]spawn BIS_fnc_traceBullets;suspectESP_tracingBulletsOn=true;[format["Bullet Tracing toggled ON"],"basic"]spawn life_fnc_handleMessage;}else{BIS_tracedShooter=nil;[player,0]spawn BIS_fnc_traceBullets;suspectESP_tracingBulletsOn=false;[format["Bullet Tracing toggled OFF"],"basic"]spawn life_fnc_handleMessage;};};if(_code isEqualTo 66) then{if!(suspectESP_eyeSightLine) then{suspectESP_eyeSightLine=true;[format["ESP Eye Sight Line toggled ON"],"basic"]spawn life_fnc_handleMessage;}else{suspectESP_eyeSightLine=false;[format["ESP  Eye Sight Line toggled OFF"],"basic"]spawn life_fnc_handleMessage;};};if(_code isEqualTo 67) then{["spectateSettings"]call life_fnc_createDialog;};if(_code isEqualTo 68) then{call _deleteESP;[format["<t color='#FF0000'><t size='1.5'><t align='center'>Spectating Suspect<br/><br/></t></t></t>You have stopped spectating: %1",suspectESP_suspectObj getVariable["ga_name",[name suspectESP_suspectObj]call life_fnc_cleanName]],"shortwarning"]spawn life_fnc_handleMessage;(findDisplay 46) displayRemoveEventHandler["KeyDown",SPEC_EXIT];[["-ADMINACTION-",player,profileName,format["stopped spectating %1 (%2).",suspectESP_suspectObj getVariable["ga_name",[name suspectESP_suspectObj]call life_fnc_cleanName],getPlayerUID suspectESP_suspectObj]],"TON_fnc_logIt",2]spawn life_fnc_MP;if((uiNamespace getVariable"RscTitleDisplayEmpty") isNotEqualTo controlNull) then{(uiNamespace getVariable["RscTitleDisplayEmpty",displayNull]) closeDisplay 0;};if((call life_fnc_isDominationActive)&&life_enableDomHUD) then{[]call life_fnc_initDomHUD;};(findDisplay 46) displayRemoveEventHandler["KeyDown",SPEC_EXIT];player switchCamera"Internal";suspectESP_suspectObj=nil;};false;}];[format["<t color='#FF0000'><t size='1.5'><t align='center'>Spectating Suspect<br/><br/></t></t></t>You are now spectating: %1",suspectESP_suspectObj getVariable["ga_name",[name suspectESP_suspectObj]call life_fnc_cleanName]],"shortwarning"]spawn life_fnc_handleMessage;[_deleteESP]spawn{params["_deleteESP"];suspectESP_suspectObj switchCamera"INTERNAL";waitUntil{uiSleep 0.1;(life_suspectInfo isNotEqualTo[])};"infoLayer"cutRsc["RscTitleDisplayEmpty","PLAIN",-1,true];private _asy_display=uiNamespace getVariable"RscTitleDisplayEmpty";private _suspectInfoTitle=_asy_display ctrlCreate["Life_RscTitle",-1];_suspectInfoTitle ctrlSetPosition[0.005*safezoneW+safezoneX,0.1634*safezoneH+safezoneY,0.145625*safezoneW,0.0249999*safezoneH];_suspectInfoTitle ctrlSetBackgroundColor[0.4,0,0,0.7];_suspectInfoTitle ctrlCommit 0;private _suspectInfoText=_asy_display ctrlCreate["Life_RscStructuredText",-1];_suspectInfoText ctrlSetPosition[0.005*safezoneW+safezoneX,0.1898*safezoneH+safezoneY,0.145625*safezoneW,0.22*safezoneH];_suspectInfoText ctrlSetBackgroundColor[0,0,0,0.5];_suspectInfoText ctrlCommit 0;private _domStatsTitle=_asy_display ctrlCreate["Life_RscTitle",-1];_domStatsTitle ctrlSetPosition[0.005*safezoneW+safezoneX,0.42586*safezoneH+safezoneY,0.145625*safezoneW,0.0249999*safezoneH];_domStatsTitle ctrlSetBackgroundColor[0.4,0,0,0.7];_domStatsTitle ctrlCommit 0;private _domStatsText=_asy_display ctrlCreate["Life_RscStructuredText",-1];_domStatsText ctrlSetPosition[0.005*safezoneW+safezoneX,0.4538*safezoneH+safezoneY,0.145625*safezoneW,0.3822*safezoneH];_domStatsText ctrlSetBackgroundColor[0,0,0,0.5];_domStatsText ctrlCommit 0;private _keyBindInfo=_asy_display ctrlCreate["Life_RscStructuredText",-1];_keyBindInfo ctrlSetPosition[0.896406*safezoneW+safezoneX,0.82*safezoneH+safezoneY,0.12375*safezoneW,0.20*safezoneH];_keyBindInfo ctrlSetBackgroundColor[0,0,0,0.5];_keyBindInfo ctrlCommit 0;_suspectInfoTitle ctrlsetText"Suspect Info";_domStatsTitle ctrlsetText"Domination Stats";_keyBindInfo ctrlSetStructuredText parseText"<t size='0.800' align='left' valign='middle' color='#ffffff'>F1 to toggle ESP</t><br/><t size='0.800' align='left' valign='middle' color='#ffffff'>F2 to toggle ESP Vehicles</t><br/><t size='0.800' align='left' valign='middle' color='#ffffff'>F3 to toggle ESP Health Bars</t><br/><t size='0.800' align='left' valign='middle' color='#ffffff'>F4 to toggle ESP Names</t><br/><t size='0.800' align='left' valign='middle' color='#ffffff'>F5 to toggle ESP Boxes</t><br/><t size='0.800' align='left' valign='middle' color='#ffffff'>F6 to toggle ESP Bones</t><br/><t size='0.800' align='left' valign='middle' color='#ffffff'>F7 to toggle Bullet Tracing</t><br/><t size='0.800' align='left' valign='middle' color='#ffffff'>F8 to toggle ESP Eye Line</t><br/><t size='0.800' align='left' valign='middle' color='#ffffff'>F9 to open Spectate Settings</t><br/><t size='0.800' align='left' valign='middle' color='#ffffff'>F10 to stop Spectating</t><br/>";private _name=name suspectESP_suspectObj;private _pid=getPlayerUID suspectESP_suspectObj;private _lastUpdatedData=time;while{!isNil"suspectESP_suspectObj"}do{if(isNil"suspectESP_suspectObj") exitWith{};private _targetName=switch(true) do{case(cursorObject isKindOf"CAManBase"):{format["%1 (Vis: %2%3) (%4m)",(name cursorTarget),(round(([objNull,"VIEW"]checkVisibility[eyePos suspectESP_suspectObj,eyePos cursorObject])*100)),"%",(round(suspectESP_suspectObj distance cursorObject))]};case((cursorObject isKindOf"Car"||cursorObject isKindOf"Ship"||cursorObject isKindOf"Air")&&!(isNull(currentPilot cursorObject))):{format["%1 (Vis: %2%3) (%4m)",(name(currentPilot cursorObject)),(round(([objNull,"VIEW"]checkVisibility[eyePos suspectESP_suspectObj,eyePos(currentPilot cursorObject)])*100)),"%",(round(suspectESP_suspectObj distance(currentPilot cursorObject)))]};default{""};};if!(_lastUpdatedData>time-15) then{_lastUpdatedData=time;[[player,getPlayerUID player,suspectESP_suspectObj,getPlayerUID suspectESP_suspectObj],"TON_fnc_adminPlayerQuerySRV",2]spawn life_fnc_MP;};private _timeDate=call life_fnc_getDateUTC;if(isNil"suspectESP_suspectObj") exitWith{};(suspectESP_suspectObj getVariable["gang_data",[-1,"No Gang"]]) params["_suspectGangID","_suspectGangName"];life_suspectInfo params["_suspectNetworkInfo","_firstJoined","_suspectCivTime","_xPlayerKills","_xPlayerDeaths","_xPlayerCaptures","_xPlayerHeadshots","_xPlayerArmorRips","_xPlayerFullAuto250mRip","_xPlayerFullAuto250m","_longTermInfo"];_longTermInfo params["_longTermKills","_longTermDeaths","_longTermsHeadshots","_longTermCaptures","_longTermRips","_domsPlayed","_longTermFullAuto250mRip","_longTermFullAuto250m"];_suspectTextFormat=format["<t %1 %2>Username: %3</t><br/><t %1 %2>Steam Profile: %4</t><br/><t %1 %2>UID: %5</t><br/><t %1 %2>Gang: %6 (%7)</t><br/><t %1 %2>Ping/Bandwith/Desync: %8</t><br/><t %1 %2>Health: %9 HP</t><br/><t %1 %2>Weapon: %10</t><br/><t %1 %2>CurObj: %12</t><br/><t %1 %2>%11 UTC</t>","size='0.85'","",_name,(suspectESP_suspectObj getVariable["ga_steamname",_name]),_pid,_suspectGangName,_suspectGangID,_suspectNetworkInfo,round(100-((getDammage suspectESP_suspectObj)*100)),getText(configFile>>"CfgWeapons">>(currentWeapon suspectESP_suspectObj)>>"DisplayName"),_timeDate,_targetName ];_domStatsTextFormat=format["<t %1 %2>First Joined: %3</t><br/><t %1 %2>Civ Hours: %4</t><br/><t %1 %2>Doms Played: %18</t><br/><t %1 %2>Session Kills: %5</t><br/><t %1 %2>Session Deaths: %6</t><br/><t %1 %2>Session K/D: %7</t><br/><t %1 %2>Session Rips: %8</t><br/><t %1 %2>Session FullAuto 250m+: %19</t><br/><t %1 %2>Session FullAuto 250m+ Rips: %20</t><br/><t %1 %2>Session Headshots: %9</t><br/><t %1 %2>Session Headshot Percent: %10%11</t><br/><t %1 %2>Total Kills: %12</t><br/><t %1 %2>Total Deaths: %13</t><br/><t %1 %2>Total K/D: %16</t><br/><t %1 %2>Total Rips: %15</t><br/><t %1 %2>Total FullAuto 250m+: %21</t><br/><t %1 %2>Total FullAuto 250m+ Rips: %22</t><br/><t %1 %2>Total Headshots: %14</t><br/><t %1 %2>Total Headshot Percent: %17%11</t>","size='0.85'","",_firstJoined,_suspectCivTime,_xPlayerKills,_xPlayerDeaths,(_xPlayerKills/_xPlayerDeaths),_xPlayerArmorRips,_xPlayerHeadshots,((_xPlayerHeadshots/_xPlayerKills)*100),"%",_longTermKills,_longTermDeaths,_longTermsHeadshots,_longTermRips,(_longTermKills/_longTermDeaths),((_longTermsHeadshots/_longTermKills)*100),_domsPlayed,_xPlayerFullAuto250m,_xPlayerFullAuto250mRip,_longTermFullAuto250m,_longTermFullAuto250mRip ];_suspectInfoText ctrlSetStructuredText(parseText _suspectTextFormat);_domStatsText ctrlSetStructuredText(parseText _domStatsTextFormat);uiSleep 0.5;};life_suspectInfo=[];};[]spawn{while{true}do{if(isNil"suspectESP_suspectObj"||life_adminMode) exitWith{};private _markers=[];private _marker="";private _color="";waitUntil{uiSleep 0.2;visibleMap};{_marker=createMarkerLocal[format["%1_marker_HAX",_x],getPos _x];private _markerType=if(_x isEqualTo suspectESP_suspectObj||_x isEqualTo player) then{"mil_arrow2"}else{"Mil_dot"};_marker setMarkerTypeLocal _markerType;_marker setMarkerTextLocal format["%1 - %2m",name _x,round(suspectESP_suspectObj distance _x)];_markers pushBack[_marker,_x];_color=switch(true) do{case(_x isEqualTo suspectESP_suspectObj||_x isEqualTo player):{"ColorOrange"};case(side _x isEqualTo west):{"colorBLUFOR"};case(side _x isEqualTo independent):{"ColorGreen"};default{"colorCivilian"};};_marker setMarkerColorLocal _color;}forEach allPlayers;while{visibleMap}do{{_x params["_marker","_unit"];if(!isNull _unit&&!isNil"_unit") then{_marker setMarkerPosLocal(getPos _unit);if((markerColor _marker) isEqualTo"ColorOrange") then{_marker setMarkerDirLocal(getDir suspectESP_suspectObj)};};}forEach _markers;if!(visibleMap) exitWith{};uiSleep 0.02;};{deleteMarkerLocal(_x select 0);}forEach _markers;_markers=[];if(isNil"suspectESP_suspectObj"||life_adminMode) exitWith{};};};};