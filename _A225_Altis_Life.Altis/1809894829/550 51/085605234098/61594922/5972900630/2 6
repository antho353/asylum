#include"..\..\..\..\..\macro.h"
if((life_cashCache!=((life_cash/4)+7))||(life_atmcashCache!=((life_atmcash/4)+5))) exitWith{[["-HACKEDMONEY-",player,profileName,format["File: %1 - money tampering attempted! Cash: %2 - Expected cash: %3 | Bank: %4 - Expected bank: %5.",_fnc_scriptName,[life_cash]call life_fnc_numberText,[((life_cashCache-7)*4)]call life_fnc_numberText,[life_atmCash]call life_fnc_numberText,[((life_atmCashCache-5)*4)]call life_fnc_numberText]],"TON_fnc_logIt",2]spawn life_fnc_MP;[[profileName,"Attempting to hack money variable."],"life_fnc_notifyAdmins",-2,false]spawn life_fnc_MP;["MemHackCash",false,false]call compile PreProcessFileLineNumbers"\a3\functions_f\Misc\fn_endMission.sqf";};params[["_vehicle",objNull,[objNull]]];if(isNull _vehicle) exitWith{};if!(alive _vehicle) exitWith{};if!(_vehicle isKindOf"Air"||_vehicle isKindOf"Ship"||_vehicle isKindOf"LandVehicle"||typeOf _vehicle in["Land_TentA_F","Land_TentDome_F","B_CargoNet_01_ammo_F","B_CargoNet_01_ammo_F"]) exitWith{};["Searching...","basic"]spawn life_fnc_handleMessage;uiSleep 2;private _virtInv=_vehicle getVariable["ga_vinv",[[],0]];private _index=-1;private _value=0;private _illegalItems=["getIllegalItems"]call life_fnc_virtItemCfg;private _inv="";private _displayName=getText(configFile>>"CfgVehicles">>typeOf _vehicle>>"displayName");private _ownerName="";private _illegalExempt=if(SRV_governorData param[3,false]) then{life_governorLegalisableItems}else{[]};{_x params["_var","_val"];_index=[_var,_illegalItems]call life_fnc_index;if(!(_var in _illegalExempt)&&!(_index isEqualTo-1)) then{_inv=_inv+format["%1 %2<br/>",_x select 1,["getName",(_x select 0)]call life_fnc_virtItemCfg];_value=_value+(_val*((_illegalItems select _index) select 1));};}forEach(_virtInv select 0);private _weapons=[];private _weaponString="";private _magazines=[];private _magazineString="";private _clothes=[];private _clothingString="";private _name="";private _oldVal=0;{private _wepAmounts=(getWeaponCargo _vehicle) select 1;_weapons pushBack[_x,_wepAmounts select _forEachIndex];}forEach((getWeaponCargo _vehicle) select 0);{private _magAmounts=(getMagazineCargo _vehicle) select 1;_magazines pushBack[_x,_magAmounts select _forEachIndex];}forEach((getMagazineCargo _vehicle) select 0);{_x params["_classname","_container"];if(getNumber(missionConfigFile>>"CfgWeights">>_classname>>"illegal") isEqualTo 1) then{private _idx=_clothes findIf{(_x select 0) isEqualTo _classname};if(_idx isEqualTo-1) then{_clothes pushBack[_classname,1];