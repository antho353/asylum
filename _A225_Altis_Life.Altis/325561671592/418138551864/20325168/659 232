};}forEach _pCache;if(_index isEqualTo-1) then{_pCache pushBack[_bag,1];}else{_pCache set[_index,[_bag,((_pCache select _index) select 1)+1]];};};private _primaryWeapon=primaryWeapon player;private _secondaryWeapon=secondaryWeapon player;private _handgunWeapon=handgunWeapon player;if!(_primaryWeapon isEqualTo"") then{{if(_x!="") then{_tempItem=_x;_index=-1;{if!(_index isEqualTo-1) exitWith{};if(_tempItem isEqualTo(_x select 0)) exitWith{_index=_forEachIndex;};}forEach _pCache;if(_index isEqualTo-1) then{_pCache pushBack[_tempItem,1];}else{_pCache set[_index,[_tempItem,((_pCache select _index) select 1)+1]];};};}forEach(primaryWeaponItems player);{_tempItem=_x;_index=-1;{if!(_index isEqualTo-1) exitWith{};if(_tempItem isEqualTo(_x select 0)) exitWith{_index=_forEachIndex;};}forEach _pCache;if(_index isEqualTo-1) then{_pCache pushBack[_tempItem,1];}else{_pCache set[_index,[_tempItem,((_pCache select _index) select 1)+1]];};}forEach(primaryWeaponMagazine player);_index=-1;{if!(_index isEqualTo-1) exitWith{};if(_primaryWeapon isEqualTo(_x select 0)) exitWith{_index=_forEachIndex;};}forEach _pCache;if(_index isEqualTo-1) then{_pCache pushBack[_primaryWeapon,1];}else{_pCache set[_index,[_primaryWeapon,((_pCache select _index) select 1)+1]];};};if!(_secondaryWeapon isEqualTo"") then{{if(_x!="") then{_tempItem=_x;_index=-1;{if!(_index isEqualTo-1) exitWith{};if(_tempItem isEqualTo(_x select 0)) exitWith{_index=_forEachIndex;};}forEach _pCache;if(_index isEqualTo-1) then{_pCache pushBack[_tempItem,1];}else{_pCache set[_index,[_tempItem,((_pCache select _index) select 1)+1]];};};}forEach(secondaryWeaponItems player);{_tempItem=_x;_index=-1;{if!(_index isEqualTo-1) exitWith{};if(_tempItem isEqualTo(_x select 0)) exitWith{_index=_forEachIndex;};}forEach _pCache;if(_index isEqualTo-1) then{_pCache pushBack[_tempItem,1];}else{_pCache set[_index,[_tempItem,((_pCache select _index) select 1)+1]];};}forEach(secondaryWeaponMagazine player);_index=-1;{if!(_index isEqualTo-1) exitWith{};if(_secondaryWeapon isEqualTo(_x select 0)) exitWith{_index=_forEachIndex;};}forEach _pCache;if(_index isEqualTo-1) then{_pCache pushBack[_secondaryWeapon,1];}else{_pCache set[_index,[_secondaryWeapon,((_pCache select _index) select 1)+1]];};};if!(_handgunWeapon isEqualTo"") then{{if(_x!="") then{_tempItem=_x;_index=-1;{if!(_index isEqualTo-1) exitWith{};if(_tempItem isEqualTo(_x select 0)) exitWith{_index=_forEachIndex;};}forEach _pCache;if(_index isEqualTo-1) then{_pCache pushBack[_tempItem,1];}else{_pCache set[_index,[_tempItem,((_pCache select _index) select 1)+1]];};};}forEach(handgunItems player);{_tempItem=_x;_index=-1;{if!(_index isEqualTo-1) exitWith{};if(_tempItem isEqualTo(_x select 0)) exitWith{_index=_forEachIndex;};}forEach _pCache;if(_index isEqualTo-1) then{_pCache pushBack[_tempItem,1];}else{_pCache set[_index,[_tempItem,((_pCache select _index) select 1)+1]];};}forEach(handgunMagazine player);_index=-1;{if!(_index isEqualTo-1) exitWith{};if(_handgunWeapon isEqualTo(_x select 0)) exitWith{_index=_forEachIndex;};}forEach _pCache;if(_index isEqualTo-1) then{_pCache pushBack[_handgunWeapon,1];}else{_pCache set[_index,[_handgunWeapon,((_pCache select _index) select 1)+1]];};};if(count(uniformItems player)>0) then{{_tempItem=_x;_index=-1;{if!(_index isEqualTo-1) exitWith{};if(_tempItem isEqualTo(_x select 0)) exitWith{_index=_forEachIndex;};}forEach _pCache;if(_index isEqualTo-1) then{_pCache pushBack[_tempItem,1];}else{_pCache set[_index,[_tempItem,((_pCache select _index) select 1)+1]];};}forEach(uniformItems player);};if(count(vestItems player)>0) then{{_tempItem=_x;_index=-1;{if!(_index isEqualTo-1) exitWith{};if(_tempItem isEqualTo(_x select 0)) exitWith{_index=_forEachIndex;};}forEach _pCache;if(_index isEqualTo-1) then{_pCache pushBack[_tempItem,1];}else{_pCache set[_index,[_tempItem,((_pCache select _index) select 1)+1]];};}forEach(vestItems player);};private _assignedItems=assignedItems player;if!(count _assignedItems IsEqualTo 0) then{{_tempItem=_x;_index=-1;{if!(_index isEqualTo-1) exitWith{};if(_tempItem isEqualTo(_x select 0)) exitWith{_index=_forEachIndex;};}forEach _pCache;if(_index isEqualTo-1) then{_pCache pushBack[_tempItem,1];}else{_pCache set[_index,[_tempItem,((_pCache select _index) select 1)+1]];};}forEach _assignedItems;};{private _details=[_x select 0]call life_fnc_fetchCfgDetails;_str=format["%1",(getText(configFile>>(_details select 6)>>_x select 0>>"DisplayName"))];_shrt=_x select 0;private _icon=getText(configFile>>(_details select 6)>>_x select 0>>"picture");_pInv lbAdd format["[%1] - %2",_x select 1,_str];_pInv lbSetData[(lbSize _pInv)-1,_shrt];_pInv lbSetValue[(lbSize _pInv)-1,_x select 1];_pInv lbSetPicture[(lbSize _pInv)-1,_icon];}forEach _pCache;{private _details=[_x select 0]call life_fnc_fetchCfgDetails;_str=format["%1",(getText(configFile>>(_details select 6)>>_x select 0>>"DisplayName"))];_shrt=_x select 0;private _icon=getText(configFile>>(_details select 6)>>_x select 0>>"picture");_tInv lbAdd format["[%1] - %2",_x select 1,_str];_tInv lbSetData[(lbSize _tInv)-1,_shrt];_tInv lbSetValue[(lbSize _tInv)-1,_x select 1];_tInv lbSetPicture[(lbSize _tInv)-1,_icon];}forEach _inventory;};