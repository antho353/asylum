if((life_cashCache!=((life_cash/4)+7))||(life_atmcashCache!=((life_atmcash/4)+5))) exitWith{[["-HACKEDMONEY-",player,profileName,format["File: %1 - money tampering attempted! Cash: %2 - Expected cash: %3 | Bank: %4 - Expected bank: %5.",_fnc_scriptName,[life_cash]call life_fnc_numberText,[((life_cashCache-7)*4)]call life_fnc_numberText,[life_atmCash]call life_fnc_numberText,[((life_atmCashCache-5)*4)]call life_fnc_numberText]],"TON_fnc_logIt",2]spawn life_fnc_MP;[[profileName,"Attempting to hack money variable."],"life_fnc_notifyAdmins",-2,false]spawn life_fnc_MP;["MemHackCash",false,false]call compile PreProcessFileLineNumbers"\a3\functions_f\Misc\fn_endMission.sqf";};if!(params[["_obj",objNull,[objNull]],["_itemShortName","",[""]],["_itemValue",-1,[0]]]) exitWith{closeDialog 0};private _items=life_pickMenuItems;private _itemLongName=["getName",_itemShortName]call life_fnc_virtItemCfg;private _illegalItems=["getIllegalItems"]call life_fnc_virtItemCfg;private _illegalItem=_illegalItems findIf{(_x select 0) isEqualTo _itemShortName}isNotEqualTo-1;private _itemList=(findDisplay 1520) displayCtrl 1521;if(_itemShortName isEqualTo"bank_money"&&playerSide isEqualTo civilian) then{[[getPlayerUID player,"ga_banktrace",time],"TON_fnc_varPersist",2]spawn life_fnc_MP;};if(playerSide isEqualTo independent&&{_itemShortName in _illegalItems}) exitWith{closeDialog 0;["Medics are unable to pick up illegal items while on duty!","basic"]spawn life_fnc_handleMessage;};private _lockedGold=false;if(_itemShortName in["goldbar"]&&{(player distance(getMarkerPos"fed_reserve")<=180)&&!(nearestObjects[player,["Land_Dome_Big_F","Land_Dome_Small_F"],30]isEqualTo[])}) then{private _vault=(nearestObjects[player,["Land_Dome_Big_F","Land_Dome_Small_F"],30]) param[0,objNull];private _safe=(nearestObjects[player,["Land_Research_house_V1_F","Land_Research_HQ_F"],10]) param[0,objNull];_lockedGold=(_vault getVariable["ga_vaultlocked",1]isEqualTo 1)||(_safe getVariable["ga_vaultlocked",1]isEqualTo 1);};if(_lockedGold) exitWith{closeDialog 0;[format["You cannot pick up %1(s) from a locked safe!",["getName",_itemShortName]call life_fnc_virtItemCfg],"basic"]spawn life_fnc_handleMessage;[["-EXPLOITITEMPICKUP-",player,(profileName),format["tried to pick up a %1 from a locked safe at POS: %2",["getName",_itemShortName]call life_fnc_virtItemCfg,(getPos player)]],"TON_fnc_logIt",2,false,false]spawn life_fnc_MP;};private _lockedTreasure=false;if((_itemShortName isEqualTo"treasure")&&((typeOf _obj) isEqualTo"Box_Syndicate_WpsLaunch_F")) then{if!([false,"treasuremap",1]call life_fnc_handleInv) then{_lockedTreasure=true;};};if(_lockedTreasure) exitWith{closeDialog 0;["You cannot pick up treasure without the map!","basic"]spawn life_fnc_handleMessage;[["-EXPLOITITEMPICKUP-",player,(profileName),format["tried to loot a treasure chest with no map at POS: %3",(getPos player)]],"TON_fnc_logIt",2,false,false]spawn life_fnc_MP;};private _deleteItem={private _lbIndex=-1;for"_i"from 0 to(lbSize _itemList-1) do{(parseSimpleArray(_itemList lbData _i)) params[["_shortName","",[""]],["_itemAmount",-1,[0]]];if(_itemShortName isEqualTo _shortName) then{_lbIndex=_i};