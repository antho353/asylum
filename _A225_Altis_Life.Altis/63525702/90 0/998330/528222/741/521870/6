params[["_unit",objNull,[objNull]],["_animset","STAND",[""]],["_gear","RANDOM",[""]],["_forcedSnapPoint",objNull,[objNull]],["_interpolate",false,[true]],["_attach",true,[true]]];private["_unit","_animset","_gear","_anims","_anim","_linked","_xSet","_azimutFix","_interpolate","_canInterpolate","_attach"];private["_attachOffset","_attachObj","_attachSpecsAuto","_attachSpecs","_attachSnap","_noBackpack","_noWeapon","_randomGear","_weapon","_forcedSnapPoint","_params"];if(isNull _unit) exitWith{};if(isNil"_forcedSnapPoint") then{_forcedSnapPoint=objNull;};if((_unit getVariable["ASY_fnc_ambientAnim__animset",""])!="") exitWith{};private _weapon=primaryWeapon _unit;if(_weapon isNotEqualTo"") then{_unit setVariable["ASY_fnc_ambientAnim__weapon",_weapon];};(_animset call BIS_fnc_ambientAnimGetParams) params["_anims","_azimutFix","_attachSnap","_attachOffset","_noBackpack","_noWeapon","_randomGear","_canInterpolate"];if(count _anims==0) exitWith{};if(_gear=="RANDOM") then{_gear=_randomGear call BIS_fnc_selectRandom;};[_unit,_gear,_noWeapon,_noBackpack,_weapon]spawn{params["_unit","_gear","_noWeapon","_noBackpack","_weapon"];uiSleep 1;switch(_gear) do{case"REBWEAP":{_unit setUnitLoadout[["srifle_DMR_04_F","","","optic_Arco_blk_F",["10Rnd_127x54_Mag",10],[],""],[],[],["U_O_R_Gorka_01_F",[["10Rnd_127x54_Mag",3,10]]],["V_PlateCarrier1_blk",[]],["B_AssaultPack_blk",[]],"H_Tank_black_F","",[],["ItemMap","","","ItemCompass","ItemWatch",""]];};case"REBVEH":{_unit setUnitLoadout[["LMG_Zafir_F","","","optic_Arco_blk_F",["150Rnd_762x54_Box",143],[],""],[],[],["U_O_PilotCoveralls",[]],["V_PlateCarrierSpec_blk",[["150Rnd_762x54_Box",2,150]]],["B_AssaultPack_blk",[["150Rnd_762x54_Box",1,150]]],"H_Cap_Black_IDAP_F","G_Balaclava_TI_G_blk_F",[],["ItemMap","","","ItemCompass","ItemWatch",""]];};case"SRTVEH":{_unit setUnitLoadout[["srifle_DMR_03_F","","","optic_Arco_blk_F",["20Rnd_762x51_Mag",7],[],""],[],[],["U_B_CombatUniform_mcam_worn",[["20Rnd_762x51_Mag",2,20],["SmokeShellBlue",1,1]]],["V_PlateCarrier1_blk",[["20Rnd_762x51_Mag",11,20],["SmokeShellBlue",2,1]]],["B_AssaultPack_blk",[["ToolKit",1],["20Rnd_762x51_Mag",1,20]]],"H_CrewHelmetHeli_B","G_Balaclava_blk",["Rangefinder","","","",[],[],""],["ItemMap","ItemGPS","","ItemCompass","ItemWatch","Integrated_NVG_F"]];_unit setObjectTexture[0,"images\domination\dom_srt_combatu.jpg"];(unitBackpack _unit) setObjectTexture[0,"images\domination\dom_srt_assaultpack.jpg"];};case"SRTWEAP":{_unit setUnitLoadout[["srifle_DMR_03_F","","","optic_Arco_blk_F",["20Rnd_762x51_Mag",7],[],""],[],[],["U_B_CombatUniform_mcam_worn",[["20Rnd_762x51_Mag",2,20],["SmokeShellBlue",1,1]]],["V_PlateCarrier1_blk",[["20Rnd_762x51_Mag",11,20],["SmokeShellBlue",2,1]]],["B_AssaultPack_blk",[["ToolKit",1],["20Rnd_762x51_Mag",1,20]]],"H_CrewHelmetHeli_B","G_Balaclava_blk",["Rangefinder","","","",[],[],""],["ItemMap","ItemGPS","","ItemCompass","ItemWatch","Integrated_NVG_F"]];_unit setObjectTexture[0,"images\domination\dom_srt_combatu.jpg"];(unitBackpack _unit) setObjectTexture[0,"images\domination\dom_srt_assaultpack.jpg"];};};if(_gear!="ASIS") then{{_unit unassignItem _x}forEach["NVGogglesB_grn_F","NVGoggles_tna_F","NVGogglesB_gry_F","NVGoggles_ghex_F","NVGoggles_hex_F","NVGoggles_urb_F","nvgoggles","nvgoggles_opfor","nvgoggles_indep"];};if(_noBackpack) then{removeBackpack _unit;};if(_noWeapon) then{_unit removeWeapon _weapon;}else{private _storedWeapon=_unit getVariable["ASY_fnc_ambientAnim__weapon",""];