#include"..\..\..\..\..\macro.h"
private _asy_obj=player;life_actions=[];if((getPlayerUID player isEqualTo"76561197966682568")||(getPlayerUID player isEqualTo"76561197960308396")) then{life_actions pushBack(_asy_obj addAction["<t color='#00FF00'>Deactivate Spangle</t>",{player setVariable["ga_supertaze",false,true];},"",1.5,false,false,"",'(player getVariable ["ga_superTaze",false])',6]);life_actions pushBack(_asy_obj addAction["<t color='#FF0000'>Activate Spangle</t>",{player setVariable["ga_supertaze",true,true];},"",1.5,false,false,"",'!(player getVariable ["ga_superTaze",false])',6]);};if!(life_scrollDisabled) then{life_actions pushBack(_asy_obj addAction["<t color='#ADFF2F'>ATM</t>",{[]call life_fnc_atmMenu},nil,1.5,true,true,"""",'((player distance cursorObject < 3 && {typeOf cursorObject in ["Land_Mattaust_ATM","Land_atm"] || [str cursorObject,"atm_0"] call KRON_StrInStr}))',6]);life_actions pushBack(_asy_obj addAction["<t color='#FFFF2F'>Gang Account</t>",{[]call life_fnc_gangAtmMenu},nil,1.5,true,true,"""",'(count life_gang_data > 0) && playerSide isEqualTo civilian && (player distance cursorObject < 3 && {typeOf cursorObject in ["Land_Mattaust_ATM","Land_atm"] || [str cursorObject,"atm_0"] call KRON_StrInStr})',6]);life_actions pushBack(_asy_obj addAction["<t color='#FF7400'>Check Mailbox</t>",{[]call life_fnc_checkMailbox},nil,1.5,true,true,"""",'player distance cursorObject < 3 && ({typeOf cursorObject in ["Land_Mattaust_ATM","Land_atm"] || [str cursorObject,"atm_0"] call KRON_StrInStr})',6]);if(vehicle player isKindOf"Air"&&driver vehicle player isEqualTo player) then{life_actions pushBack(_asy_obj addAction["Eject",{_veh=vehicle player;if(_veh!=player) then{_engineOn=isEngineOn _veh;player action["GetOut",_veh];uiSleep 1;};},"",6,false,false,"",'vehicle player isKindOf "Air" && driver vehicle player == player;',6]);};if(((vehicle player) getVariable["ga_nitro",0])>0) then{life_actions pushBack(_asy_obj addAction["<t color='#00FF00'>Activate Nitro</t>",{[vehicle player]call life_fnc_activateNitro},nil,2,false,false,"",' (vehicle player != player) && (driver vehicle player == player) && (((vehicle player) getVariable ["ga_nitro", 0]) > 0) ',-1]);};life_actions pushBack(_asy_obj addAction["<t color='#FF0000'>Repair Vehicle</t>",{[cursorObject]call life_fnc_repairTruck},nil,0,false,false,"",' (isNull objectParent player) && !isNull cursorObject && alive cursorObject && ((cursorObject isKindOf "Car") || (cursorObject isKindOf "Air") || (cursorObject isKindOf "Ship")) && (player distance cursorObject < 4.5) ',6]);life_actions pushBack(_asy_obj addAction["Unflip Vehicle",{[cursorObject]call life_fnc_flip},"",-1,false,false,"",'(cursorObject isKindOf "Car" || cursorObject isKindOf "Air") && (vehicle player == player) && (player distance cursorObject < 8) && (local cursorObject || cursorObject in life_vehicles || vectorUp cursorObject select 2 < 0.6 || vectorUp cursorObject select 1 > 0.2 || vectorUp cursorObject select 1 < -0.2) && (speed cursorObject < 1)',6]);life_actions pushBack(_asy_obj addAction["Pick Up Item(s)",{[cursorObject]call life_fnc_menuPickupItems},nil,1.5,false,false,"",' !isNull cursorObject && count (cursorObject getVariable ["ga_droppedItems",[]]) > 0 && player distance cursorObject < 5 ',6]);life_actions pushBack(_asy_obj addAction["Push Back",life_fnc_pushObject,"",0,false,false,"",'!isNull cursorTarget && player distance cursorTarget < 6 && (cursorTarget isKindOf "Ship" || cursorTarget isKindOf "Plane")',6]);if(life_inv_bloodbag>0) then{life_actions pushBack(_asy_obj addAction["<t color='#FF0000'>Blood Transfusion Self</t>",life_fnc_bloodbag,player,-1,false,false,"",'isNull objectParent player && ((playerSide in [independent, civilian] && damage player > 0) || ((94 in life_side_talents) && damage player > 0.2) || ((95 in life_side_talents) && damage player > 0.1) || ((96 in life_side_talents) && damage player > 0)) && (life_inv_bloodbag > 0)',6]);life_actions pushBack(_asy_obj addAction["<t color='#FF0000'>Give Blood Transfusion</t>",life_fnc_bloodbag,cursorObject,-1,false,false,"",'isPlayer cursorObject && isNull objectParent player && ((playerSide in [independent, civilian] && damage cursorObject > 0) || ((94 in life_side_talents) && damage player > 0.2) || ((95 in life_side_talents) && damage player > 0.1) || ((96 in life_side_talents) && damage cursorObject > 0)) && (life_inv_bloodbag > 0)',6]);};if(life_inv_firstAidKit>0) then{life_actions pushBack(_asy_obj addAction["<img image='\A3\Weapons_F\Items\data\UI\gear_FirstAidKit_CA' /> <t color='#65ff57'>Treat Yourself</t>",life_fnc_medKit,player,-1,false,false,"",'isNull objectParent player && ((damage player > 0.25) || (player getHit "legs" >= 0.5)) && (life_inv_firstAidKit > 0)',6]);life_actions pushBack(_asy_obj addAction["<img image='\A3\Weapons_F\Items\data\UI\gear_FirstAidKit_CA' /> <t color='#65ff57'>Treat Player</t>",life_fnc_medKit,cursorObject,-1,false,false,"",'isPlayer cursorObject && isNull objectParent player && (player distance cursorObject <= 2) && (damage cursorObject > 0.25) && (life_inv_firstAidKit > 0)',6]);};if((life_inv_canna_papers>0)||(life_inv_canna_bong>0)||(life_inv_canna_rig>0)||(life_inv_canna_vape>0)||(life_inv_canna_joint>0)||(life_inv_canna_prejoint>0)) then{life_actions pushBack(_asy_obj addAction[format["<img image='mpmissions\__cur_mp.%1\icons\canna_rawpapers.paa' /> <t color='#8b2b13'>Roll Joints with Raw Papers</t>",toLower worldName],{["canna_papers"]spawn life_fnc_cannabisItems},"",0,false,false,"",'(life_inv_canna_papers > 0) && ((life_inv_cannas_3 > 0) || (life_inv_cannai_3 > 0) || (life_inv_marijuana > 0) || (life_inv_marijuanam > 0)) && !(player getVariable ["ga_cannabisUsing", false])',6]);life_actions pushBack(_asy_obj addAction[format["<img image='mpmissions\__cur_mp.%1\icons\canna_bong.paa' /> <t color='#8bfdee'>Take Bong Rip</t>",toLower worldName],{["canna_bong"]spawn life_fnc_cannabisItems},"",0,false,false,"",'(life_inv_canna_bong > 0) && ((life_inv_cannas_3 > 0) || (life_inv_cannai_3 > 0) || (life_inv_marijuana > 0) || (life_inv_marijuanam > 0)) && !(player getVariable ["ga_cannabisUsing", false])',6]);life_actions pushBack(_asy_obj addAction[format["<img image='mpmissions\__cur_mp.%1\icons\canna_rig.paa' /> <t color='#ffda3f'>Take Dab With Glass Rig</t>",toLower worldName],{["canna_rig"]spawn life_fnc_cannabisItems},"",0,false,false,"",'(life_inv_canna_rig > 0) && (life_inv_canna_dab > 0) && !(player getVariable ["ga_cannabisUsing", false])',6]);life_actions pushBack(_asy_obj addAction[format["<img image='mpmissions\__cur_mp.%1\icons\canna_vape.paa' /> <t color='#ff547f'>Rip Wax Pen</t>",toLower worldName],{["smokeWeedJointOrVape",[true]]spawn life_fnc_cannabisItems},"",0,false,false,"",'(life_inv_canna_vape > 0) && !(player getVariable ["ga_cannabisUsing", false])',6]);life_actions pushBack(_asy_obj addAction[format["<img image='mpmissions\__cur_mp.%1\icons\canna_joint.paa' /> <t color='#ca73fb'>Smoke Rolled Joint</t>",toLower worldName],{["smokeWeedJointOrVape",[false,"canna_joint"]]spawn life_fnc_cannabisItems},"",0,false,false,"",'(life_inv_canna_joint > 0) && !(player getVariable ["ga_cannabisUsing", false])',6]);life_actions pushBack(_asy_obj addAction[format["<img image='mpmissions\__cur_mp.%1\icons\canna_preroll.paa' /> <t color='#ca73fb'>Smoke Pre-Roll</t>",toLower worldName],{["smokeWeedJointOrVape",[false,"canna_prejoint"]]spawn life_fnc_cannabisItems},"",0,false,false,"",'(life_inv_canna_prejoint > 0) && !(player getVariable ["ga_cannabisUsing", false])',6]);};life_actions pushBack(_asy_obj addAction["Pull Out Unconscious",{private _vehicle=cursorObject;private _vehicleCrew=crew _vehicle-[driver _vehicle];private _locked=locked _vehicle;_vehicle lock 0;player moveInDriver _vehicle;moveOut player;player MoveInTurret[_vehicle,[0]];{moveOut player;player moveInCargo[_vehicle,_vehicle getCargoIndex _x];}forEach _vehicleCrew;[_vehicle,_locked]spawn{params["_vehicle","_locked"];uiSleep 1.5;player action["Eject",vehicle player];moveOut player;if(_locked isEqualTo 2) then{_vehicle lock 2};};},cursorTarget,0,false,false,"",' !isNull cursorTarget && (isNull objectParent player) && alive cursorTarget && (player distance cursorTarget) < 4 && (count crew cursorTarget) > 0 && {!alive _x} count crew cursorTarget > 0 && (cursorTarget isKindOF "Car" || cursorTarget isKindOf "Ship" || cursorTarget isKindOf "Air")',6]);};if!(life_scrollDisabled) then{switch(playerSide) do{case civilian:{life_actions pushBack(_asy_obj addAction["<t color='#FF0000'>Use Defibrillator</t>",life_fnc_revivePlayer,cursorObject,-1,false,true,"",'!isNull cursorObject && cursorObject isKindOf "CAManBase" && !(alive cursorObject) && (cursorObject getVariable ["ga_revivable",false] || ((cursorObject getVariable ["ga_group",grpNull] isEqualTo group player) && !(isNull (cursorObject getVariable ["ga_group",grpNull])))) && life_inv_defib > 0 && (player distance cursorObject) < 3.5 && (isNull objectParent player) && (isNull objectParent cursorObject)',6]);