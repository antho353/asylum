};private _packet=[getPlayerUID player,profileName,playerSide,life_cash,life_atmcash];_packet pushBack life_side_talents;_packet pushBack life_side_exp;if(((life_is_arrested select 0) isEqualTo 0)&&(player distance(getMarkerPos"respawn_west")>1000)) then{[false]call life_fnc_saveGear;if((life_lastSynced_gear!=str(life_gear))&&(life_clothing_store isEqualTo"")) then{[3]call life_fnc_ClupdatePartial;};};if(asyv_tempStats findIf{_x>0}isNotEqualTo-1) then{asyv_savedStats=asyv_tempStats;private _updateArray=[];{if(_x isNotEqualTo 0) then{_updateArray pushBack[_forEachIndex,_x];};}forEach asyv_savedStats;[[getPlayerUID player,_updateArray],"TON_fnc_statTableUpdate",2]spawn life_fnc_MP;asyv_tempStats=+asyv_defaultStats;asyv_savedStats=+asyv_defaultStats;};private _syncQuest=false;if(!(life_LifetimeProgressQuests isEqualTo[])&&!(life_lastSynced_LifetimeProgressQuests isEqualTo life_LifetimeProgressQuests)) then{_syncQuest=true};if!(life_lastSynced_completedLifetimeQuests isEqualTo life_completedLifetimeQuests) then{_syncQuest=true};if(_syncQuest) then{[20]call life_fnc_ClupdatePartial};[1]call life_fnc_questSync;switch(playerSide) do{case civilian:{profileNamespace setVariable["ga_thirst",asyv_thirst];profileNamespace setVariable["ga_hunger",asyv_hunger];profileNamespace setVariable["ga_playerDir",getDir vehicle player];profileNamespace setVariable["ga_playerDamage",getDammage player];if(alive player&&((player distance getMarkerPos("respawn_civilian"))>1500)&&(player distance[0,0,0]>1000)) then{private _noSyncZones=[["life_bank_door",55],["fed_reserve",185],["armory_marker",220]];if(!(alive player)||(({(player distance(getMarkerPos(_x select 0)))<=(_x select 1)}count _noSyncZones) isEqualTo 0)) then{private _pos=getPosATL player;if(vehicle player isKindOf"Air") then{_pos set[2,1];};private _randomSyncZone=[["arms_cartel",200],["drug_cartel",200],["oil_cartel",200],["wongs_cartel",200],["life_mentalHospital",200]];{_x params["_marker","_distance"];if((player distance(getMarkerPos _marker))<=(_distance)) exitWith{_pos=[getMarkerPos _marker,250,300,3,0,1,0]call BIS_fnc_findSafePos;_pos set[2,1];};}forEach _randomSyncZone;_pos=if(surfaceIsWater _pos) then{getPosASL player}else{_pos};life_ses_last_pos=_pos;};}else{life_ses_last_pos=[];};_packet pushBack life_ses_last_pos;};};if(life_lastUpdateRequest==format["%1",_packet]) exitWith{};life_lastUpdateRequest=format["%1",_packet];[_packet,"DB_fnc_updateRequest",false,false]spawn life_fnc_MP;