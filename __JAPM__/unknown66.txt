params[["_caseType","",[""]],"_boomBoxData"];private _subscriber=call life_subscribed;switch(_caseType) do{case("initBoomBox"):{if!(_subscriber) exitWith{["Only Asylum Subscribers can use boom boxes!"]spawn life_fnc_handleMessage};_boomBoxData params[["_boomBox",objNull,[objNull]]];if(typeOf _boomBox isNotEqualTo"Land_BatteryPack_01_closed_black_F") exitWith{};_boomBox setVariable["ga_boomBoxData",[player,getPlayerUID player,profileName,""],true];["Your boom box is now ready for music to be played! Your boombox will automatically delete in 10 minutes!"]spawn life_fnc_handleMessage;[[_boomBox,600],"TON_fnc_setCleanTime",2]spawn life_fnc_MP;life_boomBox=_boomBox;};case("deleteBoomBox"):{_boomBoxData params[["_boomBox",objNull,[objNull]]];(_boomBox getVariable["ga_boomBoxData",[]]) params[["_boomBoxOwnerObj",objNull,[objNull]],["_boomBoxOwnerUID","",[""]],["_boomBoxOwnerName","",[""]],["_boomBoxCurrentSong","",[""]],["_boomBoxCurrentSongDelay",0,[0]],["_boomBoxCurrentSongStartedServerTime",0,[0]]];if(_boomBoxOwnerUID isNotEqualTo(getPlayerUID player)) exitWith{};if(typeOf _boomBox isNotEqualTo"Land_BatteryPack_01_closed_black_F") exitWith{};private _dialogQuestion=["Are you sure you want to delete your Boom Box?","Boom Box MP3","Yes","No"]call BIS_fnc_guiMessage;if!(_dialogQuestion) exitWith{};deleteVehicle _boomBox;life_boomBox=objNull;};case("startMusic"):{if!(_subscriber) exitWith{["Only Asylum Subscribers can change music on a boom box!"]spawn life_fnc_handleMessage};_boomBoxData params[["_boomBox",objNull,[objNull]]];(_boomBox getVariable["ga_boomBoxData",[]]) params[["_boomBoxOwnerObj",objNull,[objNull]],["_boomBoxOwnerUID","",[""]],["_boomBoxOwnerName","",[""]],["_boomBoxCurrentSong","",[""]],["_boomBoxCurrentSongDelay",0,[0]],["_boomBoxCurrentSongStartedServerTime",0,[0]]];if(_boomBoxOwnerUID isNotEqualTo(getPlayerUID player)) exitWith{};if(typeOf _boomBox isNotEqualTo"Land_BatteryPack_01_closed_black_F") exitWith{};private _songs=[["NCS | Alan Walker - Fade","alanWalkerFade",80],["Deaf Kev - Invincible","deafKevInvincible",98],["Different Heaven - My Heart","differentHeaven",92]];if(call life_donorLevel>=7) then{_songs append[["Shipwrek and Zookeepers - Ark","ShipwrekZooKeepersArk",109],["Daniel Levi and Cartoon - On and On","cartoonOnOn",82]];};private _chosenSong=["","",0];{if(_chosenSong isNotEqualTo["","",0]) exitWith{};private _dialogQuestion=[format["Would you like to play %1?",_x param[0,""]],"Boom Box MP3","Yes","No"]call BIS_fnc_guiMessage;if(_dialogQuestion) exitWith{_chosenSong=_x};}forEach _songs;if(_chosenSong isEqualTo["","",0]) exitWith{};_chosenSong params["_songDisplayName","_soundFile","_loopDelay"];_boomBox setVariable["ga_boomBoxData",[player,getPlayerUID player,profileName,_soundFile,_loopDelay,serverTime],true];