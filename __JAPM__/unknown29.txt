#include"..\..\..\..\..\..\..\macro.h"
if(life_isActiveFirefighter) exitWith{["You can't open your inventory while actively being a firefighter"]spawn life_fnc_handleMessage;true;};if(((call life_adminLevel)>=2)&&{life_adminMode}) exitWith{false;};params[["_unit",objNull,[objNull]],["_container",objNull,[objNull]]];if(isNull _container) exitWith{false;};if(_container isKindOf"Bag_Base"&&cursorTarget getVariable["ga_surrendered",false]) exitWith{false;};if(_container isKindOf"Bag_Base"&&!(cursorTarget getVariable["ga_surrendered",false])&&playerSide!=west) exitWith{["No stealing allowed!","basic"]spawn life_fnc_handleMessage;true;};if(_container getVariable["ga_dominationJug",false]) exitWith{false};if(_container isKindOf"CAManBase") exitWith{true;};if(scriptAvailable(2)) exitWith{["Wait a bit before attempting to open the inventory again."]spawn life_fnc_handleMessage;true};if(life_action_in_use) exitWith{["You're currently doing a different action..","basic"]spawn life_fnc_handleMessage;true};if(life_inEvent) exitWith{true;};private _nearestCrate=nearestObject[player,"B_CargoNet_01_ammo_F"];if(!isNull _nearestCrate&&{_nearestCrate getVariable["ga_rebelAirDrop",false]&&(player distance _nearestCrate)<6&&life_airDrop_last>serverTime-600}) exitWith{[format["The crate is still locked for another %1 minutes. Check back frequently!",ceil(((life_airDrop_last+600)-serverTime)/60)],"basic"]spawn life_fnc_handleMessage;true;};private _nearestCrate=nearestObject[player,"Box_FIA_Ammo_F"];if(!(isNull _nearestCrate)&&(_nearestCrate getVariable["ga_ufoLoot",false])&&((SRV_ufoCrash select 2)>serverTime-900)) exitWith{[format["This radiated loot is unstable right now. Try in another %1 minutes. Check back frequently!",ceil((((SRV_ufoCrash select 2)+900)-serverTime)/60)],"basic"]spawn life_fnc_handleMessage;true;};private _nearestCrate=nearestObject[player,"VirtualReammoBox_F"];